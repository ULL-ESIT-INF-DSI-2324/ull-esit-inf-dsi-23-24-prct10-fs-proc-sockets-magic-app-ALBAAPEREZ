<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-albaaperez</title><meta name="description" content="Documentation for ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-albaaperez"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-albaaperez</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-albaaperez</h2></div><div class="tsd-panel tsd-typography"><a id="md:práctica-10----aplicación-cliente-servidor-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:práctica-10----aplicación-cliente-servidor-para-coleccionistas-de-cartas-magic">PRÁCTICA 10 -  Aplicación cliente-servidor para coleccionistas de cartas Magic</a></h1><hr>
<p><strong>Nombre:</strong> Alba Pérez Rodríguez</p>
<p><strong>Fecha:</strong> 06/04/2024</p>
<p><strong>Estudios:</strong> Ingeniería Informática</p>
<p><strong>Asignatura:</strong> Desarrollo en Sistemas Informáticos</p>
<p><strong>Profesor:</strong> Eduardo Manuel Segredo González</p>
<hr>
<a id="md:índice" class="tsd-anchor"></a><h1><a href="#md:índice">Índice</a></h1><ol>
<li><a href="#md:1-introducción">Introducción</a></li>
<li><a href="#md:2-objetivos">Objetivos</a></li>
<li><a href="#md:3-antes-de-empezar">Antes de empezar</a></li>
<li><a href="#md:4-configuracion-de-istambul-y-coveralls">Configuración de Istambul y coveralls</a></li>
<li><a href="#md:5-principios-solid">Principios SOLID</a></li>
<li><a href="#md:6-github-actions">GitHub Actions</a></li>
<li><a href="#md:7-módulos">Modulos</a></li>
<li><a href="#md:8-sonarcloud">SonarCloud</a></li>
<li><a href="#md:9-yargs-y-chalk">Yargs y Chalk</a></li>
<li><a href="#md:10-api-sincrona-de-nodejs">API sincrona de Node.js</a></li>
<li><a href="#md:11-ejercicio">Ejercicio</a></li>
<li><a href="#md:12-modificación">Modificación</a></li>
<li><a href="#md:9-conclusiones">Conclusiones</a></li>
</ol>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-ALBAAPEREZ/actions/workflows/coveralls.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-ALBAAPEREZ/actions/workflows/coveralls.yml/badge.svg" alt="Coveralls"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-ALBAAPEREZ/actions/workflows/sonarcloud.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-ALBAAPEREZ/actions/workflows/sonarcloud.yml/badge.svg" alt="Sonar-Cloud"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-ALBAAPEREZ/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-ALBAAPEREZ/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-ALBAAPEREZ/actions/workflows/pages/pages-build-deployment"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-ALBAAPEREZ/actions/workflows/pages/pages-build-deployment/badge.svg" alt="pages-build-deployment"></a></p>
<hr>
<a id="md:1-introducción" class="tsd-anchor"></a><h1><a href="#md:1-introducción">1. Introducción.</a></h1><p>En esta práctica, hemos creado una aplicación cliente-servidor para coleccionistas de cartas Magic. Utilizando el módulo net de Node.js, hemos implementado sockets que permiten la comunicación simultánea de múltiples usuarios con el servidor. La aplicación ofrece funcionalidades como añadir, modificar, eliminar, listar y mostrar cartas, con los datos almacenados en ficheros JSON en el sistema de archivos del servidor. En este informe, detallaré las decisiones de diseño que tomamos durante el desarrollo, así como las herramientas y metodologías utilizadas para asegurar la calidad del software.</p>
<hr>
<a id="md:2-objetivos" class="tsd-anchor"></a><h1><a href="#md:2-objetivos">2. Objetivos</a></h1><p>Los objetivos de esta práctica son:</p>
<ol>
<li><p>En esta práctica, se desarrollará una aplicación cliente-servidor para gestionar colecciones de cartas Magic de forma eficiente.</p>
</li>
<li><p>La aplicación permitirá a los usuarios realizar operaciones como añadir, modificar, eliminar, listar y leer la información de las cartas a través de una interfaz de línea de comandos.</p>
</li>
<li><p>Se utilizarán los paquetes <code>yargs</code> y <code>chalk</code> para facilitar la interacción con la línea de comandos y mejorar la presentación de la información.</p>
</li>
<li><p>El servidor será responsable de hacer persistente la información de las cartas, almacenándolas en archivos JSON en el sistema de archivos del servidor.</p>
</li>
<li><p>Se pondrá énfasis en garantizar la validación de los datos de entrada y el manejo adecuado de errores tanto en el cliente como en el servidor.</p>
</li>
<li><p>El código será documentado utilizando TypeDoc para mejorar su legibilidad y comprensión.</p>
</li>
<li><p>Se implementarán pruebas unitarias para cubrir los diferentes casos de uso de la aplicación, asegurando su robustez y fiabilidad.</p>
</li>
</ol>
<hr>
<a id="md:3-antes-de-empezar" class="tsd-anchor"></a><h1><a href="#md:3-antes-de-empezar">3. Antes de empezar</a></h1><p>Antes de comenzar con la resolución de ejercicios de la práctica deberemos poner a punto nuestro entorno de trabajo. Para ello, lo haremos siguiendo los siguientes pasos:</p>
<a id="md:creación-de-directorios" class="tsd-anchor"></a><h2><a href="#md:creación-de-directorios">Creación de directorios.</a></h2><p>Crearemos los siguientes directorios para nuestro proyecto:</p>
<ul>
<li><p><strong>src/:</strong> Este directorio almacenará los archivos fuente de TypeScript. En este caso, el código fuente escrito en TypeScript se encuentra en el directorio src.</p>
</li>
<li><p><strong>dist/:</strong> Este directorio se utilizará para almacenar los archivos JavaScript generados por el compilador de TypeScript. La compilación de TypeScript produce código JavaScript, y este código se guarda en el directorio dist.</p>
</li>
</ul>
<a id="md:configuración-para-llevar-a-cabo-la-práctica" class="tsd-anchor"></a><h2><a href="#md:configuración-para-llevar-a-cabo-la-práctica">Configuración para llevar a cabo la práctica:</a></h2><p>Necesitaremo inicializar el proyecto con <em><strong>npm</strong></em>, para ello seguiremos los pasos siguientes:</p>
<p><strong>Paso 1:</strong></p>
<p>Utilizamos el comando *<strong>npm init --yes</strong> para generar un archivo <strong>package.json</strong>. Este archivo contiene la información del proyecto, incluidas las dependencias y scripts.</p>
<pre><code class="language-bash"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;name&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;ull-esit-inf-dsi-23-24-prct04-arrays-tuples-enums-albaaperez&quot;,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;version&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;1.0.0&quot;,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;description&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;&quot;,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;main&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;index.js&quot;,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;scripts&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">{</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;start&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;tsc-watch --onSuccess </span><span class="hl-3">\&quot;</span><span class="hl-2">node dist/index.js</span><span class="hl-3">\&quot;</span><span class="hl-2">&quot;,</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;keywords&quot;</span><span class="hl-1">:</span><span class="hl-0"> [],</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;author&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;&quot;,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;license&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;ISC&quot;,</span><br/><span class="hl-0">}</span><br/>
</code><button>Copy</button></pre>
<p><strong>Paso 2:</strong></p>
<p>Instalación del Compilador de TypeScript. Se instala el compilador de TypeScript globalmente con el comando <em><strong>npm install --global typescript</strong></em>.</p>
<p><strong>Paso 3:</strong></p>
<p>Configuración del Compilador con tsconfig.json. Se crea un archivo de configuración llamado <strong>tsconfig.json</strong> en la raíz del proyecto. Este archivo especifica opciones para el compilador de TypeScript, como el directorio de entrada <strong>(rootDir)</strong> y el directorio de salida <strong>(outDir)</strong>.</p>
<pre><code class="language-bash"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;exclude&quot;</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;./tests&quot;</span><span class="hl-1">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;./node_modules&quot;</span><span class="hl-1">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;./dist&quot;</span><br/><span class="hl-0">  ],</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;compilerOptions&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">{</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;target&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;es2022&quot;,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;module&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;commonjs&quot;,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;declaration&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-2">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;rootDir&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;./src&quot;,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;outDir&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;./dist&quot;,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;noImplicitAny&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-2">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;strictNullChecks&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-2">,</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;noImplicitReturns&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<p><strong>Paso 4:</strong></p>
<p>Instalación de tsc-watch para Compilación Automática. Se instala tsc-watch como una dependencia de desarrollo con el comando <strong>npm install --save-dev tsc-watch</strong>.</p>
<p><strong>Paso 5:</strong> </p>
<p>Modificamos la sección de scripts en <strong>package.json</strong> para utilizar tsc-watch y ejecutar el código compilado solo si la compilación es exitosa.</p>
<pre><code class="language-bash"><span class="hl-1">&quot;scripts&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><br/><span class="hl-0">    </span><span class="hl-1">&quot;start&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;tsc-watch --onSuccess </span><span class="hl-3">\&quot;</span><span class="hl-2">node dist/index.js</span><span class="hl-3">\&quot;</span><span class="hl-2">&quot;</span>
</code><button>Copy</button></pre>
<p><strong>Paso 6:</strong>
Ejecutamos el comando <strong>npm start</strong>, que utiliza <strong>tsc-watch</strong> para observar cambios en los archivos de origen y compilar automáticamente.</p>
<a id="md:instalación-de-eslint" class="tsd-anchor"></a><h2><a href="#md:instalación-de-eslint">Instalación de ESlint.</a></h2><p>ESLint, un linter muy conocido para trabajar con JavaScript y TypeScript. Para instalarlo haremos lo siguiente:</p>
<ol>
<li><strong>Instalación de ESLint</strong>:</li>
</ol>
<ul>
<li>Instalamos el ESLint de manera global utilizando el comando <em><strong>npm i -g eslint</strong></em>.</li>
<li>Verificamos la instalación con <strong>eslint --version</strong>.</li>
</ul>
<ol start="2">
<li><strong>Configuración de ESLint</strong>:</li>
</ol>
<ul>
<li>Iniciamos la configuración de ESLint con el comando <em><strong>eslint --init</strong></em>.</li>
<li>Durante la configuración, se elige el tipo de proyecto, el sistema de módulos, el framework (en este caso, ninguno), si se utiliza TypeScript, el entorno de ejecución (Node.js), el formato del archivo de configuración (JSON), y se instalan las dependencias necesarias.</li>
</ul>
<ol start="3">
<li><strong>Archivo de Configuración de ESLint</strong>:</li>
</ol>
<ul>
<li>Configuraremos el archivo de configuración <strong>.eslintrc.json</strong>, que indica el entorno, las extensiones recomendadas (como eslint:recommended y plugin:@typescript-eslint/recommended), el parser de TypeScript, y la configuración de reglas. Se verá de la siguiente manera:</li>
</ul>
<pre><code class="language-bash"><span class="hl-0">  </span><span class="hl-1">&quot;env&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">{</span><br/><span class="hl-0">      </span><span class="hl-1">&quot;es2021&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-2">,</span><br/><span class="hl-0">      </span><span class="hl-1">&quot;node&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-4">true</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;extends&quot;</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">      </span><span class="hl-1">&quot;eslint:recommended&quot;</span><span class="hl-1">,</span><br/><span class="hl-0">      </span><span class="hl-1">&quot;plugin:@typescript-eslint/recommended&quot;</span><span class="hl-1">,</span><br/><span class="hl-0">      </span><span class="hl-1">&quot;prettier&quot;</span><br/><span class="hl-0">  ],</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;overrides&quot;</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">  ],</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;parser&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;@typescript-eslint/parser&quot;,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;parserOptions&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">{</span><br/><span class="hl-0">      </span><span class="hl-1">&quot;ecmaVersion&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;latest&quot;</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;plugins&quot;</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">      </span><span class="hl-1">&quot;@typescript-eslint&quot;</span><br/><span class="hl-0">  ],</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;rules&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">{</span><br/><span class="hl-0">      </span><span class="hl-1">&quot;require-jsdoc&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;off&quot;,</span><br/><span class="hl-0">      </span><span class="hl-1">&quot;valid-jsdoc&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;off&quot;</span><br/><span class="hl-0">  }</span>
</code><button>Copy</button></pre>
<ol start="4">
<li><strong>Personalización de Reglas</strong></li>
</ol>
<ul>
<li>Editamos el archivo de configuración para activar, desactivar o personalizar reglas específicas según las necesidades del proyecto.</li>
</ul>
<ol start="5">
<li><strong>Ignorar Archivos:</strong></li>
</ol>
<ul>
<li>Creamos un archivo <strong>.eslintignore</strong> para especificar qué archivos y directorios deben ser ignorados por ESLint.</li>
</ul>
<ol start="6">
<li><strong>Ejecución de ESLint:</strong></li>
</ol>
<ul>
<li>Ejecutamos ESLint en el proyecto con el comando <strong>eslint .</strong>, y se muestra cómo se informan los problemas detectados.</li>
</ul>
<ol start="7">
<li><strong>Formateo del Código con Prettier:</strong></li>
</ol>
<ul>
<li>Instalamos Prettier y eslint-config-prettier para desactivar reglas de formato en ESLint.</li>
<li>Configuramos el ESLint para integrarse con Prettier añadiendo &quot;prettier&quot; a la lista de extensiones en el archivo de configuración.</li>
<li>Se crea un archivo de configuración de Prettier (.prettierrc.json) y un archivo de ignorar (.prettierignore).</li>
</ul>
<hr>
<a id="md:typedoc" class="tsd-anchor"></a><h2><a href="#md:typedoc">Typedoc.</a></h2><p><em><strong>TypeDoc</strong></em> es una herramienta de generación de documentación para proyectos TypeScript. Proporciona una forma eficiente de documentar el código fuente y generar automáticamente documentación en formato HTML. A continuación, se presenta una breve introducción a TypeDoc y cómo se puede utilizar en el contexto de esta práctica.</p>
<a id="md:instalación-de-la-herramienta" class="tsd-anchor"></a><h3><a href="#md:instalación-de-la-herramienta">Instalación de la herramienta.</a></h3><p>Podemos instalar TypeDoc utilizando <em><strong>npm</strong></em> (Node Package Manager). Abrimos la terminal y ejecutamos el siguiente comando:</p>
<pre><code class="language-bash"><span class="hl-1">npm</span><span class="hl-0"> </span><span class="hl-2">install</span><span class="hl-0"> </span><span class="hl-4">--save-dev</span><span class="hl-0"> </span><span class="hl-2">typedoc</span>
</code><button>Copy</button></pre>
<p>Este comando instalará TypeDoc como una dependencia de desarrollo en el proyecto.</p>
<a id="md:uso-básico" class="tsd-anchor"></a><h3><a href="#md:uso-básico">Uso básico.</a></h3><p>Para generar documentación con TypeDoc, simplemente ejecutamos el siguiente comando en la terminal desde el directorio de su proyecto:</p>
<pre><code class="language-bash"><span class="hl-1">npx</span><span class="hl-0"> </span><span class="hl-2">typedoc</span>
</code><button>Copy</button></pre>
<p>Otra forma de hacerlo, es en el compilador, cuyo fichero es <em><strong>package.json</strong></em>. Aquí especificaremos la siguiente línea en el apartado de <strong>scripts</strong>:</p>
<pre><code class="language-bash"><span class="hl-1">&quot;doc&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;typedoc&quot;</span>
</code><button>Copy</button></pre>
<a id="md:configuración" class="tsd-anchor"></a><h3><a href="#md:configuración">Configuración.</a></h3><p><strong>TypeDoc</strong> puede configurarse utilizando un archivo <em><strong>typedoc.json</strong></em> en la raíz del proyecto. Aquí podemos especificar la configuración específica que deseamos para la documentación. </p>
<p><strong>Paso 1: Crear el archivo typedoc.json:</strong></p>
<p>En la raíz de nuestro proyecto crearemos a mano un archivo denominado <strong>typedoc.json</strong>.
Este es un archivo de configuración para TypeDoc.</p>
<p><strong>Paso 2: Configuración específica:</strong></p>
<p>Una vez creado el fichero, dentro escribiremos lo siguiente:</p>
<pre><code class="language-bash"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;entryPoints&quot;</span><span class="hl-1">:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;./src/**/*.ts</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">  &quot;</span><span class="hl-1">out</span><span class="hl-1">&quot;: &quot;</span><span class="hl-1">./docs</span><span class="hl-1">&quot;,</span><br/><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Este archivo de configuración le dice a TypeDoc qué archivos deben considerarse para la <strong>generación de documentación</strong>, en este caso, todos los ficheros de los ejercicios realizados y, <strong>dónde debe colocar esa documentación generada</strong>, en nuestro directorio /docs. Cuando ejecutemos <strong>npx typedoc</strong> desde la terminal, TypeDoc utilizará esta configuración para procesar los archivos de entrada y generar la documentación en el directorio especificado.</p>
<p>Configurado TypeDoc podremos ejecutarlo desde la terminal con el comando:</p>
<pre><code class="language-bash"><span class="hl-1">npm</span><span class="hl-0"> </span><span class="hl-2">run</span><span class="hl-0"> </span><span class="hl-2">doc</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:mocha-y-chai" class="tsd-anchor"></a><h2><a href="#md:mocha-y-chai">mocha y chai</a></h2><p><em><strong>Mocha y Chai</strong></em> son herramientas populares para realizar pruebas unitarias en proyectos JavaScript y TypeScript. Mocha es un marco de ejecución de pruebas y Chai es una biblioteca de aserciones que se integra bien con Mocha. Aquí hay una breve introducción sobre cómo comenzar con Mocha y Chai.</p>
<a id="md:instalación-de-las-herramientas" class="tsd-anchor"></a><h3><a href="#md:instalación-de-las-herramientas">Instalación de las herramientas.</a></h3><p>En primer lugar, instalaremos Mocha y Chai como dependencias de desarrollo en nuestro proyecto con el comando:</p>
<pre><code class="language-bash"><span class="hl-0"> </span><span class="hl-1">npm</span><span class="hl-0"> </span><span class="hl-2">install</span><span class="hl-0"> </span><span class="hl-4">--save-dev</span><span class="hl-0"> </span><span class="hl-2">mocha</span><span class="hl-0"> </span><span class="hl-2">chai@4.4.1</span><span class="hl-0"> </span><span class="hl-2">@types/mocha</span><span class="hl-0"> </span><span class="hl-2">@types/chai</span><span class="hl-0"> </span><span class="hl-2">ts-node</span>
</code><button>Copy</button></pre>
<ul>
<li>mocha: El marco de ejecución de pruebas.</li>
<li>chai: Una biblioteca de aserciones. Le especificaremos la versión anterior para trabajar de forma correcta con chai.</li>
<li>@types/mocha y @types/chai: Tipos TypeScript para Mocha y Chai.</li>
<li>ts-node: Permite ejecutar archivos TypeScript directamente en Node.js.</li>
</ul>
<p>Hecho esto, crearemos un fichero denominado <em><strong>.mocharc.json</strong></em>. Este fichero se utiliza para especificar configuraciones personalizadas para la ejecución de pruebas con Mocha.
Este contendrá lo siguiente:</p>
<pre><code class="language-bash"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;extension&quot;</span><span class="hl-1">:</span><span class="hl-0"> [</span><span class="hl-2">&quot;ts&quot;</span><span class="hl-0">],</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;spec&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;tests/**/*.spec.ts&quot;,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;require&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;ts-node/register&quot;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<ul>
<li><strong>&quot;extension&quot;</strong> --&gt; Mocha reconocerá los archivos con la extensión .ts como archivos de prueba TypeScript.</li>
<li><strong>&quot;spec&quot;</strong> --&gt; Mocha buscará los archivos de prueba en la carpeta tests y sus subdirectorios (**/) que tengan la extensión .spec.ts.</li>
<li><strong>&quot;require&quot;</strong> --&gt; antes de ejecutar las pruebas, se debe registrar el módulo ts-node para permitir la ejecución de archivos TypeScript directamente en Mocha.</li>
</ul>
<a id="md:estructura-de-las-pruebas" class="tsd-anchor"></a><h3><a href="#md:estructura-de-las-pruebas">Estructura de las pruebas.</a></h3><p>En nuestro directorio raíz crearemos un nuevo directorio denominado <strong>/tests</strong> que contendrá nuestros archivos para las pruebas. Nuestros directorios deberán quedar de una forma similar a esta:</p>
<pre><code class="language-bash"><span class="hl-1">/proyecto</span><br/><span class="hl-0">  </span><span class="hl-1">/src</span><br/><span class="hl-0">    </span><span class="hl-1">/EJERCICIO1</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">interfaz.ts</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">clase.ts</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">index.ts</span><br/><span class="hl-0">    </span><span class="hl-1">/EJERCICIO2</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">clase1.ts</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">clase2.ts</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">index.ts</span><br/><span class="hl-0">    </span><span class="hl-1">...</span><br/><span class="hl-0">  </span><span class="hl-1">/test</span><br/><span class="hl-0">    </span><span class="hl-1">/EJERCICIO1</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">interfaz.spec.ts</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">clase.spec.ts</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">index.spec.ts</span><br/><span class="hl-0">    </span><span class="hl-1">/EJERCICIO2</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">clase1.spec.ts</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">clase2.spec.ts</span><br/><span class="hl-0">      </span><span class="hl-1">-</span><span class="hl-0"> </span><span class="hl-2">index.spec.ts</span><br/><span class="hl-0">    </span><span class="hl-1">...</span><br/>
</code><button>Copy</button></pre>
<a id="md:escribir-las-pruebas" class="tsd-anchor"></a><h3><a href="#md:escribir-las-pruebas">Escribir las pruebas.</a></h3><p>Por último, lo que deberemos hacer será escribir las pruebas en esos ficheros que vamos a crear terminados en <strong>.spec.ts</strong>. La importancion de mocha y chai en nuestro archivos de prueba serán:</p>
<pre><code class="language-bash"><span class="hl-1">import</span><span class="hl-0"> </span><span class="hl-2">&#39;mocha&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> </span><span class="hl-2">{expect}</span><span class="hl-0"> </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chai&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> </span><span class="hl-2">{</span><span class="hl-0"> </span><span class="hl-2">mcd</span><span class="hl-0"> </span><span class="hl-2">}</span><span class="hl-0"> </span><span class="hl-2">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../src/EJERCICIO1&#39;</span><span class="hl-0">;</span>
</code><button>Copy</button></pre>
<ul>
<li>Utilizamos <strong>describe</strong> para agrupar las pruebas relacionadas</li>
<li>Cada prueba se crea con <strong>it</strong>.</li>
<li>Usamos las aserciones de Chai, por ejemplo, <strong>expect(result).to.be.undefined.</strong></li>
</ul>
<a id="md:subir-archivos" class="tsd-anchor"></a><h2><a href="#md:subir-archivos">Subir archivos</a></h2><p>Una vez hayamos terminado de realizar los ejercicios, procederemos a subirlos a nuestro repositorio de github mediante:</p>
<ul>
<li><strong>git add .</strong></li>
<li><strong>git commit -m &quot; &quot;</strong></li>
<li><strong>git push</strong></li>
</ul>
<p>Pero antes de hacer esto deberemos crear un fichero ***.gitignore** donde introduciremos lo siguiente:</p>
<pre><code class="language-bash"><span class="hl-1">node_modules</span><br/><span class="hl-1">dist</span><br/><span class="hl-1">package-lock.json</span>
</code><button>Copy</button></pre>
<p>El archivo <strong>.gitignore</strong> se utiliza para especificar archivos y directorios que no deben ser incluidos en el control de versiones de Git. En este caso, estos archivos serán ignorados a la hora de subirlos a GitHub.</p>
<hr>
<a id="md:4-configuracion-de-istanbul-y-coveralls" class="tsd-anchor"></a><h1><a href="#md:4-configuracion-de-istanbul-y-coveralls">4. Configuracion de Istanbul y coveralls.</a></h1><a id="md:¿que-son" class="tsd-anchor"></a><h3><a href="#md:¿que-son">¿Que son?</a></h3><p>En esta sección, detallaremos la configuración necesaria para utilizar <strong>Istanbul y Coveralls</strong> en nuestro proyecto. Estas herramientas son valiosas para evaluar la cobertura de nuestro código fuente y realizar un seguimiento de la misma.</p>
<a id="md:instalación" class="tsd-anchor"></a><h3><a href="#md:instalación">Instalación</a></h3><p>Primero, realizaremos la instalación de los mismos con los siguientes comandos:</p>
<pre><code class="language-bash"><span class="hl-1">npm</span><span class="hl-0"> </span><span class="hl-2">install</span><span class="hl-0"> </span><span class="hl-4">--save-dev</span><span class="hl-0"> </span><span class="hl-2">nyc</span><span class="hl-0"> </span><span class="hl-2">coveralls</span>
</code><button>Copy</button></pre>
<p>En nuestro fichero <strong>package.json</strong> detallaremos lo siguiente para terminar de configurar Istanbul y coveralls:</p>
<pre><code class="language-bash"><span class="hl-1">&quot;test&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;nyc mocha&quot;,</span><br/><span class="hl-1">&quot;coverage&quot;</span><span class="hl-1">:</span><span class="hl-0"> </span><span class="hl-2">&quot;nyc npm test &amp;&amp; nyc report --reporter=text-lcov | coveralls &amp;&amp; rm -rf .nyc_output&quot;,</span>
</code><button>Copy</button></pre>
<a id="md:inicio-de-sesión-en-coveralls-para-el-cubrimiento-del-código" class="tsd-anchor"></a><h3><a href="#md:inicio-de-sesión-en-coveralls-para-el-cubrimiento-del-código">Inicio de sesión en Coveralls para el cubrimiento del código</a></h3><p>Para realizar esto, nos deberemos meter en la página de <a href="#md:https://coveralls.io/">Coveralls</a>.
Dentro de esta iniciaremos sesión con nuestras credenciales de GitHub.
Si deseamos agregar un repositorio para el cubrimiento de nuestro código este deberá ser de visibilidad pública.<br>Lo agregaremos dándole a <strong>ADD REPOS</strong> y una vez elegido el repositorio copiaremos el token.
Por último, en nuestro directorio raíz crearemos el <strong>.coveralls.yml</strong> que contendrá el token de nuestro repositorio:</p>
<pre><code class="language-bash"><span class="hl-1">repo_token:</span><span class="hl-0"> </span><span class="hl-2">xbwn8u45rB3Q44dE2hFjQT0kbhDmRPDuu</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:5-principios-solid" class="tsd-anchor"></a><h1><a href="#md:5-principios-solid">5. Principios SOLID.</a></h1><p>En el desarrollo de software, <em><strong>los Principios SOLID</strong></em> son un conjunto de principios de diseño orientados a la creación de sistemas más mantenibles, flexibles y escalables. Estos principios fueron introducidos por el ingeniero de software Robert C. Martin y representan un conjunto de directrices que buscan mejorar la calidad del código y facilitar su mantenimiento a lo largo del tiempo.</p>
<a id="md:¿cuáles-son" class="tsd-anchor"></a><h2><a href="#md:¿cuáles-son">¿Cuáles son?</a></h2><p>Los Principios SOLID son un acrónimo que representa los siguientes principios:</p>
<a id="md:s---principio-de-responsabilidad-única-single-responsibility-principle---srp" class="tsd-anchor"></a><h3><a href="#md:s---principio-de-responsabilidad-única-single-responsibility-principle---srp">S - Principio de Responsabilidad Única (Single Responsibility Principle - SRP)</a></h3><p>El <strong>SRP</strong> establece que una clase debería tener una única razón para cambiar. En otras palabras, una clase debería tener una <strong>única responsabilidad</strong>, una única función.</p>
<a id="md:o---principio-de-abiertocerrado-openclosed-principle---ocp" class="tsd-anchor"></a><h3><a href="#md:o---principio-de-abiertocerrado-openclosed-principle---ocp">O - Principio de Abierto/Cerrado (Open/Closed Principle - OCP)</a></h3><p>El <strong>OCP</strong> propone que una entidad de software, como una clase, debe estar <strong>abierta para la extensión pero cerrada para la modificación</strong>. Se busca lograr esto mediante la creación de código que pueda ser extendido sin modificar su funcionalidad existente.</p>
<a id="md:l---principio-de-sustitución-de-liskov-liskov-substitution-principle---lsp" class="tsd-anchor"></a><h3><a href="#md:l---principio-de-sustitución-de-liskov-liskov-substitution-principle---lsp">L - Principio de Sustitución de Liskov (Liskov Substitution Principle - LSP)</a></h3><p>El <strong>LSP</strong> establece que los objetos de una clase base deben <strong>poder ser sustituidos por objetos de sus clases derivadas</strong> sin afectar la corrección del programa.</p>
<a id="md:i---principio-de-segregación-de-interfaces-interface-segregation-principle---isp" class="tsd-anchor"></a><h3><a href="#md:i---principio-de-segregación-de-interfaces-interface-segregation-principle---isp">I - Principio de Segregación de Interfaces (Interface Segregation Principle - ISP)</a></h3><p>El <strong>ISP</strong> propone que una clase no debería verse obligada a implementar interfaces que no utiliza. En lugar de interfaces generales, se prefieren interfaces más específicas.</p>
<a id="md:d---principio-de-inversión-de-dependencia-dependency-inversion-principle---dip" class="tsd-anchor"></a><h3><a href="#md:d---principio-de-inversión-de-dependencia-dependency-inversion-principle---dip">D - Principio de Inversión de Dependencia (Dependency Inversion Principle - DIP)</a></h3><p>El <strong>DIP</strong> propone que las dependencias de alto nivel no deben depender de módulos de bajo nivel, sino que ambos deben depender de abstracciones. Además, las abstracciones no deben depender de los detalles, sino que los detalles deben depender de las abstracciones.</p>
<a id="md:importancia-y-beneficios" class="tsd-anchor"></a><h2><a href="#md:importancia-y-beneficios">Importancia y Beneficios</a></h2><p>La aplicación de los Principios SOLID en el desarrollo de software tiene varios beneficios, entre ellos:</p>
<ul>
<li><strong>Mantenibilidad:</strong> Facilitan el mantenimiento del código a lo largo del tiempo.</li>
<li><strong>Escalabilidad:</strong> Permiten construir sistemas más flexibles y escalables.</li>
<li><strong>Reusabilidad:</strong> Favorecen la reutilización de código y componentes.</li>
<li><strong>Legibilidad:</strong> Mejoran la claridad y la comprensión del código.</li>
</ul>
<p>En esta práctica, se presentarán ejemplos específicos de código que ilustrarán la aplicación práctica de los Principios SOLID en nuestro proyecto. Veremos cómo estos principios se traducen en un código más limpio, modular y fácil de entender.</p>
<p>A lo largo de la revisión de los ejercicios, se destacarán las áreas donde los Principios SOLID han sido implementados con éxito, subrayando la importancia de seguir estas directrices para lograr un diseño de software robusto y sostenible.</p>
<hr>
<a id="md:6-github-actions" class="tsd-anchor"></a><h1><a href="#md:6-github-actions">6. GitHub Actions</a></h1><a id="md:¿qué-es" class="tsd-anchor"></a><h2><a href="#md:¿qué-es">¿Qué es?</a></h2><p><em><strong>GitHub Actions</strong></em> es una característica integrada en GitHub que te permite automatizar, personalizar y ejecutar flujos de trabajo directamente desde tu repositorio. Con GitHub Actions, podemos crear flujos de trabajo que respondan a eventos específicos en tu repositorio, como solicitudes de extracción, confirmaciones de código, creación de problemas y mucho más.</p>
<a id="md:características" class="tsd-anchor"></a><h2><a href="#md:características">Características</a></h2><p>Encontramos algunas características de esta herramienta:</p>
<a id="md:automatización-de-tareas" class="tsd-anchor"></a><h3><a href="#md:automatización-de-tareas">Automatización de tareas</a></h3><p>Con GitHub Actions, puedes automatizar tareas repetitivas, como pruebas de código, compilaciones, despliegues, notificaciones y más.</p>
<a id="md:personalización" class="tsd-anchor"></a><h3><a href="#md:personalización">Personalización</a></h3><p>Los flujos de trabajo de GitHub Actions son altamente personalizables. Puedes crear flujos de trabajo específicos para tus necesidades utilizando una variedad de acciones predefinidas o creando tus propias acciones personalizadas.</p>
<a id="md:eventos-del-repositorio" class="tsd-anchor"></a><h3><a href="#md:eventos-del-repositorio">Eventos del repositorio</a></h3><p>Los flujos de trabajo pueden activarse en respuesta a una amplia gama de eventos en tu repositorio, lo que te permite ejecutar acciones específicas en función de las acciones de los colaboradores, el estado del código y otros factores.</p>
<a id="md:integración-con-el-ecosistema-de-github" class="tsd-anchor"></a><h3><a href="#md:integración-con-el-ecosistema-de-github">Integración con el ecosistema de GitHub</a></h3><p>GitHub Actions se integra perfectamente con el ecosistema de GitHub, lo que te permite acceder a tus repositorios, problemas, solicitudes de extracción y otros datos directamente desde tus flujos de trabajo.</p>
<a id="md:configuración-1" class="tsd-anchor"></a><h2><a href="#md:configuración-1">Configuración</a></h2><p>Para la configuración de las Github Actions deberemos meternos en el apartado de nuestro repositorio de <strong>Actions</strong> y seleccionar <strong>Node.js</strong> como flujo de trabajo. 
Al hacer esto se nos creará un archivo denominado node.js.yml que contendrá lo siguiente:</p>
<pre><code class="language-typescript"><span class="hl-0"># </span><span class="hl-5">This</span><span class="hl-0"> </span><span class="hl-5">workflow</span><span class="hl-0"> </span><span class="hl-5">will</span><span class="hl-0"> </span><span class="hl-6">do</span><span class="hl-0"> </span><span class="hl-5">a</span><span class="hl-0"> </span><span class="hl-5">clean</span><span class="hl-0"> </span><span class="hl-5">installation</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">node</span><span class="hl-0"> </span><span class="hl-5">dependencies</span><span class="hl-0">, </span><span class="hl-5">cache</span><span class="hl-0">/</span><span class="hl-5">restore</span><span class="hl-0"> </span><span class="hl-5">them</span><span class="hl-0">, </span><span class="hl-5">build</span><span class="hl-0"> </span><span class="hl-5">the</span><span class="hl-0"> </span><span class="hl-5">source</span><span class="hl-0"> </span><span class="hl-5">code</span><span class="hl-0"> </span><span class="hl-5">and</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">tests</span><span class="hl-0"> </span><span class="hl-5">across</span><span class="hl-0"> </span><span class="hl-5">different</span><span class="hl-0"> </span><span class="hl-5">versions</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">node</span><br/><span class="hl-0"># </span><span class="hl-5">For</span><span class="hl-0"> </span><span class="hl-5">more</span><span class="hl-0"> </span><span class="hl-5">information</span><span class="hl-0"> </span><span class="hl-7">see</span><span class="hl-0">: </span><span class="hl-7">https</span><span class="hl-0">:</span><span class="hl-8">//docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-nodejs</span><br/><br/><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Tests</span><br/><br/><span class="hl-7">on</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-7">push</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-7">branches</span><span class="hl-0">: [ </span><span class="hl-2">&quot;main&quot;</span><span class="hl-0"> ]</span><br/><span class="hl-0">  </span><span class="hl-7">pull_request</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-7">branches</span><span class="hl-0">: [ </span><span class="hl-2">&quot;main&quot;</span><span class="hl-0"> ]</span><br/><br/><span class="hl-7">jobs</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-7">build</span><span class="hl-0">:</span><br/><br/><span class="hl-0">    </span><span class="hl-5">runs</span><span class="hl-0">-</span><span class="hl-7">on</span><span class="hl-0">: </span><span class="hl-5">ubuntu</span><span class="hl-0">-</span><span class="hl-5">latest</span><br/><br/><span class="hl-0">    </span><span class="hl-7">strategy</span><span class="hl-0">:</span><br/><span class="hl-0">      </span><span class="hl-7">matrix</span><span class="hl-0">:</span><br/><span class="hl-0">        </span><span class="hl-5">node</span><span class="hl-0">-</span><span class="hl-7">version</span><span class="hl-0">: [16.</span><span class="hl-5">x</span><span class="hl-0">, 18.</span><span class="hl-5">x</span><span class="hl-0">, 19.</span><span class="hl-5">x</span><span class="hl-0">, 20.</span><span class="hl-5">x</span><span class="hl-0">, 21.</span><span class="hl-5">x</span><span class="hl-0">]</span><br/><span class="hl-0">        # </span><span class="hl-5">See</span><span class="hl-0"> </span><span class="hl-5">supported</span><span class="hl-0"> </span><span class="hl-5">Node</span><span class="hl-0">.</span><span class="hl-5">js</span><span class="hl-0"> </span><span class="hl-5">release</span><span class="hl-0"> </span><span class="hl-5">schedule</span><span class="hl-0"> </span><span class="hl-5">at</span><span class="hl-0"> </span><span class="hl-7">https</span><span class="hl-0">:</span><span class="hl-8">//nodejs.org/en/about/releases/</span><br/><br/><span class="hl-0">    </span><span class="hl-7">steps</span><span class="hl-0">:</span><br/><span class="hl-0">    - </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">actions</span><span class="hl-0">/</span><span class="hl-5">checkout</span><span class="hl-0">@</span><span class="hl-5">v4</span><br/><span class="hl-0">    - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Use</span><span class="hl-0"> </span><span class="hl-5">Node</span><span class="hl-0">.</span><span class="hl-5">js</span><span class="hl-0"> </span><span class="hl-5">$</span><span class="hl-0">{{ </span><span class="hl-5">matrix</span><span class="hl-0">.</span><span class="hl-5">node</span><span class="hl-0">-</span><span class="hl-5">version</span><span class="hl-0"> }}</span><br/><span class="hl-0">      </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">actions</span><span class="hl-0">/</span><span class="hl-5">setup</span><span class="hl-0">-</span><span class="hl-5">node</span><span class="hl-0">@</span><span class="hl-5">v4</span><br/><span class="hl-0">      </span><span class="hl-6">with</span><span class="hl-0">:</span><br/><span class="hl-0">        </span><span class="hl-5">node</span><span class="hl-0">-</span><span class="hl-7">version</span><span class="hl-0">: </span><span class="hl-5">$</span><span class="hl-0">{{ </span><span class="hl-5">matrix</span><span class="hl-0">.</span><span class="hl-5">node</span><span class="hl-0">-</span><span class="hl-5">version</span><span class="hl-0"> }}</span><br/><span class="hl-0">    - </span><span class="hl-7">run</span><span class="hl-0">: </span><span class="hl-5">npm</span><span class="hl-0"> </span><span class="hl-5">install</span><br/><span class="hl-0">    - </span><span class="hl-7">run</span><span class="hl-0">: </span><span class="hl-5">npm</span><span class="hl-0"> </span><span class="hl-5">test</span>
</code><button>Copy</button></pre>
<p>Este fichero será para las pruebas o tests como se indica en el nombre.
Deberemos configurar más Actions para llevar a cabo toda la práctica. 
Tras hacer un commit con los cambios comenzaremos a utilizar las GitHub Actions.
Ahora, en visual podemos hacer la configuración de la Action de coveralls. Crearemos el fichero coveralls.yml que tendrá lo siguiente:</p>
<pre><code class="language-typescript"><span class="hl-0"># </span><span class="hl-5">This</span><span class="hl-0"> </span><span class="hl-5">workflow</span><span class="hl-0"> </span><span class="hl-5">will</span><span class="hl-0"> </span><span class="hl-6">do</span><span class="hl-0"> </span><span class="hl-5">a</span><span class="hl-0"> </span><span class="hl-5">clean</span><span class="hl-0"> </span><span class="hl-5">installation</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">node</span><span class="hl-0"> </span><span class="hl-5">dependencies</span><span class="hl-0">, </span><span class="hl-5">cache</span><span class="hl-0">/</span><span class="hl-5">restore</span><span class="hl-0"> </span><span class="hl-5">them</span><span class="hl-0">, </span><span class="hl-5">build</span><span class="hl-0"> </span><span class="hl-5">the</span><span class="hl-0"> </span><span class="hl-5">source</span><span class="hl-0"> </span><span class="hl-5">code</span><span class="hl-0"> </span><span class="hl-5">and</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">tests</span><span class="hl-0"> </span><span class="hl-5">across</span><span class="hl-0"> </span><span class="hl-5">different</span><span class="hl-0"> </span><span class="hl-5">versions</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">node</span><br/><span class="hl-0"># </span><span class="hl-5">For</span><span class="hl-0"> </span><span class="hl-5">more</span><span class="hl-0"> </span><span class="hl-5">information</span><span class="hl-0"> </span><span class="hl-7">see</span><span class="hl-0">: </span><span class="hl-7">https</span><span class="hl-0">:</span><span class="hl-8">//docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-nodejs</span><br/><br/><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Coveralls</span><br/><br/><span class="hl-7">on</span><span class="hl-0">:</span><br/><span class="hl-7">push</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-7">branches</span><span class="hl-0">: [ </span><span class="hl-2">&quot;main&quot;</span><span class="hl-0"> ]</span><br/><span class="hl-7">pull_request</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-7">branches</span><span class="hl-0">: [ </span><span class="hl-2">&quot;main&quot;</span><span class="hl-0"> ]</span><br/><br/><span class="hl-7">jobs</span><span class="hl-0">:</span><br/><span class="hl-7">build</span><span class="hl-0">:</span><br/><br/><span class="hl-0">  </span><span class="hl-5">runs</span><span class="hl-0">-</span><span class="hl-7">on</span><span class="hl-0">: </span><span class="hl-5">ubuntu</span><span class="hl-0">-</span><span class="hl-5">latest</span><br/><br/><span class="hl-0">  </span><span class="hl-7">steps</span><span class="hl-0">:</span><br/><span class="hl-0">  - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Cloning</span><span class="hl-0"> </span><span class="hl-5">repo</span><br/><span class="hl-0">    </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">actions</span><span class="hl-0">/</span><span class="hl-5">checkout</span><span class="hl-0">@</span><span class="hl-5">v4</span><br/><span class="hl-0">  - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Use</span><span class="hl-0"> </span><span class="hl-5">Node</span><span class="hl-0">.</span><span class="hl-5">js</span><span class="hl-0"> 21.</span><span class="hl-5">x</span><br/><span class="hl-0">    </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">actions</span><span class="hl-0">/</span><span class="hl-5">setup</span><span class="hl-0">-</span><span class="hl-5">node</span><span class="hl-0">@</span><span class="hl-5">v4</span><br/><span class="hl-0">    </span><span class="hl-6">with</span><span class="hl-0">:</span><br/><span class="hl-0">      </span><span class="hl-5">node</span><span class="hl-0">-</span><span class="hl-7">version</span><span class="hl-0">: 21.</span><span class="hl-5">x</span><br/><span class="hl-0">  - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Installing</span><span class="hl-0"> </span><span class="hl-5">dependencies</span><br/><span class="hl-0">    </span><span class="hl-7">run</span><span class="hl-0">: </span><span class="hl-5">npm</span><span class="hl-0"> </span><span class="hl-5">ci</span><br/><span class="hl-0">  - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Generating</span><span class="hl-0"> </span><span class="hl-5">coverage</span><span class="hl-0"> </span><span class="hl-5">information</span><br/><span class="hl-0">    </span><span class="hl-7">run</span><span class="hl-0">: </span><span class="hl-5">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">coverage</span><br/><span class="hl-0">  - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Coveralls</span><span class="hl-0"> </span><span class="hl-5">GitHub</span><span class="hl-0"> </span><span class="hl-5">Action</span><br/><span class="hl-0">    </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">coverallsapp</span><span class="hl-0">/</span><span class="hl-5">github</span><span class="hl-0">-</span><span class="hl-5">action</span><span class="hl-0">@</span><span class="hl-5">v2</span><span class="hl-0">.</span><span class="hl-9">2.3</span><br/><span class="hl-0">    </span><span class="hl-6">with</span><span class="hl-0">:</span><br/><span class="hl-0">      </span><span class="hl-5">github</span><span class="hl-0">-</span><span class="hl-7">token</span><span class="hl-0">: </span><span class="hl-5">$</span><span class="hl-0">{{ </span><span class="hl-5">secrets</span><span class="hl-0">.</span><span class="hl-10">GITHUB_TOKEN</span><span class="hl-0"> }}</span>
</code><button>Copy</button></pre>
<p>Hecho esto, cada vez que hagamos un git commit y un git push nos saldrán las Acciones.</p>
<hr>
<a id="md:7-módulos" class="tsd-anchor"></a><h1><a href="#md:7-módulos">7. Módulos</a></h1><p>En el desarrollo de aplicaciones en TypeScript, especialmente en entornos de pruebas con Mocha y herramientas de cobertura de código como nyc, es esencial configurar adecuadamente el manejo de módulos ESM (ECMAScript Modules). Esta configuración garantiza que nuestras pruebas sean efectivas y que los informes de cobertura reflejen con precisión el estado de nuestros módulos.</p>
<p><strong>Paso 1: Instalación de c8.</strong></p>
<p>Para comenzar, es necesario instalar la herramienta de cobertura <strong>c8</strong> como dependencia de desarrollo. Esto se logra ejecutando el siguiente comando:</p>
<pre><code class="language-bash"><span class="hl-1">npm</span><span class="hl-0"> </span><span class="hl-2">i</span><span class="hl-0"> </span><span class="hl-4">--save-dev</span><span class="hl-0"> </span><span class="hl-2">c8</span>
</code><button>Copy</button></pre>
<p><strong>Paso 2: Configuración del Script de Cobertura en package.json</strong></p>
<p>Posteriormente, en el archivo <strong>package.json</strong>, ajustamos el script de cobertura para utilizar c8 en lugar de nyc. Esto se logra modificando la sección &quot;scripts&quot; como se muestra a continuación:</p>
<pre><code class="language-typescript"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;scripts&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;coverage&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;c8 npm test &amp;&amp; c8 report --reporter=lcov&quot;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<p><strong>Paso 3: Ajuste de las Pruebas para Módulos ESM</strong></p>
<p>Es necesario modificar el archivo de configuración de Mocha, <strong>.mocharc.json</strong>, para utilizar el cargador ESM de ts-node al ejecutar las pruebas. Esto se logra configurando la propiedad &quot;loader&quot; como se muestra a continuación:</p>
<pre><code class="language-typescript"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;extension&quot;</span><span class="hl-0">: [</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;ts&quot;</span><br/><span class="hl-0">  ],</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;spec&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;tests/**/*.spec.ts&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;loader&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;ts-node/esm&quot;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<p><strong>Paso 4: Importación de Módulos con Extensión .js</strong></p>
<p>En los archivos de prueba <strong>(*.spec.ts)</strong>, cuando importamos módulos, es fundamental añadir la extensión .js a los nombres de los módulos importados. Esto es necesario para que funcionen correctamente con el cargador ESM. Un ejemplo de importación sería el siguiente:</p>
<pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">expect</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chai&#39;</span><span class="hl-0">; </span><span class="hl-8">// Importamos el módulo con extensión .js</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">myFunction</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../src/myModule.js&#39;</span><span class="hl-0">; </span><span class="hl-8">// Importamos nuestro módulo con extensión .js</span>
</code><button>Copy</button></pre>
<p>Con esta configuración, aseguramos que nuestras pruebas sean efectivas, generamos informes precisos de cobertura y garantizamos que nuestros módulos ESM se manejen correctamente en el entorno de prueba.</p>
<hr>
<a id="md:8-sonarcloud" class="tsd-anchor"></a><h1><a href="#md:8-sonarcloud">8. SonarCloud</a></h1><a id="md:¿qué-es-sonarcloud" class="tsd-anchor"></a><h3><a href="#md:¿qué-es-sonarcloud">¿Qué es SonarCloud?</a></h3><p>SonarCloud es una plataforma de análisis estático de código diseñada para mejorar la calidad del software. Utiliza técnicas de análisis estático para identificar y reportar problemas de calidad del código, como errores, vulnerabilidades de seguridad, malas prácticas y duplicación de código.</p>
<a id="md:características-de-sonarcloud" class="tsd-anchor"></a><h3><a href="#md:características-de-sonarcloud">Características de SonarCloud:</a></h3><ul>
<li><p><strong>Análisis de código estático:</strong> SonarCloud examina el código fuente de tu proyecto en busca de posibles problemas de calidad, proporcionando una visión detallada de la salud del código.</p>
</li>
<li><p><strong>Integración continua:</strong> Puedes integrar SonarCloud en tu proceso de integración continua para automatizar el análisis del código cada vez que se realice un cambio, lo que te permite detectar problemas de calidad de forma proactiva.</p>
</li>
<li><p><strong>Métricas y seguimiento:</strong> SonarCloud ofrece métricas detalladas sobre la calidad del código y su evolución a lo largo del tiempo, lo que te permite realizar un seguimiento del progreso y tomar medidas para mejorar la calidad del código.</p>
</li>
<li><p><strong>Comentarios y recomendaciones:</strong> SonarCloud proporciona comentarios detallados y recomendaciones para cada problema identificado, ayudándote a comprender la naturaleza del problema y cómo solucionarlo de manera efectiva.</p>
</li>
<li><p><strong>Integración con GitHub:</strong> SonarCloud se integra estrechamente con GitHub, lo que te permite ver los resultados del análisis directamente en tus solicitudes de extracción y gestionar la calidad del código desde el mismo entorno en el que trabajas.</p>
</li>
</ul>
<a id="md:configuración-2" class="tsd-anchor"></a><h2><a href="#md:configuración-2">Configuración</a></h2><p>Para la configuración de <strong>SonarCloud</strong> lo que deberemos hacer es lo siguiente:</p>
<p><strong>Paso 1</strong>: Iniciamos sesión en la Página de SonarCloud.</p>
<p><strong>Paso 2</strong>: Añadimos un nuevo proyecto. En nuestro caso seleccionamos la organizacion del curso de dsi y localizamos nuestro repositorio que anteriormente debe estar en <strong>Public</strong>.</p>
<p><strong>Paso 3</strong>: Al comenzar un nuevo proyecto con el repositorio seleccionado deberemos meternos dentro de este y seleccionar <strong>Analysis Method</strong>. Dentro de esto, desactivaremos el botón de <strong>Automatic Analysis</strong> y nos meteremos a la opción de <strong>GitHub Actions</strong>.</p>
<p><strong>Paso 4</strong>: Dentro de los Actions de esta página copiaremos el SONAR_TOKEN y el valor secreto bajo este. Seguidamente, nos dirigiremos a GitHub a nuestro repositorio y en el apartado de settings -&gt; secretos deberemos introducir estos datos copiados anteriormente. </p>
<p><strong>Paso 5</strong>: Hecho esto, nos dirigimos a la página de antes de SonarCloud y eligiremos la opción de ts para typscript. Se nos desplegará los siguiente:</p>
<pre><code class="language-typescript"><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Build</span><br/><span class="hl-7">on</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-7">push</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-7">branches</span><span class="hl-0">:</span><br/><span class="hl-0">      - </span><span class="hl-5">main</span><br/><span class="hl-0">  </span><span class="hl-7">pull_request</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-7">types</span><span class="hl-0">: [</span><span class="hl-5">opened</span><span class="hl-0">, </span><span class="hl-5">synchronize</span><span class="hl-0">, </span><span class="hl-5">reopened</span><span class="hl-0">]</span><br/><span class="hl-7">jobs</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-7">sonarcloud</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">SonarCloud</span><br/><span class="hl-0">    </span><span class="hl-5">runs</span><span class="hl-0">-</span><span class="hl-7">on</span><span class="hl-0">: </span><span class="hl-5">ubuntu</span><span class="hl-0">-</span><span class="hl-5">latest</span><br/><span class="hl-0">    </span><span class="hl-7">steps</span><span class="hl-0">:</span><br/><span class="hl-0">      - </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">actions</span><span class="hl-0">/</span><span class="hl-5">checkout</span><span class="hl-0">@</span><span class="hl-5">v3</span><br/><span class="hl-0">        </span><span class="hl-6">with</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-5">fetch</span><span class="hl-0">-</span><span class="hl-7">depth</span><span class="hl-0">: </span><span class="hl-9">0</span><span class="hl-0">  # </span><span class="hl-5">Shallow</span><span class="hl-0"> </span><span class="hl-5">clones</span><span class="hl-0"> </span><span class="hl-5">should</span><span class="hl-0"> </span><span class="hl-5">be</span><span class="hl-0"> </span><span class="hl-5">disabled</span><span class="hl-0"> </span><span class="hl-5">for</span><span class="hl-0"> </span><span class="hl-5">a</span><span class="hl-0"> </span><span class="hl-5">better</span><span class="hl-0"> </span><span class="hl-5">relevancy</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">analysis</span><br/><span class="hl-0">      - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">SonarCloud</span><span class="hl-0"> </span><span class="hl-5">Scan</span><br/><span class="hl-0">        </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">SonarSource</span><span class="hl-0">/</span><span class="hl-5">sonarcloud</span><span class="hl-0">-</span><span class="hl-5">github</span><span class="hl-0">-</span><span class="hl-5">action</span><span class="hl-0">@</span><span class="hl-5">master</span><br/><span class="hl-0">        </span><span class="hl-7">env</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-7">GITHUB_TOKEN</span><span class="hl-0">: </span><span class="hl-5">$</span><span class="hl-0">{{ </span><span class="hl-5">secrets</span><span class="hl-0">.</span><span class="hl-10">GITHUB_TOKEN</span><span class="hl-0"> }}  # </span><span class="hl-5">Needed</span><span class="hl-0"> </span><span class="hl-5">to</span><span class="hl-0"> </span><span class="hl-5">get</span><span class="hl-0"> </span><span class="hl-10">PR</span><span class="hl-0"> </span><span class="hl-5">information</span><span class="hl-0">, </span><span class="hl-6">if</span><span class="hl-0"> </span><span class="hl-5">any</span><br/><span class="hl-0">          </span><span class="hl-7">SONAR_TOKEN</span><span class="hl-0">: </span><span class="hl-5">$</span><span class="hl-0">{{ </span><span class="hl-5">secrets</span><span class="hl-0">.</span><span class="hl-10">SONAR_TOKEN</span><span class="hl-0"> }}</span>
</code><button>Copy</button></pre>
<p>Esto lo copiaremos y haremos lo mismo que hicimos anteriormente con las Actions de Tests y Coveralls. Crear un fichero sonarcloud.yml y poner:</p>
<pre><code class="language-typescript"><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Sonar</span><span class="hl-0">-</span><span class="hl-5">Cloud</span><span class="hl-0"> </span><br/><br/><span class="hl-7">on</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-7">push</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-7">branches</span><span class="hl-0">: [ </span><span class="hl-5">main</span><span class="hl-0"> ]</span><br/><span class="hl-0">  </span><span class="hl-7">pull_request</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-7">branches</span><span class="hl-0">: [ </span><span class="hl-5">main</span><span class="hl-0"> ]</span><br/><br/><span class="hl-7">jobs</span><span class="hl-0">:</span><br/><span class="hl-0">  </span><span class="hl-7">sonarcloud</span><span class="hl-0">:</span><br/><span class="hl-0">    </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">SonarCloud</span><br/><span class="hl-0">    </span><span class="hl-5">runs</span><span class="hl-0">-</span><span class="hl-7">on</span><span class="hl-0">: </span><span class="hl-5">ubuntu</span><span class="hl-0">-</span><span class="hl-5">latest</span><br/><span class="hl-0">    </span><span class="hl-7">steps</span><span class="hl-0">:</span><br/><span class="hl-0">      - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Cloning</span><span class="hl-0"> </span><span class="hl-5">repo</span><br/><span class="hl-0">        </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">actions</span><span class="hl-0">/</span><span class="hl-5">checkout</span><span class="hl-0">@</span><span class="hl-5">v4</span><br/><span class="hl-0">        </span><span class="hl-6">with</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-5">fetch</span><span class="hl-0">-</span><span class="hl-7">depth</span><span class="hl-0">: </span><span class="hl-9">0</span><span class="hl-0">  # </span><span class="hl-5">Shallow</span><span class="hl-0"> </span><span class="hl-5">clones</span><span class="hl-0"> </span><span class="hl-5">should</span><span class="hl-0"> </span><span class="hl-5">be</span><span class="hl-0"> </span><span class="hl-5">disabled</span><span class="hl-0"> </span><span class="hl-5">for</span><span class="hl-0"> </span><span class="hl-5">a</span><span class="hl-0"> </span><span class="hl-5">better</span><span class="hl-0"> </span><span class="hl-5">relevancy</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">analysis</span><br/><span class="hl-0">      - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Using</span><span class="hl-0"> </span><span class="hl-5">Node</span><span class="hl-0">.</span><span class="hl-5">js</span><span class="hl-0"> 21.</span><span class="hl-5">x</span><br/><span class="hl-0">        </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">actions</span><span class="hl-0">/</span><span class="hl-5">setup</span><span class="hl-0">-</span><span class="hl-5">node</span><span class="hl-0">@</span><span class="hl-5">v4</span><br/><span class="hl-0">        </span><span class="hl-6">with</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-5">node</span><span class="hl-0">-</span><span class="hl-7">version</span><span class="hl-0">: 21.</span><span class="hl-5">x</span><br/><span class="hl-0">      - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Installing</span><span class="hl-0"> </span><span class="hl-5">dependencies</span><br/><span class="hl-0">        </span><span class="hl-7">run</span><span class="hl-0">: </span><span class="hl-5">npm</span><span class="hl-0"> </span><span class="hl-5">ci</span><br/><span class="hl-0">      - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">Generating</span><span class="hl-0"> </span><span class="hl-5">coverage</span><span class="hl-0"> </span><span class="hl-5">report</span><br/><span class="hl-0">        </span><span class="hl-7">run</span><span class="hl-0">: </span><span class="hl-5">npm</span><span class="hl-0"> </span><span class="hl-5">run</span><span class="hl-0"> </span><span class="hl-5">coverage</span><br/><span class="hl-0">      - </span><span class="hl-7">name</span><span class="hl-0">: </span><span class="hl-5">SonarCloud</span><span class="hl-0"> </span><span class="hl-5">Scan</span><br/><span class="hl-0">        </span><span class="hl-7">uses</span><span class="hl-0">: </span><span class="hl-5">SonarSource</span><span class="hl-0">/</span><span class="hl-5">sonarcloud</span><span class="hl-0">-</span><span class="hl-5">github</span><span class="hl-0">-</span><span class="hl-5">action</span><span class="hl-0">@</span><span class="hl-5">master</span><br/><span class="hl-0">        </span><span class="hl-7">env</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-7">GITHUB_TOKEN</span><span class="hl-0">: </span><span class="hl-5">$</span><span class="hl-0">{{ </span><span class="hl-5">secrets</span><span class="hl-0">.</span><span class="hl-10">GITHUB_TOKEN</span><span class="hl-0"> }}  # </span><span class="hl-5">Needed</span><span class="hl-0"> </span><span class="hl-5">to</span><span class="hl-0"> </span><span class="hl-5">get</span><span class="hl-0"> </span><span class="hl-10">PR</span><span class="hl-0"> </span><span class="hl-5">information</span><span class="hl-0">, </span><span class="hl-6">if</span><span class="hl-0"> </span><span class="hl-5">any</span><br/><span class="hl-0">          </span><span class="hl-7">SONAR_TOKEN</span><span class="hl-0">: </span><span class="hl-5">$</span><span class="hl-0">{{ </span><span class="hl-5">secrets</span><span class="hl-0">.</span><span class="hl-10">SONAR_TOKEN</span><span class="hl-0"> }}</span>
</code><button>Copy</button></pre>
<p>Para finliazar crearemos en la raíz del directorio un <strong>sonar-project.properties</strong> que tendra:</p>
<pre><code class="language-typescript"><span class="hl-5">sonar</span><span class="hl-0">.</span><span class="hl-5">projectKey</span><span class="hl-0">=</span><span class="hl-10">ULL</span><span class="hl-0">-</span><span class="hl-10">ESIT</span><span class="hl-0">-</span><span class="hl-10">INF</span><span class="hl-0">-</span><span class="hl-10">DSI</span><span class="hl-0">-2324</span><span class="hl-5">_ull</span><span class="hl-0">-</span><span class="hl-5">esit</span><span class="hl-0">-</span><span class="hl-5">inf</span><span class="hl-0">-</span><span class="hl-5">dsi</span><span class="hl-0">-</span><span class="hl-9">23</span><span class="hl-0">-</span><span class="hl-9">24</span><span class="hl-0">-</span><span class="hl-5">prct09</span><span class="hl-0">-</span><span class="hl-5">filesystem</span><span class="hl-0">-</span><span class="hl-5">magic</span><span class="hl-0">-</span><span class="hl-5">app</span><span class="hl-0">-</span><span class="hl-10">ALBAAPEREZ</span><br/><span class="hl-5">sonar</span><span class="hl-0">.</span><span class="hl-5">organization</span><span class="hl-0">=</span><span class="hl-5">ull</span><span class="hl-0">-</span><span class="hl-5">esit</span><span class="hl-0">-</span><span class="hl-5">inf</span><span class="hl-0">-</span><span class="hl-5">dsi</span><span class="hl-0">-</span><span class="hl-9">2324</span><br/><br/><span class="hl-0"># </span><span class="hl-5">This</span><span class="hl-0"> </span><span class="hl-5">is</span><span class="hl-0"> </span><span class="hl-5">the</span><span class="hl-0"> </span><span class="hl-5">name</span><span class="hl-0"> </span><span class="hl-5">and</span><span class="hl-0"> </span><span class="hl-5">version</span><span class="hl-0"> </span><span class="hl-5">displayed</span><span class="hl-0"> </span><span class="hl-4">in</span><span class="hl-0"> </span><span class="hl-5">the</span><span class="hl-0"> </span><span class="hl-5">SonarCloud</span><span class="hl-0"> </span><span class="hl-10">UI</span><span class="hl-0">.</span><br/><span class="hl-0">#</span><span class="hl-5">sonar</span><span class="hl-0">.</span><span class="hl-5">projectName</span><span class="hl-0">=</span><span class="hl-5">ull</span><span class="hl-0">-</span><span class="hl-5">esit</span><span class="hl-0">-</span><span class="hl-5">inf</span><span class="hl-0">-</span><span class="hl-5">dsi</span><span class="hl-0">-</span><span class="hl-9">23</span><span class="hl-0">-</span><span class="hl-9">24</span><span class="hl-0">-</span><span class="hl-5">prct09</span><span class="hl-0">-</span><span class="hl-5">filesystem</span><span class="hl-0">-</span><span class="hl-5">magic</span><span class="hl-0">-</span><span class="hl-5">app</span><span class="hl-0">-</span><span class="hl-10">ALBAAPEREZ</span><br/><span class="hl-0">#</span><span class="hl-5">sonar</span><span class="hl-0">.</span><span class="hl-5">projectVersion</span><span class="hl-0">=</span><span class="hl-9">1.0</span><br/><br/><br/><span class="hl-0"># </span><span class="hl-5">Path</span><span class="hl-0"> </span><span class="hl-5">is</span><span class="hl-0"> </span><span class="hl-5">relative</span><span class="hl-0"> </span><span class="hl-5">to</span><span class="hl-0"> </span><span class="hl-5">the</span><span class="hl-0"> </span><span class="hl-5">sonar</span><span class="hl-0">-</span><span class="hl-5">project</span><span class="hl-0">.</span><span class="hl-5">properties</span><span class="hl-0"> </span><span class="hl-5">file</span><span class="hl-0">. </span><span class="hl-5">Replace</span><span class="hl-0"> </span><span class="hl-2">&quot;</span><span class="hl-3">\&quot;</span><span class="hl-2"> by &quot;</span><span class="hl-0">/</span><span class="hl-2">&quot; on Windows</span><span class="hl-11">.</span><br/><span class="hl-0">#</span><span class="hl-5">sonar</span><span class="hl-0">.</span><span class="hl-5">sources</span><span class="hl-0">=.</span><br/><br/><span class="hl-0"># </span><span class="hl-5">Encoding</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">the</span><span class="hl-0"> </span><span class="hl-5">source</span><span class="hl-0"> </span><span class="hl-5">code</span><span class="hl-0">. </span><span class="hl-5">Default</span><span class="hl-0"> </span><span class="hl-5">is</span><span class="hl-0"> </span><span class="hl-6">default</span><span class="hl-0"> </span><span class="hl-5">system</span><span class="hl-0"> </span><span class="hl-5">encoding</span><br/><span class="hl-0">#</span><span class="hl-5">sonar</span><span class="hl-0">.</span><span class="hl-5">sourceEncoding</span><span class="hl-0">=</span><span class="hl-10">UTF</span><span class="hl-0">-</span><span class="hl-9">8</span>
</code><button>Copy</button></pre>
<p>Hecho esto en nuestro repositorio, haremos git add, git commit y un push y si todo ha ido bien comenzará a funcionar todo sin problemas.</p>
<hr>
<a id="md:9-yargs-y-chalk" class="tsd-anchor"></a><h1><a href="#md:9-yargs-y-chalk">9. Yargs y Chalk</a></h1><p>En el contexto del desarrollo de aplicaciones de línea de comandos, los paquetes <strong>yargs y chalk</strong> desempeñan roles fundamentales para el manejo de argumentos y la presentación de información de manera legible y atractiva. A continuación, se detallan las características y el uso de cada uno de estos paquetes:</p>
<a id="md:chalk-estilización-de-texto-en-consola" class="tsd-anchor"></a><h2><a href="#md:chalk-estilización-de-texto-en-consola">Chalk: Estilización de Texto en Consola</a></h2><p>El paquete Chalk se utiliza para agregar estilos y colores a la salida de texto en la consola, permitiendo mejorar la legibilidad y la presentación de la información. Algunas características importantes incluyen:</p>
<p><strong>Estilos y Colores</strong>: Chalk proporciona una amplia variedad de estilos y colores que pueden aplicarse al texto, como negrita, subrayado, colores de fondo, entre otros.</p>
<p><strong>API Encadenada</strong>: Permite encadenar varios estilos y colores para aplicar múltiples efectos a un texto.</p>
<p><strong>Facilidad de Uso</strong>: La sintaxis simple y clara hace que sea fácil aplicar estilos y colores a diferentes partes del texto.</p>
<p>Instalaremos chalk mediante el comando:</p>
<pre><code class="language-bash"><span class="hl-1">npm</span><span class="hl-0"> </span><span class="hl-2">i</span><span class="hl-0"> </span><span class="hl-2">chalk</span>
</code><button>Copy</button></pre>
<p>La última versión se trata de un módulo ESM, por lo que tendremos que modificar el fichero package.json para establecer la propiedad type al valor module:</p>
<pre><code class="language-typescript"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;name&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-albaaperez&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;version&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;1.0.0&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;description&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg)](https://classroom.github.com/a/T5K9tzcv)&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;main&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;index.js&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;type&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;module&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;scripts&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;test&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;c8 mocha&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;coverage&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;c8 npm test &amp;&amp; c8 report --reporter=lcov&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;doc&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;typedoc&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;start&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;tsc-watch --onSuccess </span><span class="hl-3">\&quot;</span><span class="hl-2">node dist/MAGICAPP/index.js</span><span class="hl-3">\&quot;</span><span class="hl-2">&quot;</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;keywords&quot;</span><span class="hl-0">: [],</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;author&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;license&quot;</span><span class="hl-0">: </span><span class="hl-2">&quot;ISC&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;devDependencies&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;@types/chai&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^4.3.12&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;@types/mocha&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^10.0.6&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;@types/sinon&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^17.0.3&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;@types/yargs&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^17.0.32&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;@typescript-eslint/eslint-plugin&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^7.2.0&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;@typescript-eslint/parser&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^7.2.0&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;c8&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^9.1.0&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;chai&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^4.4.1&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;eslint&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^8.57.0&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;mocha&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^10.3.0&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;nyc&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^15.1.0&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;sinon&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^17.0.1&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;ts-node&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^10.9.2&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;tsc-watch&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^6.0.4&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;typedoc&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^0.25.12&quot;</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  </span><span class="hl-2">&quot;dependencies&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;chalk&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^5.3.0&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;rimraf&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^5.0.5&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;typescript&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^5.4.2&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&quot;yargs&quot;</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-2">&quot;^17.7.2&quot;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<p>Además, en el tsconfig deberemos especificar la propiedad module, asígnándole el valor node16.</p>
<p>Un ejemplo de uso de chalk es el siguiente con diferentes estilos y colores:</p>
<pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">chalk</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;chalk&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">log</span><span class="hl-0"> = </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-5">log</span><span class="hl-0">;</span><br/><br/><span class="hl-8">// Estilos y colores simples</span><br/><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">blue</span><span class="hl-0">(</span><span class="hl-2">&quot;Hello&quot;</span><span class="hl-0">) + </span><span class="hl-2">&quot; World&quot;</span><span class="hl-0"> + </span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">red</span><span class="hl-0">(</span><span class="hl-2">&quot;!&quot;</span><span class="hl-0">));</span><br/><br/><span class="hl-8">// Combinación de estilos y colores</span><br/><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">blue</span><span class="hl-0">.</span><span class="hl-5">bgRed</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">&quot;Hello world!&quot;</span><span class="hl-0">));</span><br/><br/><span class="hl-8">// Aplicación a múltiples argumentos</span><br/><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">blue</span><span class="hl-0">(</span><span class="hl-2">&quot;Hello&quot;</span><span class="hl-0">, </span><span class="hl-2">&quot;World!&quot;</span><span class="hl-0">, </span><span class="hl-2">&quot;Foo&quot;</span><span class="hl-0">, </span><span class="hl-2">&quot;bar&quot;</span><span class="hl-0">, </span><span class="hl-2">&quot;biz&quot;</span><span class="hl-0">, </span><span class="hl-2">&quot;baz&quot;</span><span class="hl-0">));</span><br/><br/><span class="hl-8">// Anidamiento de estilos</span><br/><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">red</span><span class="hl-0">(</span><span class="hl-2">&quot;Hello&quot;</span><span class="hl-0">, </span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">underline</span><span class="hl-0">.</span><span class="hl-1">bgBlue</span><span class="hl-0">(</span><span class="hl-2">&quot;world&quot;</span><span class="hl-0">) + </span><span class="hl-2">&quot;!&quot;</span><span class="hl-0">));</span>
</code><button>Copy</button></pre>
<a id="md:yargs" class="tsd-anchor"></a><h2><a href="#md:yargs">Yargs</a></h2><p>El paquete <strong>Yargs</strong> se utiliza para analizar los argumentos pasados a un programa desde la línea de comandos, facilitando la creación de interfaces de usuario interactivas y robustas. Algunas características importantes incluyen:</p>
<p><strong>Gestión de Comandos</strong>: Permite definir y gestionar diferentes comandos, cada uno con sus opciones y manejadores correspondientes.</p>
<p><strong>Validación de Argumentos</strong>: Ofrece opciones para especificar el tipo y la obligatoriedad de los argumentos, facilitando la validación de la entrada del usuario.</p>
<p><strong>API Encadenada</strong>: Permite encadenar varias configuraciones de comandos y opciones para una fácil configuración.</p>
<p><strong>Integración con TypeScript</strong>: Se incluyen los tipos de TypeScript para un desarrollo más seguro y sin errores.</p>
<p>Para el comienzo de su utilización deberemo instalarlo con los siguientes comandos:</p>
<pre><code class="language-bash"><span class="hl-1">npm</span><span class="hl-0"> </span><span class="hl-2">i</span><span class="hl-0"> </span><span class="hl-2">yargs</span><br/><span class="hl-1">npm</span><span class="hl-0"> </span><span class="hl-2">i</span><span class="hl-0"> </span><span class="hl-4">--save-dev</span><span class="hl-0"> </span><span class="hl-2">@types/yargs</span>
</code><button>Copy</button></pre>
<p>Un ejemplo de uso del yargs sería el siguiente:</p>
<pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">yargs</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;yargs&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">hideBin</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;yargs/helpers&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">yargs</span><span class="hl-0">(</span><span class="hl-1">hideBin</span><span class="hl-0">(</span><span class="hl-5">process</span><span class="hl-0">.</span><span class="hl-5">argv</span><span class="hl-0">))</span><br/><span class="hl-0">  .</span><span class="hl-1">command</span><span class="hl-0">(</span><span class="hl-2">&#39;add&#39;</span><span class="hl-0">, </span><span class="hl-2">&#39;Adds a card to the collection&#39;</span><span class="hl-0">, {</span><br/><span class="hl-0">    </span><span class="hl-5">id:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">description:</span><span class="hl-0"> </span><span class="hl-2">&#39;Card ID&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }, (</span><span class="hl-5">argv</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">  .</span><span class="hl-1">help</span><span class="hl-0">()</span><br/><span class="hl-0">  .</span><span class="hl-5">argv</span><span class="hl-0">;</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:11-ejercicio" class="tsd-anchor"></a><h1><a href="#md:11-ejercicio">11. EJERCICIO</a></h1><a id="md:enunciado" class="tsd-anchor"></a><h2><a href="#md:enunciado">Enunciado.</a></h2><p>El proyecto consiste en desarrollar una aplicación cliente-servidor para coleccionistas de cartas Magic. El servidor y el cliente se implementan utilizando los sockets proporcionados por el módulo net de Node.js. Los usuarios pueden realizar operaciones como añadir, modificar, eliminar, listar y mostrar cartas de sus colecciones a través de la línea de comandos del cliente. La información de las cartas se almacena en ficheros JSON en el sistema de archivos del servidor. Se utilizan paquetes como yargs y chalk para gestionar los comandos y el formato de salida. El servidor es capaz de manejar múltiples solicitudes de diferentes clientes simultáneamente. El diseño y las decisiones de implementación se documentan en un informe, y se siguen prácticas como TDD/BDD, flujos de trabajo de GitHub Actions y principios SOLID.</p>
<a id="md:código-propuesto" class="tsd-anchor"></a><h2><a href="#md:código-propuesto">Código propuesto.</a></h2><p>Al ejercicio propuesto se realizó el siguiente código divido en diferentes ficheros para organizarlo.</p>
<p>Se creó el directorio <strong>EJERCICIO</strong> donde se alojará la práctica.</p>
<a id="md:cardts" class="tsd-anchor"></a><h3><a href="#md:cardts">Card.ts</a></h3><pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Color</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;./EnumerationColor.js&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">LineType</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;./EnumerationLineType.js&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Rarity</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;./EnumerationRarity.js&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">/**</span><br/><span class="hl-8"> * Interfaz para la información de las cartas</span><br/><span class="hl-8"> * Esta interfaz se utiliza para definir la estructura de los datos que se van a utilizar en la aplicación</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">id</span><span class="hl-8">: number - Identificador de la carta</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">name</span><span class="hl-8">: string - Nombre de la carta</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">manaCost</span><span class="hl-8">: number - Costo de mana de la carta</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">color</span><span class="hl-8">: string - Color de la carta</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">cardType</span><span class="hl-8">: string - Tipo de carta</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">rarity</span><span class="hl-8">: Rarity, es una enumeracion</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">rulesText</span><span class="hl-8">: string - Texto de reglas de la carta</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">power</span><span class="hl-8">: number - Poder de la carta</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">toughness</span><span class="hl-8">: number - Resistencia de la carta</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">loyalty</span><span class="hl-8">: number - Lealtad de la carta</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">marketValue</span><span class="hl-8">: number - Valor de mercado de la carta</span><br/><span class="hl-8"> */</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-4">interface</span><span class="hl-0"> </span><span class="hl-12">Card</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">id</span><span class="hl-0">: </span><span class="hl-12">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">name</span><span class="hl-0">: </span><span class="hl-12">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">manaCost</span><span class="hl-0">: </span><span class="hl-12">number</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">color</span><span class="hl-0">: </span><span class="hl-12">Color</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">cardType</span><span class="hl-0">: </span><span class="hl-12">LineType</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">rarity</span><span class="hl-0">: </span><span class="hl-12">Rarity</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">rulesText</span><span class="hl-0">: </span><span class="hl-12">string</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-5">power</span><span class="hl-0">?: </span><span class="hl-12">number</span><span class="hl-0">; </span><span class="hl-8">// SOLO se incluyen en aquellas cartas de tipo Criatura</span><br/><span class="hl-0">  </span><span class="hl-5">toughness</span><span class="hl-0">?: </span><span class="hl-12">number</span><span class="hl-0">; </span><span class="hl-8">// solo se incluyen en aquellas cartas de tipo Criatura</span><br/><span class="hl-0">  </span><span class="hl-5">loyalty</span><span class="hl-0">?: </span><span class="hl-12">number</span><span class="hl-0">; </span><span class="hl-8">// solo Planeswalker</span><br/><span class="hl-0">  </span><span class="hl-5">marketValue</span><span class="hl-0">: </span><span class="hl-12">number</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<a id="md:userts" class="tsd-anchor"></a><h3><a href="#md:userts">User.ts</a></h3><pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">chalk</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chalk&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Card</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;./Card.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">FileManager</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;./FileManager.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-4">*</span><span class="hl-0"> </span><span class="hl-6">as</span><span class="hl-0"> </span><span class="hl-5">fs</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-4">*</span><span class="hl-0"> </span><span class="hl-6">as</span><span class="hl-0"> </span><span class="hl-5">path</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;path&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">/**</span><br/><span class="hl-8"> * Clase para la colección de cartas</span><br/><span class="hl-8"> * Esta clase se utiliza para gestionar la colección de cartas de un usuario</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">collection</span><span class="hl-8">: Card[] - Colección de cartas</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">user</span><span class="hl-8">: string - Nombre de usuario</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">fileManager</span><span class="hl-8">: FileManager - Instancia de la clase FileManager</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">loadCollection</span><span class="hl-8">: void - Cargar la colección de cartas</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">addCard</span><span class="hl-8">: void - Añadir una carta a la colección</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">updateCard</span><span class="hl-8">: void - Actualizar una carta de la colección</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">removeCard</span><span class="hl-8">: void - Eliminar una carta de la colección</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">listCards</span><span class="hl-8">: void - Listar las cartas de la colección</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">readCard</span><span class="hl-8">: void - Leer la información de una carta</span><br/><span class="hl-8"> */</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-4">class</span><span class="hl-0"> </span><span class="hl-12">CardCollection</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Colección de cartas del usuario</span><br/><span class="hl-8">   * Es privado y solo se puede acceder desde la clase</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">private</span><span class="hl-0"> </span><span class="hl-5">collection</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">[] = [];</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Usuario propietario de la colección</span><br/><span class="hl-8">   * Es privado y solo se puede acceder desde la clase</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">private</span><span class="hl-0"> </span><span class="hl-5">user</span><span class="hl-0">: </span><span class="hl-12">string</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Instancia de la clase FileManager</span><br/><span class="hl-8">   * Es privado y solo se puede acceder desde la clase</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">private</span><span class="hl-0"> </span><span class="hl-5">fileManager</span><span class="hl-0">: </span><span class="hl-12">FileManager</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Constructor de la clase CardCollection</span><br/><span class="hl-8">   * Se encarga de inicializar el usuario y la instancia de FileManager</span><br/><span class="hl-8">   * Luego carga la colección de cartas</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">constructor</span><span class="hl-0">(</span><span class="hl-5">user</span><span class="hl-0">: </span><span class="hl-12">string</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0"> = </span><span class="hl-5">user</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">fileManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">FileManager</span><span class="hl-0">(</span><span class="hl-5">user</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-1">loadCollection</span><span class="hl-0">(); </span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Método que retorna el color en formato hexadecimal.</span><br/><span class="hl-8">   * Suponemos que el gris es el color incoloro y el magenta es el multicolor.</span><br/><span class="hl-8">   * Si el color no se encuentra en el mapa de colores será negro.</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">colorName</span><span class="hl-8"> nombre del color</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> retorna el color en formato hexadecimal</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">colorName</span><span class="hl-0">: </span><span class="hl-12">string</span><span class="hl-0">): </span><span class="hl-12">string</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">colorMap</span><span class="hl-0">: { [</span><span class="hl-5">key</span><span class="hl-0">: </span><span class="hl-12">string</span><span class="hl-0">]: </span><span class="hl-12">string</span><span class="hl-0"> } = {</span><br/><span class="hl-0">      </span><span class="hl-5">blanco:</span><span class="hl-0"> </span><span class="hl-2">&#39;#FFFFFF&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">azul:</span><span class="hl-0"> </span><span class="hl-2">&#39;#0000FF&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">negro:</span><span class="hl-0"> </span><span class="hl-2">&#39;#000000&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rojo:</span><span class="hl-0"> </span><span class="hl-2">&#39;#FF0000&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">verde:</span><span class="hl-0"> </span><span class="hl-2">&#39;#00FF00&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">amarillo:</span><span class="hl-0"> </span><span class="hl-2">&#39;#FFFF00&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">naranja:</span><span class="hl-0"> </span><span class="hl-2">&#39;#FFA500&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">morado:</span><span class="hl-0"> </span><span class="hl-2">&#39;#800080&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rosa:</span><span class="hl-0"> </span><span class="hl-2">&#39;#FFC0CB&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marron:</span><span class="hl-0"> </span><span class="hl-2">&#39;#A52A2A&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">incoloro:</span><span class="hl-0"> </span><span class="hl-2">&#39;#CCCCCC&#39;</span><span class="hl-0">, </span><br/><span class="hl-0">      </span><span class="hl-5">multicolor:</span><span class="hl-0"> </span><span class="hl-2">&#39;#FF00FF&#39;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-6">return</span><span class="hl-0"> </span><span class="hl-5">colorMap</span><span class="hl-0">[</span><span class="hl-5">colorName</span><span class="hl-0">.</span><span class="hl-1">toLowerCase</span><span class="hl-0">()] || </span><span class="hl-2">&#39;#000000&#39;</span><span class="hl-0">; </span><br/><span class="hl-0">  }</span><br/><span class="hl-0">    </span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Metodo que se encarga de cargar la collecion</span><br/><span class="hl-8">   * desde los ficheros.</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">private</span><span class="hl-0"> </span><span class="hl-1">loadCollection</span><span class="hl-0">(): </span><span class="hl-12">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0"> = </span><span class="hl-5">Array</span><span class="hl-0">.</span><span class="hl-1">from</span><span class="hl-0">(</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">load</span><span class="hl-0">().</span><span class="hl-1">values</span><span class="hl-0">());</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Método para añadir una carta a la colección</span><br/><span class="hl-8">   * Este método añade una nueva carta a la colección del usuario. Si la carta ya existe en la colección,</span><br/><span class="hl-8">   * se muestra un mensaje de error. Si la carta no existe, se añade a la colección y se guarda en el sistema de archivos.</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">card</span><span class="hl-8"> La carta que se va a añadir a la colección.</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> void no devuelve nada</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">): </span><span class="hl-12">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-8">// Si ya existe en la coleccion</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">some</span><span class="hl-0">(</span><span class="hl-5">c</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-5">c</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0"> === </span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">)) {</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">red</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`La carta con ID </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> ya existe en la colección de </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">));</span><br/><span class="hl-0">    } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-8">// si no existe la añadimos</span><br/><span class="hl-0">      </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">push</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-8">// si no existe el directorio lo creamos</span><br/><span class="hl-0">      </span><span class="hl-6">if</span><span class="hl-0"> (!</span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">existsSync</span><span class="hl-0">(</span><span class="hl-5">path</span><span class="hl-0">.</span><span class="hl-1">dirname</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">))) {</span><br/><span class="hl-0">        </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">mkdirSync</span><span class="hl-0">(</span><span class="hl-5">path</span><span class="hl-0">.</span><span class="hl-1">dirname</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">), { </span><span class="hl-5">recursive:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0"> });</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">      </span><span class="hl-8">// guardamos la carta en el sistema de archivos</span><br/><span class="hl-0">      </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">writeFileSync</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">, </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">, </span><span class="hl-4">null</span><span class="hl-0">, </span><span class="hl-9">2</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">green</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`Nueva carta añadida a la colección de </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">));</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Método para actualizar una carta en la colección</span><br/><span class="hl-8">   * Este método actualiza una carta en la colección del usuario. Si la carta no existe en la colección,</span><br/><span class="hl-8">   * se muestra un mensaje de error. Si la carta existe, se actualiza en la colección y se guarda en el sistema de archivos.</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">updatedCard</span><span class="hl-8"> La carta actualizada que se va a añadir a la colección.</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> void no devuelve nada</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-1">updateCard</span><span class="hl-0">(</span><span class="hl-5">updatedCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">): </span><span class="hl-12">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardIndex</span><span class="hl-0"> = </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">findIndex</span><span class="hl-0">(</span><span class="hl-5">c</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-5">c</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0"> === </span><span class="hl-5">updatedCard</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">cardIndex</span><span class="hl-0"> === -</span><span class="hl-9">1</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">red</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`La carta con ID </span><span class="hl-4">${</span><span class="hl-5">updatedCard</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> no existe en la colección de </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">));</span><br/><span class="hl-0">    } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">[</span><span class="hl-5">cardIndex</span><span class="hl-0">] = </span><span class="hl-5">updatedCard</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">writeFileSync</span><span class="hl-0">(</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">updatedCard</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">), </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">(</span><span class="hl-5">updatedCard</span><span class="hl-0">, </span><span class="hl-4">null</span><span class="hl-0">, </span><span class="hl-9">2</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">green</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`Carta actualizada en la colección de </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">));</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Método para eliminar una carta de la colección</span><br/><span class="hl-8">   * Este método elimina una carta de la colección del usuario. Si la carta no existe en la colección,</span><br/><span class="hl-8">   * se muestra un mensaje de error. Si la carta existe, se elimina de la colección y </span><br/><span class="hl-8">   * se borra del sistema de archivos. </span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">id</span><span class="hl-8"> El identificador de la carta que se va a eliminar de la colección.</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> void no devuelve nada</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-1">removeCard</span><span class="hl-0">(</span><span class="hl-5">id</span><span class="hl-0">: </span><span class="hl-12">number</span><span class="hl-0">): </span><span class="hl-12">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-8">// Buscamos la carta en la coleccion</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardIndex</span><span class="hl-0"> = </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">findIndex</span><span class="hl-0">(</span><span class="hl-5">c</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-5">c</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0"> === </span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-8">// Si no existe mostramos un mensaje de error</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">cardIndex</span><span class="hl-0"> === -</span><span class="hl-9">1</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">red</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`La carta con ID </span><span class="hl-4">${</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> no existe en la colección de </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">));</span><br/><span class="hl-0">    } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-8">// Si existe la eliminamos</span><br/><span class="hl-0">      </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">splice</span><span class="hl-0">(</span><span class="hl-5">cardIndex</span><span class="hl-0">, </span><span class="hl-9">1</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">existsSync</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">)) {</span><br/><span class="hl-0">        </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">unlinkSync</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">green</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`Carta eliminada de la colección de </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">));</span><br/><span class="hl-0">      } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">red</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`El archivo de la carta con ID </span><span class="hl-4">${</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> no existe.`</span><span class="hl-0">));</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Método para listar las cartas de la colección</span><br/><span class="hl-8">   * Este método muestra por consola la información de todas las cartas de la colección del usuario.</span><br/><span class="hl-8">   * Muestra cada uno de los atributos de la carta, como el nombre, el coste de mana, el color, </span><br/><span class="hl-8">   * el tipo de carta, etc. Aqui hacemos uso del metodo para obtener el color en hexadecimal.</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> void no devuelve nada</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-1">listCards</span><span class="hl-0">(): </span><span class="hl-12">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`</span><span class="hl-3">\n</span><span class="hl-2">Colección de cartas de </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-3">\n</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">forEach</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">colorCode</span><span class="hl-0"> = </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">color</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">white</span><span class="hl-0">(</span><span class="hl-2">`ID: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">)));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">cyan</span><span class="hl-0">(</span><span class="hl-2">`Nombre: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">name</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">)));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Coste de Mana: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">manaCost</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Color: </span><span class="hl-4">${</span><span class="hl-5">chalk</span><span class="hl-13">.</span><span class="hl-1">hex</span><span class="hl-13">(</span><span class="hl-5">colorCode</span><span class="hl-13">)(</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">color</span><span class="hl-13">)</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Tipo de Línea: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">cardType</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Rareza: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">rarity</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Texto de Reglas: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">rulesText</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">cardType</span><span class="hl-0"> === </span><span class="hl-2">&#39;Criatura&#39;</span><span class="hl-0"> &amp;&amp; </span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">power</span><span class="hl-0"> &amp;&amp; </span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">toughness</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Fuerza/Resistencia: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">power</span><span class="hl-4">}</span><span class="hl-2">/</span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">toughness</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">      </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">loyalty</span><span class="hl-0"> &amp;&amp; </span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">cardType</span><span class="hl-0"> === </span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Marcas de Lealtad: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">loyalty</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Valor de Mercado: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">marketValue</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-2">&quot;&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Método para leer la información de una carta</span><br/><span class="hl-8">   * Este método muestra por consola la información de una carta de la colección del usuario.</span><br/><span class="hl-8">   * Muestra cada uno de los atributos de la carta, como el nombre, el coste de mana, el color,</span><br/><span class="hl-8">   * el tipo de carta, etc. Aqui hacemos uso del metodo para obtener el color en hexadecimal.</span><br/><span class="hl-8">   * Si la carta no existe en la colección, se muestra un mensaje de error.</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">id</span><span class="hl-8"> El identificador de la carta que se va a leer.</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> void no devuelve nada</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-1">readCard</span><span class="hl-0">(</span><span class="hl-5">id</span><span class="hl-0">: </span><span class="hl-12">number</span><span class="hl-0">): </span><span class="hl-12">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0"> = </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">find</span><span class="hl-0">(</span><span class="hl-5">c</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-5">c</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0"> === </span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (!</span><span class="hl-5">card</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">red</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`La carta con ID </span><span class="hl-4">${</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> no existe en la colección de </span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">));</span><br/><span class="hl-0">    } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">colorCode</span><span class="hl-0"> = </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">color</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`</span><span class="hl-3">\n</span><span class="hl-2">Información de la carta con ID </span><span class="hl-4">${</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-3">\n</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">cyan</span><span class="hl-0">(</span><span class="hl-2">`Nombre: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">name</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">)));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Coste de Mana: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">manaCost</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Color: </span><span class="hl-4">${</span><span class="hl-5">chalk</span><span class="hl-13">.</span><span class="hl-1">hex</span><span class="hl-13">(</span><span class="hl-5">colorCode</span><span class="hl-13">)(</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">color</span><span class="hl-13">)</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Tipo de Carta: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">cardType</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Rareza: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">rarity</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Texto de Reglas: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">rulesText</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">cardType</span><span class="hl-0"> === </span><span class="hl-2">&#39;Criatura&#39;</span><span class="hl-0"> &amp;&amp; </span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">power</span><span class="hl-0"> &amp;&amp; </span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">toughness</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Fuerza/Resistencia: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">power</span><span class="hl-4">}</span><span class="hl-2">/</span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">toughness</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">      </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">loyalty</span><span class="hl-0"> &amp;&amp; </span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">cardType</span><span class="hl-0"> === </span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Marcas de Lealtad: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">loyalty</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">      </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Valor de Mercado: </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">marketValue</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">));</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<a id="md:file-manager" class="tsd-anchor"></a><h3><a href="#md:file-manager">File Manager.</a></h3><pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">fs</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Card</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;./Card.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-4">*</span><span class="hl-0"> </span><span class="hl-6">as</span><span class="hl-0"> </span><span class="hl-5">path</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;path&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">/**</span><br/><span class="hl-8"> * Clase para la gestión de archivos</span><br/><span class="hl-8"> * Esta clase se utiliza para guardar y cargar la información de las cartas en archivos JSON</span><br/><span class="hl-8"> * Cada usuario tiene su propio directorio y cada carta se guarda en un archivo JSON</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">username</span><span class="hl-8">: string - Nombre de usuario</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">userDir</span><span class="hl-8">: string - Directorio del usuario</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">getFilePath</span><span class="hl-8">: string - Ruta del archivo</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">save</span><span class="hl-8">: void - Guardar la colección de cartas en archivos JSON</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">load</span><span class="hl-8">: Map&lt;number, Card&gt; - Cargar la colección de cartas desde archivos JSON</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">collection</span><span class="hl-8">: Map&lt;number, Card&gt; - Colección de cartas</span><br/><span class="hl-8"> */</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-4">class</span><span class="hl-0"> </span><span class="hl-12">FileManager</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Directorio del usuario, donde se guardan los archivos JSON</span><br/><span class="hl-8">   * Es privado y solo se puede acceder desde la clase</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">private</span><span class="hl-0"> </span><span class="hl-4">readonly</span><span class="hl-0"> </span><span class="hl-5">userDir</span><span class="hl-0">: </span><span class="hl-12">string</span><span class="hl-0">;</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Constructor de la clase FileManager</span><br/><span class="hl-8">   * Se encarga de inicializar el directorio del usuario según el nombre de usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">username</span><span class="hl-8"> username: string - Nombre de usuario</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">constructor</span><span class="hl-0">(</span><span class="hl-4">private</span><span class="hl-0"> </span><span class="hl-5">username</span><span class="hl-0">: </span><span class="hl-12">string</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">userDir</span><span class="hl-0"> = </span><span class="hl-2">`./src/MAGICAPP/users/</span><span class="hl-4">${</span><span class="hl-5">username</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">  </span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Método que retorna el directorio del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> Retorna el directorio del usuario </span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-1">getUserDir</span><span class="hl-0">(): </span><span class="hl-12">string</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-6">return</span><span class="hl-0"> </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">userDir</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Retorna la ruta del archivo de la carta</span><br/><span class="hl-8">   * Lo que hace es concatenar el directorio del usuario con el nombre del archivo</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">cardId</span><span class="hl-8"> cardId: number - Identificador de la carta</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> retorna la ruta del archivo</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">cardId</span><span class="hl-0">: </span><span class="hl-12">number</span><span class="hl-0">): </span><span class="hl-12">string</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-6">return</span><span class="hl-0"> </span><span class="hl-5">path</span><span class="hl-0">.</span><span class="hl-1">join</span><span class="hl-0">(</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">userDir</span><span class="hl-0">, </span><span class="hl-2">`card</span><span class="hl-4">${</span><span class="hl-5">cardId</span><span class="hl-4">}</span><span class="hl-2">.json`</span><span class="hl-0">);</span><br/><span class="hl-0">  }</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Método que guarda la colección de cartas en archivos JSON</span><br/><span class="hl-8">   * Lo que hace es comprobar si el directorio del usuario existe, si no existe lo crea</span><br/><span class="hl-8">   * Luego recorre la colección de cartas y guarda cada carta en un archivo JSON</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">collection</span><span class="hl-8"> collection: Map&lt;number, Card&gt; - Colección de cartas</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-1">save</span><span class="hl-0">(</span><span class="hl-5">collection</span><span class="hl-0">: </span><span class="hl-12">Map</span><span class="hl-0">&lt;</span><span class="hl-12">number</span><span class="hl-0">, </span><span class="hl-12">Card</span><span class="hl-0">&gt;): </span><span class="hl-12">void</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (!</span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">existsSync</span><span class="hl-0">(</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">userDir</span><span class="hl-0">)) {</span><br/><span class="hl-0">      </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">mkdirSync</span><span class="hl-0">(</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">userDir</span><span class="hl-0">, { </span><span class="hl-5">recursive:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0"> });</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-6">for</span><span class="hl-0"> (</span><span class="hl-4">const</span><span class="hl-0"> [</span><span class="hl-10">cardId</span><span class="hl-0">, </span><span class="hl-10">card</span><span class="hl-0">] </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">collection</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">writeFileSync</span><span class="hl-0">(</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">cardId</span><span class="hl-0">), </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">, </span><span class="hl-4">null</span><span class="hl-0">, </span><span class="hl-9">2</span><span class="hl-0">));</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">  </span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Método que carga la colección de cartas desde archivos JSON</span><br/><span class="hl-8">   * Lo que hace es comprobar si el directorio del usuario existe, si no existe retorna un Map vacío</span><br/><span class="hl-8">   * Luego lee los archivos JSON del directorio y los guarda en la colección</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> retorna la colección de cartas</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">public</span><span class="hl-0"> </span><span class="hl-1">load</span><span class="hl-0">(): </span><span class="hl-12">Map</span><span class="hl-0">&lt;</span><span class="hl-12">number</span><span class="hl-0">, </span><span class="hl-12">Card</span><span class="hl-0">&gt; {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">Map</span><span class="hl-0">&lt;</span><span class="hl-12">number</span><span class="hl-0">, </span><span class="hl-12">Card</span><span class="hl-0">&gt;();</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">existsSync</span><span class="hl-0">(</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">userDir</span><span class="hl-0">)) {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">files</span><span class="hl-0"> = </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">readdirSync</span><span class="hl-0">(</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">userDir</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-6">for</span><span class="hl-0"> (</span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">file</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">files</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">data</span><span class="hl-0"> = </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">readFileSync</span><span class="hl-0">(</span><span class="hl-2">`</span><span class="hl-4">${</span><span class="hl-4">this</span><span class="hl-13">.</span><span class="hl-5">userDir</span><span class="hl-4">}</span><span class="hl-2">/</span><span class="hl-4">${</span><span class="hl-5">file</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">, </span><span class="hl-2">&#39;utf-8&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">parse</span><span class="hl-0">(</span><span class="hl-5">data</span><span class="hl-0">) </span><span class="hl-6">as</span><span class="hl-0"> </span><span class="hl-12">Card</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">set</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">, </span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-6">return</span><span class="hl-0"> </span><span class="hl-5">collection</span><span class="hl-0">;</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<a id="md:enumerationcolorts" class="tsd-anchor"></a><h3><a href="#md:enumerationcolorts">EnumerationColor.ts</a></h3><pre><code class="language-typescript"><span class="hl-8">/**</span><br/><span class="hl-8"> * Enumeración de colores para las cartas</span><br/><span class="hl-8"> * Esta enumeración se utiliza para definir los colores de las cartas</span><br/><span class="hl-8"> * Cada carta tiene un color que puede ser blanco, azul, </span><br/><span class="hl-8"> * negro, rojo, verde, incoloro, incluso multicolor...</span><br/><span class="hl-8"> */</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-4">enum</span><span class="hl-0"> </span><span class="hl-12">Color</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-10">Blanco</span><span class="hl-0"> = </span><span class="hl-2">&#39;Blanco&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Azul</span><span class="hl-0"> = </span><span class="hl-2">&#39;Azul&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Negro</span><span class="hl-0"> = </span><span class="hl-2">&#39;Negro&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Rojo</span><span class="hl-0"> = </span><span class="hl-2">&#39;Rojo&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Verde</span><span class="hl-0"> = </span><span class="hl-2">&#39;Verde&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Incoloro</span><span class="hl-0"> = </span><span class="hl-2">&#39;Incoloro&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Multicolor</span><span class="hl-0"> = </span><span class="hl-2">&#39;Multicolor&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Amarillo</span><span class="hl-0"> = </span><span class="hl-2">&#39;Amarillo&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Morado</span><span class="hl-0"> = </span><span class="hl-2">&#39;Morado&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Rosa</span><span class="hl-0"> = </span><span class="hl-2">&#39;Rosa&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Marron</span><span class="hl-0"> = </span><span class="hl-2">&#39;Marron&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Naranja</span><span class="hl-0"> = </span><span class="hl-2">&#39;Naranja&#39;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<a id="md:enumerationlinetypets" class="tsd-anchor"></a><h3><a href="#md:enumerationlinetypets">EnumerationLineType.ts</a></h3><pre><code class="language-typescript"><span class="hl-8">/**</span><br/><span class="hl-8"> * Enumeración de los tipos de cartas</span><br/><span class="hl-8"> * Las cartas pueden ser de diferentes tipos.</span><br/><span class="hl-8"> */</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-4">enum</span><span class="hl-0"> </span><span class="hl-12">LineType</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-10">Tierra</span><span class="hl-0"> = </span><span class="hl-2">&#39;Tierra&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Criatura</span><span class="hl-0"> = </span><span class="hl-2">&#39;Criatura&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Encantamiento</span><span class="hl-0"> = </span><span class="hl-2">&#39;Encantamiento&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Conjuro</span><span class="hl-0"> = </span><span class="hl-2">&#39;Conjuro&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Instantáneo</span><span class="hl-0"> = </span><span class="hl-2">&#39;Instantáneo&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Artefacto</span><span class="hl-0"> = </span><span class="hl-2">&#39;Artefacto&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Planeswalker</span><span class="hl-0"> = </span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<a id="md:enumerationrarityts" class="tsd-anchor"></a><h3><a href="#md:enumerationrarityts">EnumerationRarity.ts</a></h3><pre><code class="language-typescript"><span class="hl-8">/**</span><br/><span class="hl-8"> * Enumeración de las rarezas de las cartas</span><br/><span class="hl-8"> * Las cartas pueden ser de diferentes tipos de rareza</span><br/><span class="hl-8"> * Hay 4 tipos de rarezas: comun, infrecuente, rara y mítica.</span><br/><span class="hl-8"> */</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-4">enum</span><span class="hl-0"> </span><span class="hl-12">Rarity</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-10">Comun</span><span class="hl-0"> = </span><span class="hl-2">&#39;Comun&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Infrecuente</span><span class="hl-0"> = </span><span class="hl-2">&#39;Infrecuente&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Rara</span><span class="hl-0"> = </span><span class="hl-2">&#39;Rara&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-10">Mítica</span><span class="hl-0"> = </span><span class="hl-2">&#39;Mítica&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<a id="md:indexts" class="tsd-anchor"></a><h3><a href="#md:indexts">index.ts</a></h3><pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">yargs</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;yargs&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">CardCollection</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;./User.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Color</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;./EnumerationColor.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">LineType</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;./EnumerationLineType.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Rarity</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;./EnumerationRarity.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">net</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;net&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">// Conectar al servidor el cliente</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">client</span><span class="hl-0"> = </span><span class="hl-5">net</span><span class="hl-0">.</span><span class="hl-1">connect</span><span class="hl-0">({ </span><span class="hl-5">port:</span><span class="hl-0"> </span><span class="hl-9">60300</span><span class="hl-0"> });</span><br/><br/><span class="hl-8">// Escuchar datos del servidor</span><br/><span class="hl-5">client</span><span class="hl-0">.</span><span class="hl-1">on</span><span class="hl-0">(</span><span class="hl-2">&#39;data&#39;</span><span class="hl-0">, </span><span class="hl-5">data</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-5">data</span><span class="hl-0">.</span><span class="hl-1">toString</span><span class="hl-0">());</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-8">// Definir comandos y opciones utilizando yargs</span><br/><span class="hl-8">/**</span><br/><span class="hl-8"> * Comando para gestionar la colección de cartas</span><br/><span class="hl-8"> * Se pueden añadir, listar, actualizar, leer y eliminar cartas de la colección</span><br/><span class="hl-8"> * Los comandos disponibles son:</span><br/><span class="hl-8"> * - add: Añade un nuevo usuario a la colección</span><br/><span class="hl-8"> * - list: Lista todos los usuarios de la colección</span><br/><span class="hl-8"> * - update: Actualiza un usuario de la colección</span><br/><span class="hl-8"> * - read: Lee un usuario de la colección</span><br/><span class="hl-8"> * - remove: Elimina un usuario de la colección</span><br/><span class="hl-8"> * Para más información sobre los comandos, ejecutar el comando --help</span><br/><span class="hl-8"> */</span><br/><span class="hl-1">yargs</span><span class="hl-0">(</span><span class="hl-5">process</span><span class="hl-0">.</span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-1">slice</span><span class="hl-0">(</span><span class="hl-9">2</span><span class="hl-0">))</span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Comando para añadir un nuevo usuario a la colección</span><br/><span class="hl-8">   * Por parámetros se deben indicar el nombre del usuario, el ID, el nombre, </span><br/><span class="hl-8">   * el coste de mana, el color, el tipo de línea, la rareza, el texto de reglas y el valor de mercado.</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">user</span><span class="hl-8">: string - Nombre del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">id</span><span class="hl-8">: number - ID del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">name</span><span class="hl-8">: string - Nombre del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">manaCost</span><span class="hl-8">: number - Coste de mana</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">color</span><span class="hl-8">: string - Color del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">lineType</span><span class="hl-8">: string - Tipo de línea del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">rarity</span><span class="hl-8">: string - Rareza del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">rulesText</span><span class="hl-8">: string - Texto de reglas del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">power</span><span class="hl-8">: number - Poder del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">toughness</span><span class="hl-8">: number - Resistencia del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">loyaltyMarks</span><span class="hl-8">: number - Marcas de lealtad del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">marketValue</span><span class="hl-8">: number - Valor de mercado del usuario</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  .</span><span class="hl-1">command</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-5">command:</span><span class="hl-0"> </span><span class="hl-2">&#39;add&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Añade un nuevo usuario a la colección&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">builder:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">user:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Nombre del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;ID del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Nombre del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Coste de mana&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Color del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">, </span><span class="hl-5">choices:</span><span class="hl-0"> </span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">) },</span><br/><span class="hl-0">      </span><span class="hl-5">lineType:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Tipo de línea del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">, </span><span class="hl-5">choices:</span><span class="hl-0"> </span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">) },</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Rareza del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">, </span><span class="hl-5">choices:</span><span class="hl-0"> </span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">) },</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Texto de reglas del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">power:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Poder del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">, </span><span class="hl-5">default:</span><span class="hl-0"> [] },</span><br/><span class="hl-0">      </span><span class="hl-5">toughness:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Resistencia del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">, </span><span class="hl-5">default:</span><span class="hl-0"> [] },</span><br/><span class="hl-0">      </span><span class="hl-5">loyaltyMarks:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Marcas de lealtad del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Valor de mercado del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> }</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-8">// esto se ejecuta cuando se llama al comando</span><br/><span class="hl-0">    </span><span class="hl-1">handler</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">user</span><span class="hl-0"> = {</span><br/><span class="hl-0">        </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">name</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">manaCost</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">color</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">lineType</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">rarity</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">rulesText</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">power:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">power</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">toughness:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">toughness</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">loyalty:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">loyaltyMarks</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">marketValue</span><br/><span class="hl-0">      };</span><br/><span class="hl-0">      </span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">user</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">data</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">({ </span><span class="hl-5">action:</span><span class="hl-0"> </span><span class="hl-2">&#39;add&#39;</span><span class="hl-0">, </span><span class="hl-5">user:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">, </span><span class="hl-5">card:</span><span class="hl-0"> </span><span class="hl-5">user</span><span class="hl-0">, </span><span class="hl-5">close:</span><span class="hl-0"> </span><span class="hl-2">&#39;CLOSED&#39;</span><span class="hl-0"> });</span><br/><span class="hl-0">      </span><span class="hl-5">client</span><span class="hl-0">.</span><span class="hl-1">write</span><span class="hl-0">(</span><span class="hl-5">data</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Comando para listar todos los usuarios de la colección</span><br/><span class="hl-8">   * Por parámetros se debe indicar el nombre del usuario y se listan todos los usuarios de la colección</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">user</span><span class="hl-8">: string - Nombre del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> retorna la lista de usuarios de la colección</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  .</span><span class="hl-1">command</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-5">command:</span><span class="hl-0"> </span><span class="hl-2">&#39;list&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Lista todos los usuarios de la colección&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">builder:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">user:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Nombre del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0"> }</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">handler</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">listCards</span><span class="hl-0">();</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">data</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">({ </span><span class="hl-5">action:</span><span class="hl-0"> </span><span class="hl-2">&#39;list&#39;</span><span class="hl-0">, </span><span class="hl-5">user:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">, </span><span class="hl-5">close:</span><span class="hl-0"> </span><span class="hl-2">&#39;CLOSED&#39;</span><span class="hl-0"> });</span><br/><span class="hl-0">      </span><span class="hl-5">client</span><span class="hl-0">.</span><span class="hl-1">write</span><span class="hl-0">(</span><span class="hl-5">data</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Comando para actualizar un usuario de la colección</span><br/><span class="hl-8">   * Por parámetros se deben indicar el nombre del usuario, el ID y los campos a actualizar</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">user</span><span class="hl-8">: string - Nombre del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">id</span><span class="hl-8">: number - ID del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">name</span><span class="hl-8">: string - Nombre del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">manaCost</span><span class="hl-8">: number - Coste de mana</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">color</span><span class="hl-8">: string - Color del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">lineType</span><span class="hl-8">: string - Tipo de línea del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">rarity</span><span class="hl-8">: string - Rareza del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">rulesText</span><span class="hl-8">: string - Texto de reglas del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">power</span><span class="hl-8">: number - Poder del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">toughness</span><span class="hl-8">: number - Resistencia del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">loyaltyMarks</span><span class="hl-8">: number - Marcas de lealtad del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">marketValue</span><span class="hl-8">: number - Valor de mercado del usuario</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  .</span><span class="hl-1">command</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-5">command:</span><span class="hl-0"> </span><span class="hl-2">&#39;update&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Actualiza un usuario de la colección&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">builder:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">user:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Nombre del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;ID del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Nombre del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Coste de mana&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Color del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">, </span><span class="hl-5">choices:</span><span class="hl-0"> </span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">) },</span><br/><span class="hl-0">      </span><span class="hl-5">lineType:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Tipo de línea del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">, </span><span class="hl-5">choices:</span><span class="hl-0"> </span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">) },</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Rareza del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">, </span><span class="hl-5">choices:</span><span class="hl-0"> </span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">) },</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Texto de reglas del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">power:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Poder  del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">, </span><span class="hl-5">default:</span><span class="hl-0"> [] },</span><br/><span class="hl-0">      </span><span class="hl-5">toughness:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Resistencia del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">, </span><span class="hl-5">default:</span><span class="hl-0"> [] },</span><br/><span class="hl-0">      </span><span class="hl-5">loyaltyMarks:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Marcas de lealtad del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Valor de mercado del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> }</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">handler</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">user</span><span class="hl-0"> = {</span><br/><span class="hl-0">        </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">name</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">manaCost</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">color</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">lineType</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">rarity</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">rulesText</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">power:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">power</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">toughness:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">toughness</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">loyalty:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">loyaltyMarks</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">marketValue</span><br/><span class="hl-0">      };</span><br/><span class="hl-0">      </span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">updateCard</span><span class="hl-0">(</span><span class="hl-5">user</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">data</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">({ </span><span class="hl-5">action:</span><span class="hl-0"> </span><span class="hl-2">&#39;update&#39;</span><span class="hl-0">, </span><span class="hl-5">user:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">, </span><span class="hl-5">card:</span><span class="hl-0"> </span><span class="hl-5">user</span><span class="hl-0">, </span><span class="hl-5">close:</span><span class="hl-0"> </span><span class="hl-2">&#39;CLOSED&#39;</span><span class="hl-0"> });</span><br/><span class="hl-0">      </span><span class="hl-5">client</span><span class="hl-0">.</span><span class="hl-1">write</span><span class="hl-0">(</span><span class="hl-5">data</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Comando para leer un usuario de la colección</span><br/><span class="hl-8">   * Por parámetros se deben indicar el nombre del usuario y el ID del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">user</span><span class="hl-8">: string - Nombre del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">id</span><span class="hl-8">: number - ID del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> retorna el usuario de la colección</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  .</span><span class="hl-1">command</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-5">command:</span><span class="hl-0"> </span><span class="hl-2">&#39;read&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Lee un usuario de la colección&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">builder:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">user:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Nombre del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;ID del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> }</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">handler</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">readCard</span><span class="hl-0">(</span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">data</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">({ </span><span class="hl-5">action:</span><span class="hl-0"> </span><span class="hl-2">&#39;read&#39;</span><span class="hl-0">, </span><span class="hl-5">user:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">, </span><span class="hl-5">cardID:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">, </span><span class="hl-5">close:</span><span class="hl-0"> </span><span class="hl-2">&#39;CLOSED&#39;</span><span class="hl-0"> });</span><br/><span class="hl-0">      </span><span class="hl-5">client</span><span class="hl-0">.</span><span class="hl-1">write</span><span class="hl-0">(</span><span class="hl-5">data</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Comando para eliminar un usuario de la colección</span><br/><span class="hl-8">   * Por parámetros se deben indicar el nombre del usuario y el ID del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">user</span><span class="hl-8">: string - Nombre del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">id</span><span class="hl-8">: number - ID del usuario</span><br/><span class="hl-8">   * </span><span class="hl-4">@returns</span><span class="hl-8"> retorna el usuario eliminado de la colección</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  .</span><span class="hl-1">command</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-5">command:</span><span class="hl-0"> </span><span class="hl-2">&#39;remove&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Elimina un usuario de la colección&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">builder:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">user:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;Nombre del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;string&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> { </span><span class="hl-5">describe:</span><span class="hl-0"> </span><span class="hl-2">&#39;ID del usuario&#39;</span><span class="hl-0">, </span><span class="hl-5">demandOption:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0">, </span><span class="hl-5">type:</span><span class="hl-0"> </span><span class="hl-2">&#39;number&#39;</span><span class="hl-0"> }</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-1">handler</span><span class="hl-5">:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">removeCard</span><span class="hl-0">(</span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">data</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">({ </span><span class="hl-5">action:</span><span class="hl-0"> </span><span class="hl-2">&#39;remove&#39;</span><span class="hl-0">, </span><span class="hl-5">user:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">, </span><span class="hl-5">cardID:</span><span class="hl-0"> </span><span class="hl-5">argv</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">, </span><span class="hl-5">close:</span><span class="hl-0"> </span><span class="hl-2">&#39;CLOSED&#39;</span><span class="hl-0"> });</span><br/><span class="hl-0">      </span><span class="hl-5">client</span><span class="hl-0">.</span><span class="hl-1">write</span><span class="hl-0">(</span><span class="hl-5">data</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  })</span><br/><span class="hl-0">  </span><span class="hl-8">// comandos de ayuda</span><br/><span class="hl-0">  .</span><span class="hl-1">help</span><span class="hl-0">()</span><br/><span class="hl-0">  .</span><span class="hl-1">parse</span><span class="hl-0">();</span><br/>
</code><button>Copy</button></pre>
<a id="md:serverts" class="tsd-anchor"></a><h3><a href="#md:serverts">Server.ts</a></h3><pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">net</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;net&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">CardCollection</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;./User.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">EventEmitterSocket</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;./EventEmitterSocket.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">/**</span><br/><span class="hl-8"> * Servidor que gestiona la colección de cartas de los usuarios</span><br/><span class="hl-8"> * Los comandos disponibles son:</span><br/><span class="hl-8"> * - add: Añade una carta a la colección de un usuario</span><br/><span class="hl-8"> * - remove: Elimina una carta de la colección de un usuario</span><br/><span class="hl-8"> * - update: Actualiza una carta de la colección de un usuario</span><br/><span class="hl-8"> * - read: Lee una carta de la colección de un usuario</span><br/><span class="hl-8"> * - list: Lista todas las cartas de la colección de un usuario</span><br/><span class="hl-8"> */</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">server</span><span class="hl-0"> = </span><span class="hl-5">net</span><span class="hl-0">.</span><span class="hl-1">createServer</span><span class="hl-0">(</span><span class="hl-5">connection</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">// Cuando un cliente se conecta imprime un mensaje</span><br/><span class="hl-0">  </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-2">&#39;Cliente conectado.&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  </span><span class="hl-8">// Crear una instancia de EventEmitterSocket para gestionar la conexión</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">eventEmitterSocket</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">EventEmitterSocket</span><span class="hl-0">(</span><span class="hl-5">connection</span><span class="hl-0">);</span><br/><span class="hl-0">  </span><span class="hl-4">let</span><span class="hl-0"> </span><span class="hl-5">requestData</span><span class="hl-0"> = </span><span class="hl-2">&#39;&#39;</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-8">// Escuchar el evento &#39;request&#39; para gestionar las peticiones</span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Escuchar el evento &#39;request&#39; para gestionar las peticiones</span><br/><span class="hl-8">   * Imprime un mensaje cuando se recibe una petición completa</span><br/><span class="hl-8">   * Procesa la petición y envía una respuesta al cliente</span><br/><span class="hl-8">   * </span><span class="hl-4">@event</span><span class="hl-8"> </span><span class="hl-12">request</span><span class="hl-8"> - evento que se emite cuando se recibe una petición completa</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">request</span><span class="hl-8"> - petición recibida</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">connection</span><span class="hl-8"> - conexión del cliente</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-5">eventEmitterSocket</span><span class="hl-0">.</span><span class="hl-1">on</span><span class="hl-0">(</span><span class="hl-2">&#39;request&#39;</span><span class="hl-0">, (</span><span class="hl-5">request</span><span class="hl-0">, </span><span class="hl-5">connection</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-2">&#39;Petición completa recibida:&#39;</span><span class="hl-0">, </span><span class="hl-5">request</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-8">// Procesar la petición y enviar una respuesta</span><br/><span class="hl-0">    </span><span class="hl-6">try</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardRequest</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">parse</span><span class="hl-0">(</span><span class="hl-5">request</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-5">cardRequest</span><span class="hl-0">.</span><span class="hl-5">user</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">let</span><span class="hl-0"> </span><span class="hl-5">answer</span><span class="hl-0"> = </span><span class="hl-2">&#39;&#39;</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-8">// Realizar la acción correspondiente según el comando recibido</span><br/><span class="hl-0">      </span><span class="hl-6">switch</span><span class="hl-0"> (</span><span class="hl-5">cardRequest</span><span class="hl-0">.</span><span class="hl-5">action</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-6">case</span><span class="hl-0"> </span><span class="hl-2">&#39;add&#39;</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">cardRequest</span><span class="hl-0">.</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">          </span><span class="hl-5">answer</span><span class="hl-0"> = </span><span class="hl-2">`Card with ID </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> added to the collection of </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">;</span><br/><span class="hl-0">          </span><span class="hl-6">break</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-6">case</span><span class="hl-0"> </span><span class="hl-2">&#39;remove&#39;</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">removeCard</span><span class="hl-0">(</span><span class="hl-5">cardRequest</span><span class="hl-0">.</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">          </span><span class="hl-5">answer</span><span class="hl-0"> = </span><span class="hl-2">`Card with ID </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> removed from the collection of </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">;</span><br/><span class="hl-0">          </span><span class="hl-6">break</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-6">case</span><span class="hl-0"> </span><span class="hl-2">&#39;update&#39;</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">updateCard</span><span class="hl-0">(</span><span class="hl-5">cardRequest</span><span class="hl-0">.</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">          </span><span class="hl-5">answer</span><span class="hl-0"> = </span><span class="hl-2">`Card with ID </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> updated in the collection of </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">;</span><br/><span class="hl-0">          </span><span class="hl-6">break</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-6">case</span><span class="hl-0"> </span><span class="hl-2">&#39;read&#39;</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardToRead</span><span class="hl-0"> = </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">readCard</span><span class="hl-0">(</span><span class="hl-5">cardRequest</span><span class="hl-0">.</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">          </span><span class="hl-5">answer</span><span class="hl-0"> = </span><span class="hl-2">`Card with ID </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> read from the collection of </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">: </span><span class="hl-4">${</span><span class="hl-10">JSON</span><span class="hl-13">.</span><span class="hl-1">stringify</span><span class="hl-13">(</span><span class="hl-5">cardToRead</span><span class="hl-13">)</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">;</span><br/><span class="hl-0">          </span><span class="hl-6">break</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-6">case</span><span class="hl-0"> </span><span class="hl-2">&#39;list&#39;</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cards</span><span class="hl-0"> = </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">listCards</span><span class="hl-0">();</span><br/><span class="hl-0">          </span><span class="hl-5">answer</span><span class="hl-0"> = </span><span class="hl-2">`Cards in the collection of </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">user</span><span class="hl-4">}</span><span class="hl-2">: </span><span class="hl-4">${</span><span class="hl-10">JSON</span><span class="hl-13">.</span><span class="hl-1">stringify</span><span class="hl-13">(</span><span class="hl-5">cards</span><span class="hl-13">)</span><span class="hl-4">}</span><span class="hl-2">.`</span><span class="hl-0">;</span><br/><span class="hl-0">          </span><span class="hl-6">break</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-6">default</span><span class="hl-0">:</span><br/><span class="hl-0">          </span><span class="hl-5">answer</span><span class="hl-0"> = </span><span class="hl-2">`Unknown command: </span><span class="hl-4">${</span><span class="hl-5">cardRequest</span><span class="hl-13">.</span><span class="hl-5">action</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">;</span><br/><span class="hl-0">          </span><span class="hl-6">break</span><span class="hl-0">;</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">      </span><span class="hl-8">// Enviar la respuesta al cliente</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">responseObject</span><span class="hl-0"> = { </span><span class="hl-5">response:</span><span class="hl-0"> </span><span class="hl-5">answer</span><span class="hl-0"> };</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">responseString</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">(</span><span class="hl-5">responseObject</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">connection</span><span class="hl-0">.</span><span class="hl-1">write</span><span class="hl-0">(</span><span class="hl-5">responseString</span><span class="hl-0">);</span><br/><span class="hl-0">    } </span><span class="hl-6">catch</span><span class="hl-0"> (</span><span class="hl-5">error</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">responseData</span><span class="hl-0"> = { </span><span class="hl-5">error:</span><span class="hl-0"> </span><span class="hl-5">error</span><span class="hl-0">.</span><span class="hl-5">message</span><span class="hl-0"> };</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">responseString</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">(</span><span class="hl-5">responseData</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">connection</span><span class="hl-0">.</span><span class="hl-1">write</span><span class="hl-0">(</span><span class="hl-5">responseString</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-8">// Cerrar la conexión después de enviar la respuesta</span><br/><span class="hl-0">    </span><span class="hl-5">connection</span><span class="hl-0">.</span><span class="hl-1">end</span><span class="hl-0">();</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Escuchar el evento &#39;close&#39; para gestionar la desconexión del cliente</span><br/><span class="hl-8">   * Imprime un mensaje cuando el cliente se desconecta</span><br/><span class="hl-8">   * </span><span class="hl-4">@event</span><span class="hl-8"> </span><span class="hl-12">close</span><span class="hl-8"> - evento que se emite cuando la conexión se cierra</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-5">eventEmitterSocket</span><span class="hl-0">.</span><span class="hl-1">on</span><span class="hl-0">(</span><span class="hl-2">&#39;close&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-2">&#39;Cliente desconectado.&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-8">/**</span><br/><span class="hl-8"> * Servidor escuchando en el puerto 60300</span><br/><span class="hl-8"> * Imprime un mensaje cuando el servidor está esperando conexiones</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> 60300 - puerto en el que escucha el servidor</span><br/><span class="hl-8"> */</span><br/><span class="hl-5">server</span><span class="hl-0">.</span><span class="hl-1">listen</span><span class="hl-0">(</span><span class="hl-9">60300</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-1">log</span><span class="hl-0">(</span><span class="hl-2">&#39;Servidor esperando conexiones...&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">});</span>
</code><button>Copy</button></pre>
<a id="md:eventemittersocketts" class="tsd-anchor"></a><h3><a href="#md:eventemittersocketts">EventEmitterSocket.ts</a></h3><pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">EventEmitter</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;events&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">/**</span><br/><span class="hl-8"> * Clase que extiende de EventEmitter y se encarga de emitir eventos cuando se recibe un mensaje completo</span><br/><span class="hl-8"> * Posee un constructor que recibe una conexion y se encarga de recibir los datos de la conexion y emitir un evento cuando se recibe un mensaje completo</span><br/><span class="hl-8"> * </span><span class="hl-4">@extends</span><span class="hl-8"> </span><span class="hl-12">EventEmitter</span><span class="hl-8"> clase de node.js de la que hereda</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">connection</span><span class="hl-8"> - instancia de eventmitter que representa la conexion</span><br/><span class="hl-8"> * </span><span class="hl-4">@event</span><span class="hl-8"> </span><span class="hl-12">request</span><span class="hl-8"> - evento que se emite cuando se recibe un mensaje completo</span><br/><span class="hl-8"> * </span><span class="hl-4">@event</span><span class="hl-8"> </span><span class="hl-12">close</span><span class="hl-8"> - evento que se emite cuando la conexion se cierra</span><br/><span class="hl-8"> * </span><span class="hl-4">@function</span><span class="hl-8"> </span><span class="hl-12">on</span><span class="hl-8"> - metodo de EventEmitter que se encarga de escuchar los eventos</span><br/><span class="hl-8"> */</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-4">class</span><span class="hl-0"> </span><span class="hl-12">EventEmitterSocket</span><span class="hl-0"> </span><span class="hl-4">extends</span><span class="hl-0"> </span><span class="hl-12">EventEmitter</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">/**</span><br/><span class="hl-8">   * Constructor de la clase EventEmitterSocket</span><br/><span class="hl-8">   * Se encarga de recibir los datos de la conexion y emitir un evento cuando se recibe un mensaje completo</span><br/><span class="hl-8">   * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">connection</span><span class="hl-8"> - instancia de eventmitter que representa la conexion</span><br/><span class="hl-8">   */</span><br/><span class="hl-0">  </span><span class="hl-4">constructor</span><span class="hl-0">(</span><span class="hl-5">connection</span><span class="hl-0">: </span><span class="hl-12">EventEmitter</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-4">super</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-4">let</span><span class="hl-0"> </span><span class="hl-5">wholeData</span><span class="hl-0"> = </span><span class="hl-2">&#39;&#39;</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-8">// cuando se reciben datos</span><br/><span class="hl-0">    </span><span class="hl-5">connection</span><span class="hl-0">.</span><span class="hl-1">on</span><span class="hl-0">(</span><span class="hl-2">&#39;data&#39;</span><span class="hl-0">, (</span><span class="hl-5">dataChunk</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">wholeData</span><span class="hl-0"> += </span><span class="hl-5">dataChunk</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-8">// si incluye CLOSE se recibio el mensjae completo</span><br/><span class="hl-0">      </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">wholeData</span><span class="hl-0">.</span><span class="hl-1">includes</span><span class="hl-0">(</span><span class="hl-2">&#39;CLOSED&quot;}&#39;</span><span class="hl-0">)) {</span><br/><span class="hl-0">        </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-1">emit</span><span class="hl-0">(</span><span class="hl-2">&#39;request&#39;</span><span class="hl-0">, </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">parse</span><span class="hl-0">(</span><span class="hl-5">wholeData</span><span class="hl-0">), </span><span class="hl-5">connection</span><span class="hl-0">);</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// Cuando la conexion se cierra</span><br/><span class="hl-0">    </span><span class="hl-5">connection</span><span class="hl-0">.</span><span class="hl-1">on</span><span class="hl-0">(</span><span class="hl-2">&#39;close&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-1">emit</span><span class="hl-0">(</span><span class="hl-2">&#39;close&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<a id="md:explicación-de-lo-realizado" class="tsd-anchor"></a><h2><a href="#md:explicación-de-lo-realizado">Explicación de lo realizado.</a></h2><p>Tras haber visto el código porpuesto comentaré detalladamente cada parte del código realizado.</p>
<a id="md:cardts-1" class="tsd-anchor"></a><h3><a href="#md:cardts-1">Card.ts</a></h3><p>Interfaz para la información de las cartas.</p>
<p>La interfaz <code>Card</code> se utiliza para definir la estructura de los datos que se van a utilizar en la aplicación relacionada con las cartas de un juego. Esta interfaz describe los atributos que debe tener cada carta y su tipo de dato correspondiente. A continuación, se detallan los atributos de la interfaz:</p>
<ul>
<li><strong>id:</strong> Es un número que representa el identificador único de la carta.</li>
<li><strong>name:</strong> Es una cadena de caracteres que indica el nombre de la carta.</li>
<li><strong>manaCost:</strong> Es un número que representa el costo de mana de la carta.</li>
<li><strong>color:</strong> Es un valor de tipo <code>Color</code>, que proviene de un enumerado y representa el color de la carta.</li>
<li><strong>cardType:</strong> Es un valor de tipo <code>LineType</code>, también de un enumerado, que indica el tipo de la carta (Tierra, Criatura, Encantamiento, etc.).</li>
<li><strong>rarity:</strong> Es un valor de tipo <code>Rarity</code>, otro enumerado que representa la rareza de la carta (común, infrecuente, rara o mítica).</li>
<li><strong>rulesText:</strong> Es una cadena de caracteres que describe los efectos de la carta y cualquier regla especial que tenga.</li>
<li><strong>power:</strong> Es un número opcional que indica la fuerza de la carta. Este atributo solo se incluye en las cartas de tipo Criatura.</li>
<li><strong>toughness:</strong> Es un número opcional que indica la resistencia de la carta. Este atributo también se limita a las cartas de tipo Criatura.</li>
<li><strong>loyalty:</strong> Es un número opcional que representa la lealtad de la carta. Este atributo solo se incluye en las cartas de tipo Planeswalker.</li>
<li><strong>marketValue:</strong> Es un número que indica el valor de mercado de la carta.</li>
</ul>
<p>Básicamente, la interfaz <code>Card</code> define la estructura básica de una carta del juego, especificando todos los atributos necesarios para su identificación, descripción y uso dentro de la aplicación.</p>
<a id="md:filemanagerts" class="tsd-anchor"></a><h3><a href="#md:filemanagerts">FileManager.ts</a></h3><p>Clase para la gestión de archivos.</p>
<p>La clase <code>FileManager</code> se encarga de la gestión de archivos para guardar y cargar la información de las cartas en archivos JSON. Cada usuario tiene su propio directorio y cada carta se guarda en un archivo JSON dentro de ese directorio. A continuación, se detallan los métodos y atributos de la clase:</p>
<ul>
<li><p><strong>userDir:</strong> Es una propiedad privada que almacena la ruta del directorio del usuario, donde se guardarán los archivos JSON.</p>
</li>
<li><p><strong>Constructor:</strong> El constructor de la clase inicializa el directorio del usuario según el nombre de usuario proporcionado como parámetro.</p>
</li>
<li><p><strong>getUserDir():</strong> Método público que retorna el directorio del usuario.</p>
</li>
<li><p><strong>getFilePath(cardId):</strong> Método público que retorna la ruta del archivo de una carta específica. Concatena el directorio del usuario con el nombre del archivo basado en el ID de la carta.</p>
</li>
<li><p><strong>save(collection):</strong> Método público que guarda la colección de cartas en archivos JSON. Primero comprueba si el directorio del usuario existe, y si no, lo crea. Luego, recorre la colección de cartas y guarda cada carta en un archivo JSON.</p>
</li>
<li><p><strong>load():</strong> Método público que carga la colección de cartas desde los archivos JSON. Comprueba si el directorio del usuario existe; si no, retorna un <code>Map</code> vacío. Luego, lee los archivos JSON del directorio y los guarda en la colección.</p>
</li>
</ul>
<p>La clase <code>FileManager</code> proporciona funcionalidades para guardar y cargar la colección de cartas de un usuario en archivos JSON, asegurando que la información esté persistente y accesible entre sesiones de la aplicación.</p>
<a id="md:userts-1" class="tsd-anchor"></a><h2><a href="#md:userts-1">User.ts</a></h2><p>Clase para la colección de cartas.</p>
<p>La clase <code>CardCollection</code> se encarga de gestionar la colección de cartas de un usuario. A continuación, se detallan los métodos y atributos de la clase:</p>
<ul>
<li><p><strong>collection:</strong> Es un atributo privado que almacena la colección de cartas del usuario.</p>
</li>
<li><p><strong>user:</strong> Es un atributo privado que almacena el nombre de usuario propietario de la colección.</p>
</li>
<li><p><strong>fileManager:</strong> Es un atributo privado que almacena una instancia de la clase <code>FileManager</code> para gestionar los archivos.</p>
</li>
<li><p><strong>Constructor:</strong> El constructor de la clase inicializa el nombre de usuario y la instancia de <code>FileManager</code>. Además, carga la colección de cartas desde los archivos.</p>
</li>
<li><p><strong>getColorCode(colorName):</strong> Método público que retorna el código hexadecimal del color de una carta, utilizando un mapa predefinido de colores. Si el color no se encuentra en el mapa, retorna negro.</p>
</li>
<li><p><strong>loadCollection():</strong> Método privado que carga la colección de cartas desde los archivos utilizando la instancia de <code>FileManager</code>.</p>
</li>
<li><p><strong>addCard(card):</strong> Método público para añadir una carta a la colección del usuario. Si la carta ya existe, muestra un mensaje de error; de lo contrario, la añade a la colección y la guarda en el sistema de archivos.</p>
</li>
<li><p><strong>updateCard(updatedCard):</strong> Método público para actualizar una carta en la colección del usuario. Si la carta no existe, muestra un mensaje de error; de lo contrario, la actualiza en la colección y en el sistema de archivos.</p>
</li>
<li><p><strong>removeCard(id):</strong> Método público para eliminar una carta de la colección del usuario. Si la carta no existe, muestra un mensaje de error; de lo contrario, la elimina de la colección y del sistema de archivos.</p>
</li>
<li><p><strong>listCards():</strong> Método público para listar todas las cartas de la colección del usuario. Muestra la información de cada carta por consola, incluyendo su nombre, coste de mana, color, tipo de carta, rareza, texto de reglas, fuerza/resistencia, marcas de lealtad y valor de mercado.</p>
</li>
<li><p><strong>readCard(id):</strong> Método público para leer la información de una carta específica de la colección del usuario. Si la carta no existe, muestra un mensaje de error; de lo contrario, muestra la información de la carta por consola.</p>
</li>
</ul>
<p>La clase <code>CardCollection</code> proporciona funcionalidades para gestionar la colección de cartas de un usuario, permitiendo añadir, actualizar, eliminar, listar y leer cartas de manera eficiente y persistente.</p>
<a id="md:enumerationcolorts-1" class="tsd-anchor"></a><h3><a href="#md:enumerationcolorts-1">EnumerationColor.ts</a></h3><p>Enumeración de colores para las cartas.</p>
<p>La enumeración <code>Color</code> se utiliza para definir los colores de las cartas. Cada carta tiene un color que puede ser blanco, azul, negro, rojo, verde, incoloro, e incluso multicolor. A continuación se detallan los valores de la enumeración:</p>
<ul>
<li><strong>Blanco:</strong> Representa el color blanco.</li>
<li><strong>Azul:</strong> Representa el color azul.</li>
<li><strong>Negro:</strong> Representa el color negro.</li>
<li><strong>Rojo:</strong> Representa el color rojo.</li>
<li><strong>Verde:</strong> Representa el color verde.</li>
<li><strong>Incoloro:</strong> Representa el color incoloro.</li>
<li><strong>Multicolor:</strong> Representa el color multicolor.</li>
<li><strong>Amarillo:</strong> Representa el color amarillo.</li>
<li><strong>Morado:</strong> Representa el color morado.</li>
<li><strong>Rosa:</strong> Representa el color rosa.</li>
<li><strong>Marron:</strong> Representa el color marrón.</li>
<li><strong>Naranja:</strong> Representa el color naranja.</li>
</ul>
<p>Esta enumeración permite establecer y manejar de manera clara y consistente los colores de las cartas en la aplicación.</p>
<a id="md:enumerationlinetypets-1" class="tsd-anchor"></a><h3><a href="#md:enumerationlinetypets-1">EnumerationLineType.ts</a></h3><p>Enumeración de los tipos de cartas</p>
<p>La enumeración <code>LineType</code> se utiliza para definir los diferentes tipos de cartas que pueden existir. A continuación se detallan los valores de la enumeración:</p>
<ul>
<li><strong>Tierra:</strong> Representa el tipo de carta Tierra, que generalmente proporciona mana.</li>
<li><strong>Criatura:</strong> Representa el tipo de carta Criatura, que puede ser atacada y bloqueada.</li>
<li><strong>Encantamiento:</strong> Representa el tipo de carta Encantamiento, que proporciona efectos continuos.</li>
<li><strong>Conjuro:</strong> Representa el tipo de carta Conjuro, que realiza una acción única cuando se juega.</li>
<li><strong>Instantáneo:</strong> Representa el tipo de carta Instantáneo, que se puede jugar en cualquier momento, incluso durante el turno de otro jugador.</li>
<li><strong>Artefacto:</strong> Representa el tipo de carta Artefacto, que puede proporcionar beneficios diversos.</li>
<li><strong>Planeswalker:</strong> Representa el tipo de carta Planeswalker, que representa a personajes poderosos en el juego.</li>
</ul>
<p>Esta enumeración facilita la gestión y clasificación de los diferentes tipos de cartas presentes en la aplicación.</p>
<a id="md:enumerationrarityts-1" class="tsd-anchor"></a><h3><a href="#md:enumerationrarityts-1">EnumerationRarity.ts</a></h3><p>Enumeración de las rarezas de las cartas.</p>
<p>La enumeración <code>Rarity</code> se utiliza para definir los diferentes niveles de rareza que pueden tener las cartas. Aquí se detallan los tipos de rareza disponibles:</p>
<ul>
<li><strong>Común:</strong> Representa el tipo de rareza Común, que indica que la carta es relativamente fácil de obtener.</li>
<li><strong>Infrecuente:</strong> Representa el tipo de rareza Infrecuente, que indica que la carta es menos común que las comunes.</li>
<li><strong>Rara:</strong> Representa el tipo de rareza Rara, que indica que la carta es más difícil de obtener que las infrecuentes.</li>
<li><strong>Mítica:</strong> Representa el tipo de rareza Mítica, que indica que la carta es extremadamente rara y altamente valorada.</li>
</ul>
<p>Estos valores de rareza permiten categorizar las cartas según su disponibilidad y valor en el juego.</p>
<a id="md:indexts-1" class="tsd-anchor"></a><h3><a href="#md:indexts-1">index.ts</a></h3><p>El cliente se conecta al servidor mediante el módulo <code>net</code> de Node.js, estableciendo una conexión TCP en el puerto 60300. Una vez conectado, el cliente escucha los datos del servidor y los muestra en la consola.</p>
<a id="md:definición-de-comandos-y-opciones" class="tsd-anchor"></a><h5><a href="#md:definición-de-comandos-y-opciones">Definición de Comandos y Opciones</a></h5><p>Se utiliza el paquete <code>yargs</code> para definir los comandos y opciones disponibles para gestionar la colección de cartas. Los comandos principales son:</p>
<ul>
<li><strong>add:</strong> Añade una nueva carta a la colección.</li>
<li><strong>list:</strong> Lista todas las cartas de la colección.</li>
<li><strong>update:</strong> Actualiza una carta existente en la colección.</li>
<li><strong>read:</strong> Lee los detalles de una carta específica.</li>
<li><strong>remove:</strong> Elimina una carta de la colección.</li>
</ul>
<a id="md:implementación-de-comandos" class="tsd-anchor"></a><h5><a href="#md:implementación-de-comandos">Implementación de Comandos</a></h5><p>Cada comando está implementado como una función que realiza una acción específica en la colección de cartas del usuario. Los comandos toman parámetros como el nombre del usuario, el ID de la carta y otros detalles necesarios para ejecutar la acción correspondiente.</p>
<a id="md:interacción-con-el-servidor" class="tsd-anchor"></a><h5><a href="#md:interacción-con-el-servidor">Interacción con el Servidor</a></h5><p>Después de ejecutar cada comando, se envía un mensaje al servidor indicando la acción realizada, junto con los detalles relevantes. El servidor procesará estos mensajes y realizará las operaciones correspondientes en su base de datos.</p>
<a id="md:ejecución-de-comandos" class="tsd-anchor"></a><h5><a href="#md:ejecución-de-comandos">Ejecución de Comandos</a></h5><p>El cliente acepta comandos a través de la línea de comandos y los procesa utilizando el paquete <code>yargs</code>. Cada comando ejecutado desencadena una acción en la colección de cartas del usuario y envía un mensaje al servidor para actualizar la base de datos.</p>
<a id="md:serverts-1" class="tsd-anchor"></a><h3><a href="#md:serverts-1">Server.ts</a></h3><p>El servidor se crea utilizando el módulo <code>net</code> de Node.js y se configura para escuchar en el puerto 60300. Este servidor gestiona las operaciones relacionadas con la colección de cartas de los usuarios.</p>
<a id="md:comandos-disponibles" class="tsd-anchor"></a><h5><a href="#md:comandos-disponibles">Comandos Disponibles</a></h5><p>Los usuarios pueden enviar varios comandos al servidor para gestionar su colección de cartas. Los comandos disponibles son:</p>
<ul>
<li><strong>add:</strong> Añade una carta a la colección de un usuario.</li>
<li><strong>remove:</strong> Elimina una carta de la colección de un usuario.</li>
<li><strong>update:</strong> Actualiza una carta de la colección de un usuario.</li>
<li><strong>read:</strong> Lee una carta de la colección de un usuario.</li>
<li><strong>list:</strong> Lista todas las cartas de la colección de un usuario.</li>
</ul>
<a id="md:implementación-del-servidor" class="tsd-anchor"></a><h5><a href="#md:implementación-del-servidor">Implementación del Servidor</a></h5><p>El servidor utiliza <code>net.createServer()</code> para crear un servidor TCP. Cuando un cliente se conecta, se crea una instancia de <code>EventEmitterSocket</code> para gestionar la conexión. Luego, el servidor escucha eventos como &#39;request&#39; y &#39;close&#39; para manejar las peticiones y las desconexiones de los clientes.</p>
<a id="md:gestión-de-peticiones" class="tsd-anchor"></a><h5><a href="#md:gestión-de-peticiones">Gestión de Peticiones</a></h5><p>Cuando se recibe una petición completa desde un cliente, el servidor la procesa y realiza la acción correspondiente en la colección de cartas del usuario. Se utilizan estructuras de control como <code>switch</code> para determinar la acción que se debe realizar según el comando recibido.</p>
<a id="md:envío-de-respuestas" class="tsd-anchor"></a><h5><a href="#md:envío-de-respuestas">Envío de Respuestas</a></h5><p>Después de procesar la petición, el servidor envía una respuesta al cliente. La respuesta puede contener un mensaje de éxito o error, dependiendo del resultado de la operación solicitada por el cliente.</p>
<a id="md:eventemittersocketts-1" class="tsd-anchor"></a><h3><a href="#md:eventemittersocketts-1">EventEmitterSocket.ts</a></h3><p>La clase <code>EventEmitterSocket</code> extiende la clase <code>EventEmitter</code> de Node.js y se encarga de emitir eventos cuando se recibe un mensaje completo a través de una conexión. Esta clase es fundamental para la gestión de conexiones en el servidor de gestión de colección de cartas.</p>
<a id="md:constructor" class="tsd-anchor"></a><h5><a href="#md:constructor">Constructor</a></h5><p>El constructor de la clase <code>EventEmitterSocket</code> recibe una instancia de <code>EventEmitter</code> que representa la conexión establecida. Este constructor se encarga de configurar los listeners para los eventos &#39;data&#39; y &#39;close&#39; de la conexión.</p>
<a id="md:eventos" class="tsd-anchor"></a><h5><a href="#md:eventos">Eventos</a></h5><ul>
<li><strong>request:</strong> Este evento se emite cuando se recibe un mensaje completo a través de la conexión. Contiene el mensaje completo recibido y la conexión asociada.</li>
<li><strong>close:</strong> Este evento se emite cuando la conexión se cierra.</li>
</ul>
<a id="md:funcionamiento" class="tsd-anchor"></a><h5><a href="#md:funcionamiento">Funcionamiento</a></h5><p>Cuando se reciben datos a través de la conexión, se van acumulando en una variable <code>wholeData</code>. Se verifica si los datos recibidos incluyen la cadena <code>&quot;CLOSED&quot;</code>, lo que indica que se ha recibido un mensaje completo. En ese caso, se emite el evento &#39;request&#39; con el mensaje completo y la conexión asociada.</p>
<p>Cuando la conexión se cierra, se emite el evento &#39;close&#39; para notificar que la conexión ha sido cerrada.</p>
<a id="md:ejemplos-de-uso" class="tsd-anchor"></a><h2><a href="#md:ejemplos-de-uso">EJEMPLOS DE USO.</a></h2><p>En primer lugar, abriremos dos terminales, una para el servidor y otra para el cliente.</p>
<p>En ambas terminales compilaremos el código mediante el comando <strong>tsc</strong>.
Una vez compilado lo que haremos en el servidor será ejecutar con el comando</p>
<pre><code class="language-bash"><span class="hl-5">$node</span><span class="hl-0"> dist/EJERCICIO/Server.js</span>
</code><button>Copy</button></pre>
<p>En el cliente, despues de compilar ejecutaremos el código pasando las opciones por argumentos.</p>
<pre><code class="language-bash"><span class="hl-5">$node</span><span class="hl-0"> dist/EJERCICIO/index.js  add --user </span><span class="hl-2">&quot;edusegre&quot;</span><span class="hl-0"> --id 9 --name </span><span class="hl-2">&quot;Black Lotus&quot;</span><span class="hl-0"> --manaCost 200 --color Amarillo --lineType </span><span class="hl-2">&quot;Criatura&quot;</span><span class="hl-0"> --rarity </span><span class="hl-2">&quot;Rara&quot;</span><span class="hl-0">  --rulesText </span><span class="hl-2">&quot;si&quot;</span><span class="hl-0"> --marketValue 1000</span>
</code><button>Copy</button></pre>
<p>Al crear un nuevo usuario edusegre con todos los argumentos se creará un nuevo directorio denominado edusegre y cuyo id de carta será el 9.
Al ejecutar el comando anterior se imprimirá en color verde:</p>
<pre><code class="language-bash"><span class="hl-1">Nueva</span><span class="hl-0"> </span><span class="hl-2">carta</span><span class="hl-0"> </span><span class="hl-2">añadida</span><span class="hl-0"> </span><span class="hl-2">a</span><span class="hl-0"> </span><span class="hl-2">la</span><span class="hl-0"> </span><span class="hl-2">colección</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">edusegre.</span>
</code><button>Copy</button></pre>
<p>Hecho esto el cliente se cerrará automáticamente.</p>
<a id="md:ejemplo-de-actualizacion" class="tsd-anchor"></a><h3><a href="#md:ejemplo-de-actualizacion">EJEMPLO DE ACTUALIZACION</a></h3><p>Al igual que el ejemplo anterior ejecutaremos con los argumentos establecidos:</p>
<pre><code class="language-bash"><span class="hl-5">$node</span><span class="hl-0"> dist/EJERCICIO/index.js  update --user </span><span class="hl-2">&quot;edusegre&quot;</span><span class="hl-0"> --id 9 --name </span><span class="hl-2">&quot;Unicornio&quot;</span><span class="hl-0"> --manaCost 200 --color Amarillo --lineType </span><span class="hl-2">&quot;Criatura&quot;</span><span class="hl-0"> --rarity </span><span class="hl-2">&quot;Mítica&quot;</span><span class="hl-0">  --rulesText </span><span class="hl-2">&quot;si&quot;</span><span class="hl-0"> --marketValue 1000</span>
</code><button>Copy</button></pre>
<p>Al ejecutar este comando se nos actualizarán los campos que hayamos cambiado en nuestra carta.
Al igual que antes se imprimirá un mensaje verde :</p>
<pre><code class="language-bash"><span class="hl-1">Carta</span><span class="hl-0"> </span><span class="hl-2">actualizada</span><span class="hl-0"> </span><span class="hl-2">en</span><span class="hl-0"> </span><span class="hl-2">la</span><span class="hl-0"> </span><span class="hl-2">colección</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">edusegre.</span>
</code><button>Copy</button></pre>
<p>Y el cliente volverá a cerrarse automáticamente.</p>
<a id="md:ejemplo-de-listar" class="tsd-anchor"></a><h2><a href="#md:ejemplo-de-listar">EJEMPLO DE LISTAR</a></h2><pre><code class="language-bash"><span class="hl-5">$node</span><span class="hl-0"> dist/EJERCICIO/index.js list --user edusegre </span>
</code><button>Copy</button></pre>
<p>Esto imprimirá:</p>
<pre><code class="language-bash"><span class="hl-1">Colección</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">cartas</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">edusegre</span><br/><span class="hl-1">ID:</span><span class="hl-0"> </span><span class="hl-9">8</span><br/><span class="hl-1">Nombre:</span><span class="hl-0"> </span><span class="hl-2">Black</span><span class="hl-0"> </span><span class="hl-2">Lotus</span><br/><span class="hl-1">Coste</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Mana:</span><span class="hl-0"> </span><span class="hl-9">10000</span><br/><span class="hl-1">Color:</span><span class="hl-0"> </span><span class="hl-2">Naranja</span><br/><span class="hl-1">Tipo</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Línea:</span><span class="hl-0"> </span><span class="hl-2">Tierra</span><br/><span class="hl-1">Rareza:</span><span class="hl-0"> </span><span class="hl-2">Rara</span><br/><span class="hl-1">Texto</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Reglas:</span><span class="hl-0"> </span><span class="hl-2">undefined</span><br/><span class="hl-1">Valor</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Mercado:</span><span class="hl-0"> </span><span class="hl-2">undefined</span><br/><br/><span class="hl-1">ID:</span><span class="hl-0"> </span><span class="hl-9">9</span><br/><span class="hl-1">Nombre:</span><span class="hl-0"> </span><span class="hl-2">Unicornio</span><br/><span class="hl-1">Coste</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Mana:</span><span class="hl-0"> </span><span class="hl-9">200</span><br/><span class="hl-1">Color:</span><span class="hl-0"> </span><span class="hl-2">Amarillo</span><br/><span class="hl-1">Tipo</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Línea:</span><span class="hl-0"> </span><span class="hl-2">Criatura</span><br/><span class="hl-1">Rareza:</span><span class="hl-0"> </span><span class="hl-2">Mítica</span><br/><span class="hl-1">Texto</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Reglas:</span><span class="hl-0"> </span><span class="hl-2">si</span><br/><span class="hl-1">Fuerza/Resistencia:</span><span class="hl-0"> </span><span class="hl-2">/</span><br/><span class="hl-1">Valor</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Mercado:</span><span class="hl-0"> </span><span class="hl-9">1000</span><br/>
</code><button>Copy</button></pre>
<p>No se puede apreciar aqui, pero el campo del color se imprime cada palabra de su color correspondiente.</p>
<a id="md:ejemplo-mostrar" class="tsd-anchor"></a><h3><a href="#md:ejemplo-mostrar">EJEMPLO MOSTRAR</a></h3><p>A diferencia de listar, este se encarga de mostrar una carta en específico:</p>
<pre><code class="language-bash"><span class="hl-5">$node</span><span class="hl-0"> dist/EJERCICIO/index.js read --user edusegre --id 9</span>
</code><button>Copy</button></pre>
<p>Se imprimirá los siguiente</p>
<pre><code class="language-bash"><span class="hl-1">Información</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">la</span><span class="hl-0"> </span><span class="hl-2">carta</span><span class="hl-0"> </span><span class="hl-2">con</span><span class="hl-0"> </span><span class="hl-2">ID</span><span class="hl-0"> </span><span class="hl-9">9</span><br/><br/><span class="hl-1">Nombre:</span><span class="hl-0"> </span><span class="hl-2">Unicornio</span><br/><span class="hl-1">Coste</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Mana:</span><span class="hl-0"> </span><span class="hl-9">200</span><br/><span class="hl-1">Color:</span><span class="hl-0"> </span><span class="hl-2">Amarillo</span><br/><span class="hl-1">Tipo</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Carta:</span><span class="hl-0"> </span><span class="hl-2">Criatura</span><br/><span class="hl-1">Rareza:</span><span class="hl-0"> </span><span class="hl-2">Mítica</span><br/><span class="hl-1">Texto</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Reglas:</span><span class="hl-0"> </span><span class="hl-2">si</span><br/><span class="hl-1">Fuerza/Resistencia:</span><span class="hl-0"> </span><span class="hl-2">/</span><br/><span class="hl-1">Valor</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">Mercado:</span><span class="hl-0"> </span><span class="hl-9">1000</span>
</code><button>Copy</button></pre>
<a id="md:ejemplo-de-eliminar" class="tsd-anchor"></a><h3><a href="#md:ejemplo-de-eliminar">EJEMPLO DE ELIMINAR</a></h3><p>Si utilizamos lo siguiente:</p>
<pre><code class="language-bash"><span class="hl-5">$node</span><span class="hl-0"> dist/EJERCICIO/index.js  remove --user </span><span class="hl-2">&quot;edusegre&quot;</span><span class="hl-0"> --i</span><br/><span class="hl-1">d</span><span class="hl-0"> </span><span class="hl-9">9</span><span class="hl-0"> </span><span class="hl-4">--name</span><span class="hl-0"> </span><span class="hl-2">&quot;Unicornio&quot;</span><span class="hl-0"> </span><span class="hl-4">--manaCost</span><span class="hl-0"> </span><span class="hl-9">200</span><span class="hl-0"> </span><span class="hl-4">--color</span><span class="hl-0"> </span><span class="hl-2">Amarillo</span><span class="hl-0"> </span><span class="hl-4">--lineType</span><span class="hl-0"> </span><span class="hl-2">&quot;Criatura&quot;</span><span class="hl-0"> </span><span class="hl-4">--rarity</span><span class="hl-0"> </span><span class="hl-2">&quot;Mitica&quot;</span><span class="hl-0">  </span><span class="hl-4">--rulesText</span><span class="hl-0"> </span><span class="hl-2">&quot;si&quot;</span><span class="hl-0"> </span><span class="hl-4">--marketValue</span><span class="hl-0"> </span><span class="hl-9">10</span><br/><span class="hl-1">00</span>
</code><button>Copy</button></pre>
<p>Se nos eliminará la carta de nuesto directorio y se nos mostrará en verde un mensaje</p>
<pre><code class="language-bash"><span class="hl-1">Carta</span><span class="hl-0"> </span><span class="hl-2">eliminada</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">la</span><span class="hl-0"> </span><span class="hl-2">colección</span><span class="hl-0"> </span><span class="hl-2">de</span><span class="hl-0"> </span><span class="hl-2">edusegre.</span>
</code><button>Copy</button></pre>
<a id="md:pruebas-realizadas-y-coverage" class="tsd-anchor"></a><h2><a href="#md:pruebas-realizadas-y-coverage">Pruebas realizadas y coverage</a></h2><p>Para el cubrimiento del código se realizaron diferentes pruebas para comporbar la completitud de este.</p>
<a id="md:cardspects" class="tsd-anchor"></a><h3><a href="#md:cardspects">Card.spec.ts</a></h3><pre><code class="language-typescript"><span class="hl-8">// PRUEBAS PARA LA INTERFAZ CARD</span><br/><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-2">&#39;mocha&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">expect</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chai&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Card</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/Card.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Color</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationColor.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">LineType</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationLineType.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Rarity</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationRarity.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">// pruebas para la interfaz</span><br/><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;Card&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">// pruebas para asegurarnos que tiene los atributos correctos</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have the correct attributes&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;id&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;name&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;manaCost&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;color&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;cardType&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;rarity&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;rulesText&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;marketValue&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que son 8 atributos obligatorios</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have 8 required attributes&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">keys</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">lengthOf</span><span class="hl-0">(</span><span class="hl-9">8</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que los atributos opcionales sean opcionales</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have 3 optional attributes&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">power:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">toughness:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">loyalty:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">keys</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">lengthOf</span><span class="hl-0">(</span><span class="hl-9">11</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos que todo es de tipo correcto</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have correct types&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">name</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">manaCost</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">cardType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">rarity</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">rulesText</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">marketValue</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos que los valores de los enums sean correctos</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have correct enum values&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">include</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">color</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">include</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">cardType</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">include</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">rarity</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// Nos aseguramos que el color es un color del enum y no otro</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have a color from the enum&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">include</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">color</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que nada devuelve null</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should not have null values&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-1">include</span><span class="hl-0">(</span><span class="hl-4">null</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// NADA devuelve undefined</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should not have undefined values&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">values</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-1">include</span><span class="hl-0">(</span><span class="hl-4">undefined</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que la interfaz card es una interfaz</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should be an interface&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;object&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// Comprobamos que la interfaz card no es una funcion</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should not be a class&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;function&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">//Nos aseguramos que todos los atributos son diferentes</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have different attributes&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">keys</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">lengthOf</span><span class="hl-0">(</span><span class="hl-9">8</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// Nos aseguramos que son enumeraciones</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have enums&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">cardType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">rarity</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">});</span>
</code><button>Copy</button></pre>
<p>Las pruebas están diseñadas para verificar que la interfaz <code>Card</code>, que representa una carta en una aplicación de gestión de cartas de Magic: The Gathering, se comporta como se espera. Cada prueba se enfoca en diferentes aspectos de la interfaz, desde la presencia y tipo correcto de atributos hasta la validación de los valores de enumeraciones asociados a la carta. </p>
<p>En resumen, estas pruebas garantizan que:</p>
<ul>
<li>La interfaz <code>Card</code> tiene los atributos correctos y obligatorios.</li>
<li>Los atributos opcionales son realmente opcionales.</li>
<li>Todos los atributos tienen el tipo de dato correcto.</li>
<li>Los valores asociados a las enumeraciones de color, tipo de línea y rareza son válidos.</li>
<li>El color de la carta pertenece al conjunto de colores definido en la enumeración <code>Color</code>.</li>
<li>Ningún atributo de la carta es nulo o indefinido.</li>
<li>La interfaz <code>Card</code> es de hecho un objeto y no una clase o función.</li>
<li>Todos los atributos de la carta son diferentes entre sí.</li>
<li>Los atributos asociados a las enumeraciones son de tipo string.</li>
</ul>
<p>Estas pruebas son esenciales para garantizar que la estructura de la interfaz <code>Card</code> se mantenga coherente y correcta a lo largo del desarrollo de la aplicación, ayudando así a prevenir errores y asegurando un comportamiento consistente en el manejo de las cartas.</p>
<a id="md:enumerationcolorspects" class="tsd-anchor"></a><h3><a href="#md:enumerationcolorspects">EnumerationColor.spec.ts</a></h3><pre><code class="language-typescript"><span class="hl-8">// PRUEBAS PARA LA ENUMERACION COLOR</span><br/><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-2">&#39;mocha&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">expect</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chai&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Color</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationColor.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">// pruebas para la enumeración</span><br/><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;Color&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">// pruebas para asegurarnos que tiene los colores correctos</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have the correct colors&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Blanco&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Azul&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Rojo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Verde&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Incoloro&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Multicolor&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Amarillo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Morado&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Rosa&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Marron&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Naranja&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// Nos aseguramos de que son 12 colores</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have 12 colors&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">keys</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">lengthOf</span><span class="hl-0">(</span><span class="hl-9">12</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comporbamos que son strings</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have string values&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que no son de otros tipos</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not have other types&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son undefined</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be undefined&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son null</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be null&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son bool</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be bool&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que es una enumeracion</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should be an enum&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;object&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no es una clase</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be a class&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;function&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que no son arrays</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be an array&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que todos los colores son distintos</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should have different colors&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el azul devuelve azul</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return blue&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Azul&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el blanco devuelve blanco</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return white&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Blanco&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el rojo devuelve rojo</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return red&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Rojo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el verde devuelve verde</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return green&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Verde&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el incoloro devuelve incoloro</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return colorless&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Incoloro</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Incoloro&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el multicolor devuelve multicolor</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return multicolor&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Multicolor</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Multicolor&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el amarillo devuelve amarillo</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return yellow&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Amarillo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el morado devuelve morado</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return purple&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Morado&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el rosa devuelve rosa</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return pink&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Rosa&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el marron devuelve marron</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return brown&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Marron&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el naranja devuelve naranja</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return orange&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Naranja&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">});</span>
</code><button>Copy</button></pre>
<p>Estas pruebas están diseñadas para asegurar que la enumeración <code>Color</code>, que define los posibles colores de las cartas en la aplicación de gestión de cartas. Cada prueba se centra en diferentes aspectos de la enumeración, desde la presencia y tipo de colores correctos hasta la validación de que los valores no sean nulos, indefinidos ni de otros tipos no deseados.</p>
<p>En resumen, estas pruebas garantizan que:</p>
<ul>
<li>La enumeración <code>Color</code> contiene todos los colores esperados, incluidos Blanco, Azul, Rojo, Verde, Incoloro, Multicolor, Amarillo, Morado, Rosa, Marrón y Naranja.</li>
<li>La enumeración contiene exactamente 12 colores.</li>
<li>Todos los valores en la enumeración son de tipo string.</li>
<li>Ningún valor en la enumeración es de otro tipo, como número, booleano o array.</li>
<li>Ningún valor en la enumeración es nulo ni indefinido.</li>
<li>La enumeración es un objeto y no una función ni una clase.</li>
<li>Todos los colores son distintos entre sí.</li>
<li>Cada color devuelve el nombre correspondiente como se espera.</li>
</ul>
<p>Estas pruebas son esenciales para garantizar que la enumeración <code>Color</code> esté definida correctamente y que sus valores sean coherentes y válidos, lo que contribuye a un comportamiento consistente y sin errores en la aplicación de gestión de cartas.</p>
<a id="md:enumerationlinetypespects" class="tsd-anchor"></a><h3><a href="#md:enumerationlinetypespects">EnumerationLineType.spec.ts</a></h3><pre><code class="language-typescript"><span class="hl-8">//PRUEBAS PARA LA ENUMERACION LINETYPE</span><br/><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-2">&#39;mocha&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">expect</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chai&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">LineType</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationLineType.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">// pruebas para la enumeración</span><br/><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;LineType&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">// pruebas para asegurarnos que tiene los tipos de cartas correctos</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have the correct line types&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Tierra&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Criatura&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Encantamiento&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Conjuro&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Instantáneo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Artefacto&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// Nos aseguramos de que son 7 tipos de cartas</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have 7 line types&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">keys</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">lengthOf</span><span class="hl-0">(</span><span class="hl-9">7</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comporbamos que son strings</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have string values&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que no son de otros tipos</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not have other types&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son undefined</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be undefined&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son null</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be null&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son bool</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be boolean&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son arrays</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be an array&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comporbamos que es una enumeracion</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should be an enumeration&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;object&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comporbamos que no es una funcion</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be a function&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;function&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comporbamos que todos los tipos son distintos</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should have different types&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comprobamos que conjuro devuelve Conjuro</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Conjuro&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Conjuro&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comprobamos que criatura devuelve Criatura</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Criatura&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Criatura&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comprobamos que tierra devuelve Tierra</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Tierra&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Tierra&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comprobamos que encantamiento devuelve Encantamiento</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Encantamiento&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Encantamiento&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comprobamos que instantaneo devuelve Instantáneo</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Instantáneo&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Instantáneo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comprobamos que artefacto devuelve Artefacto</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Artefacto&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Artefacto&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comprobamos que planeswalker devuelve Planeswalker</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Planeswalker&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comprbamos que no devuelve un valor incorrecto</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not return an incorrect value&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Criatura&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Encantamiento&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Conjuro&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Instantáneo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Artefacto&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Tierra</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Encantamiento&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Conjuro&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Instantáneo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Artefacto&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Conjuro&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Instantáneo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Artefacto&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Instantáneo&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Artefacto&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Conjuro</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Artefacto&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Instantáneo</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Planeswalker&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">});</span>
</code><button>Copy</button></pre>
<p>Estas pruebas están destinadas a garantizar que la enumeración <code>LineType</code>, que define los diferentes tipos de cartas en la aplicación de gestión de cartas de Magic. Cada prueba se centra en diferentes aspectos de la enumeración, desde la presencia y el tipo de tipos de cartas correctos hasta la validación de que los valores no sean nulos, indefinidos ni de otros tipos no deseados.</p>
<p>En resumen, estas pruebas aseguran que:</p>
<ul>
<li>La enumeración <code>LineType</code> contiene todos los tipos de cartas esperados, incluyendo Tierra, Criatura, Encantamiento, Conjuro, Instantáneo, Artefacto y Planeswalker.</li>
<li>La enumeración contiene exactamente 7 tipos de cartas.</li>
<li>Todos los valores en la enumeración son de tipo string.</li>
<li>Ningún valor en la enumeración es de otro tipo, como número, booleano o array.</li>
<li>Ningún valor en la enumeración es nulo ni indefinido.</li>
<li>La enumeración es un objeto y no una función ni una clase.</li>
<li>Todos los tipos de cartas son distintos entre sí.</li>
<li>Cada tipo de carta devuelve el nombre correspondiente como se espera.</li>
</ul>
<p>Estas pruebas son esenciales para garantizar que la enumeración <code>LineType</code> esté definida correctamente y que sus valores sean coherentes y válidos, lo que contribuye a un comportamiento consistente y sin errores en la aplicación de gestión de cartas.</p>
<a id="md:enumerationrarityspects" class="tsd-anchor"></a><h3><a href="#md:enumerationrarityspects">EnumerationRarity.spec.ts</a></h3><pre><code class="language-typescript"><span class="hl-8">// PRUEBAS PARA LA ENUMERACION RARITY</span><br/><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-2">&#39;mocha&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">expect</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chai&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Rarity</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationRarity.js&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">// pruebas para la enumeración</span><br/><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;Rarity&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">// pruebas para asegurarnos que tiene las rarezas correctas</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have the correct rarities&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Comun&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Infrecuente&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Rara&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;Mítica&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// Nos aseguramos de que son 4 rarezas</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have 4 rarities&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Object</span><span class="hl-0">.</span><span class="hl-1">keys</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">lengthOf</span><span class="hl-0">(</span><span class="hl-9">4</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comporbamos que son strings</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have string values&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// nos aseguramos de que no son de otros tipos</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not have other types&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son undefined</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be undefined&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son null</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be null&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son bool</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be a boolean&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;boolean&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no son arrays</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be an array&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;array&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// es una enumeracion</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should be an enumeration&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">an</span><span class="hl-0">(</span><span class="hl-2">&#39;object&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// no es una funcion</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should not be a function&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;function&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// las rarezas son todas distintas</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should have different rarities&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// las rarezas son las correctas</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should have the correct rarities&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Comun&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Infrecuente&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Rara&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Mítica&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// comun devuelve comun</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Comun for Comun&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Comun&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// infrecuente devuelve infrecuente</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Infrecuente for Infrecuente&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Infrecuente</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Infrecuente&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// rara devuelve rara</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Rara for Rara&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Rara&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// mítica devuelve mítica</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should return Mítica for Mítica&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;Mítica&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">});</span><br/>
</code><button>Copy</button></pre>
<p>Estas pruebas están diseñadas para verificar el comportamiento de la enumeración <code>Rarity</code>, que define las diferentes rarezas de las cartas en la aplicación de gestión de cartas de Magic. Cada prueba se enfoca en aspectos específicos de la enumeración, desde la presencia y el tipo de rarezas correctas hasta la validación de que los valores no sean nulos, indefinidos ni de otros tipos no deseados.</p>
<p>En resumen, estas pruebas garantizan que:</p>
<ul>
<li>La enumeración <code>Rarity</code> contiene todas las rarezas esperadas, incluyendo Común, Infrecuente, Rara y Mítica.</li>
<li>La enumeración contiene exactamente 4 rarezas.</li>
<li>Todos los valores en la enumeración son de tipo string.</li>
<li>Ningún valor en la enumeración es de otro tipo, como número, booleano o array.</li>
<li>Ningún valor en la enumeración es nulo ni indefinido.</li>
<li>La enumeración es un objeto y no una función ni una clase.</li>
<li>Todas las rarezas son distintas entre sí.</li>
<li>Cada rareza devuelve el nombre correspondiente como se espera.</li>
</ul>
<p>Estas pruebas son esenciales para garantizar que la enumeración <code>Rarity</code> esté definida correctamente y que sus valores sean coherentes y válidos, lo que contribuye a un comportamiento consistente y sin errores en la aplicación de gestión de cartas.</p>
<a id="md:filemanagerspects" class="tsd-anchor"></a><h3><a href="#md:filemanagerspects">FileManager.spec.ts</a></h3><pre><code class="language-typescript"><span class="hl-8">// PRUEBAS PARA LA CLASE FILEMANAGER</span><br/><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-2">&#39;mocha&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">expect</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chai&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">FileManager</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/FileManager.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Card</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/Card.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Color</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationColor.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">LineType</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationLineType.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Rarity</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationRarity.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">fs</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">// pruebas para la clase</span><br/><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;FileManager&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">username</span><span class="hl-0"> = </span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileManager</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">FileManager</span><span class="hl-0">(</span><span class="hl-5">username</span><span class="hl-0">);</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">    </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">1</span><br/><span class="hl-0">  };</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">Map</span><span class="hl-0">&lt;</span><span class="hl-12">number</span><span class="hl-0">, </span><span class="hl-12">Card</span><span class="hl-0">&gt;();</span><br/><span class="hl-0">  </span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">set</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">, </span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">  </span><span class="hl-8">// debe guardar la coleccion en un fichero</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should save the collection to a file&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">save</span><span class="hl-0">(</span><span class="hl-5">collection</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">existsSync</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// PRUEBA PARA EL CONSTRUCTOR</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should create a new instance of FileManager&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">fileManager</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">an</span><span class="hl-0">.</span><span class="hl-1">instanceOf</span><span class="hl-0">(</span><span class="hl-5">FileManager</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// el constructor debe </span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have a username&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">fileManager</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;username&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// prueba para el getFilePath</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return the path of the file&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-1">a</span><span class="hl-0">(</span><span class="hl-2">&#39;string&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// TODOS los ficheros deben terminar en.json</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return a path that ends in .json&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">.</span><span class="hl-1">endsWith</span><span class="hl-0">(</span><span class="hl-2">&#39;.json&#39;</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// pruebas para la funcion save</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should save the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">save</span><span class="hl-0">(</span><span class="hl-5">collection</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">existsSync</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// Test para comprobar si se escribe correctamente los datos de la carta en el archivo</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should correctly write the card data to the file&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">save</span><span class="hl-0">(</span><span class="hl-5">collection</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-6">for</span><span class="hl-0"> (</span><span class="hl-4">const</span><span class="hl-0"> [</span><span class="hl-10">cardId</span><span class="hl-0">, </span><span class="hl-10">card</span><span class="hl-0">] </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">collection</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">cardId</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileContent</span><span class="hl-0"> = </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">readFileSync</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">, </span><span class="hl-2">&#39;utf-8&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardData</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">parse</span><span class="hl-0">(</span><span class="hl-5">fileContent</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardData</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">deep</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// Test para comprobar si se sobreescribe el archivo si se guarda una carta con el mismo id</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should overwrite the existing file if a card with the same id is saved again&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;test2&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Encantamiento</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Mítica</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;test2&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">2</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">set</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">, </span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">save</span><span class="hl-0">(</span><span class="hl-5">collection</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileContent</span><span class="hl-0"> = </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">readFileSync</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">, </span><span class="hl-2">&#39;utf-8&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardData</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">parse</span><span class="hl-0">(</span><span class="hl-5">fileContent</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardData</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">deep</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// comporbamos que tiene un atributo privado</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have a private attribute&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">fileManager</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">not</span><span class="hl-0">.</span><span class="hl-5">have</span><span class="hl-0">.</span><span class="hl-1">property</span><span class="hl-0">(</span><span class="hl-2">&#39;collection&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// comporbamos que load devuelve un Map </span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return a Map&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">loadedCollection</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">load</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">loadedCollection</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">an</span><span class="hl-0">.</span><span class="hl-1">instanceOf</span><span class="hl-0">(</span><span class="hl-5">Map</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// tenemo un getter para el nombre del usuario del directorio</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should have a getter for the username&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">userDir</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getUserDir</span><span class="hl-0">();</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">userDirUsername</span><span class="hl-0"> = </span><span class="hl-5">userDir</span><span class="hl-0">.</span><span class="hl-1">split</span><span class="hl-0">(</span><span class="hl-2">&#39;/&#39;</span><span class="hl-0">).</span><span class="hl-1">pop</span><span class="hl-0">(); </span><span class="hl-8">// assuming userDir is in the format &#39;/path/to/username&#39;</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">userDirUsername</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">username</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// PRUEBA PARA LA FUNCOIN SAVE</span><br/><span class="hl-0">  </span><span class="hl-8">// Test to check if the save method creates the user directory if it does not exist</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should create the user directory if it does not exist&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">existsSync</span><span class="hl-0">(</span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getUserDir</span><span class="hl-0">())) {</span><br/><span class="hl-0">      </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">rmdirSync</span><span class="hl-0">(</span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getUserDir</span><span class="hl-0">(), { </span><span class="hl-5">recursive:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0"> });</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">    </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">save</span><span class="hl-0">(</span><span class="hl-5">collection</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">existsSync</span><span class="hl-0">(</span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getUserDir</span><span class="hl-0">())).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// Test to check if the save method writes the correct data to the file</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should write the correct data to the file&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">save</span><span class="hl-0">(</span><span class="hl-5">collection</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-6">for</span><span class="hl-0"> (</span><span class="hl-4">const</span><span class="hl-0"> [</span><span class="hl-10">cardId</span><span class="hl-0">, </span><span class="hl-10">card</span><span class="hl-0">] </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">collection</span><span class="hl-0">) {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">cardId</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileContent</span><span class="hl-0"> = </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">readFileSync</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">, </span><span class="hl-2">&#39;utf-8&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardData</span><span class="hl-0"> = </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">parse</span><span class="hl-0">(</span><span class="hl-5">fileContent</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardData</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">deep</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// Test to check if the save method creates a file for each card in the collection</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should create a file for each card in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">save</span><span class="hl-0">(</span><span class="hl-5">collection</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-6">for</span><span class="hl-0"> (</span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardId</span><span class="hl-0"> </span><span class="hl-4">of</span><span class="hl-0"> </span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">keys</span><span class="hl-0">()) {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">cardId</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">existsSync</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">});</span>
</code><button>Copy</button></pre>
<p>Estas pruebas están diseñadas para verificar el comportamiento de la clase <code>FileManager</code>, que se encarga de gestionar la lectura y escritura de archivos para almacenar la colección de cartas de Magic. Cada prueba se enfoca en aspectos específicos de la funcionalidad de <code>FileManager</code>, desde la creación de archivos y directorios hasta la escritura y lectura de datos de cartas.</p>
<p>En resumen, estas pruebas garantizan que:</p>
<ul>
<li><code>FileManager</code> pueda guardar la colección de cartas en un archivo correctamente.</li>
<li><code>FileManager</code> pueda crear una instancia nueva correctamente.</li>
<li>Cada instancia de <code>FileManager</code> tenga un nombre de usuario asociado.</li>
<li><code>FileManager</code> pueda retornar el path correcto del archivo de una carta.</li>
<li>Los paths de los archivos generados terminen en &#39;.json&#39;.</li>
<li><code>FileManager</code> pueda sobrescribir archivos existentes si se guarda una carta con el mismo ID.</li>
<li><code>FileManager</code> no tenga un atributo público para almacenar la colección de cartas.</li>
<li><code>FileManager</code> pueda cargar la colección de cartas correctamente y retornarla como un <code>Map</code>.</li>
<li><code>FileManager</code> tenga un método para obtener el directorio de usuario.</li>
<li><code>FileManager</code> pueda crear el directorio de usuario si no existe al guardar la colección.</li>
<li><code>FileManager</code> escriba correctamente los datos de las cartas en los archivos.</li>
<li><code>FileManager</code> cree un archivo para cada carta en la colección.</li>
</ul>
<p>Estas pruebas son fundamentales para garantizar que la clase <code>FileManager</code> funcione correctamente al manejar la persistencia de datos de la colección de cartas del usuario, lo que contribuye a una experiencia de usuario fluida y sin errores en la aplicación de gestión de cartas.</p>
<a id="md:userspects" class="tsd-anchor"></a><h2><a href="#md:userspects">User.spec.ts</a></h2><pre><code class="language-typescript"><span class="hl-8">// PRUEBAS PARA LA CLASE CARDCOLLECTION</span><br/><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-2">&#39;mocha&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">expect</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chai&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">CardCollection</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/User.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Card</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/Card.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Color</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationColor.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">LineType</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationLineType.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Rarity</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../../src/MAGICAPP/EnumerationRarity.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">chalk</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;chalk&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-5">sinon</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;sinon&#39;</span><span class="hl-0">;</span><br/><br/><br/><span class="hl-8">// pruebas para la clase</span><br/><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;CardCollection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0"> </span><br/><span class="hl-0">  </span><span class="hl-8">// prueba para comprobar que el constructor funciona</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should create a new instance of CardCollection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">an</span><span class="hl-0">.</span><span class="hl-1">instanceOf</span><span class="hl-0">(</span><span class="hl-5">CardCollection</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// prueba para getColorCode, azul es #0000FF</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return the correct color code&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;#0000FF&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// prueba para getColorCode, rojo es #FF0000</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return the correct color code&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;#FF0000&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// prueba para getColorCode, verde es #00FF00</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return the correct color code&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;#00FF00&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// prueba para getColorCode, amarillo es #FFFF00</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return the correct color code&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Amarillo</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;#FFFF00&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// prueba para getColorCode, rosa es #FF00FF</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return the correct color code&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rosa</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;#FFC0CB&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// prueba para getColorCode, naranja es #FFA500</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return the correct color code&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Naranja</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;#FFA500&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// prueba para getColorCode, morado es #800080</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return the correct color code&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Morado</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;#800080&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// prueba para getColorCode, marron es #8B4513</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return the correct color code&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">getColorCode</span><span class="hl-0">(</span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Marron</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;#A52A2A&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><br/><span class="hl-0">  </span><span class="hl-8">/////////////////// pruebas para add</span><br/><span class="hl-0">  </span><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;addCard&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">let</span><span class="hl-0"> </span><span class="hl-5">cardCollection</span><span class="hl-0">: </span><span class="hl-12">CardCollection</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test Card&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test rules&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">beforeEach</span><span class="hl-0">(() </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">sinon</span><span class="hl-0">.</span><span class="hl-1">stub</span><span class="hl-0">(</span><span class="hl-5">console</span><span class="hl-0">, </span><span class="hl-2">&#39;log&#39;</span><span class="hl-0">); </span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-1">afterEach</span><span class="hl-0">(() </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">sinon</span><span class="hl-0">.</span><span class="hl-1">restore</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// si la carta existe no debe añadirse</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should not add a card with duplicate ID to the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">initialLength</span><span class="hl-0"> = </span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;collection&#39;</span><span class="hl-0">].</span><span class="hl-5">length</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;collection&#39;</span><span class="hl-0">].</span><span class="hl-5">length</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">initialLength</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// Prueba para comporbar que si no existe el directorio lo creamos</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should create the user directory if it does not exist&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;fileManager&#39;</span><span class="hl-0">].</span><span class="hl-1">getUserDir</span><span class="hl-0">()).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;./src/MAGICAPP/users/testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// se inicializa con el nombre de usuario</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should initialize with the username&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;user&#39;</span><span class="hl-0">]).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><br/><span class="hl-0">    </span><br/><span class="hl-0">    </span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">//////////////////// pruebas para update</span><br/><span class="hl-0">  </span><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;updateCard&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">let</span><span class="hl-0"> </span><span class="hl-5">cardCollection</span><span class="hl-0">: </span><span class="hl-12">CardCollection</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test Card&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test rules&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">updatedCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;Updated Card&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">3</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;Updated rules&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">20</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">beforeEach</span><span class="hl-0">(() </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// si la carta no existe no debe actualizarse</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should not update a card that does not exist in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">initialLength</span><span class="hl-0"> = </span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;collection&#39;</span><span class="hl-0">].</span><span class="hl-5">length</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">updateCard</span><span class="hl-0">(</span><span class="hl-5">updatedCard</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;collection&#39;</span><span class="hl-0">].</span><span class="hl-5">length</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">initialLength</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// se inicializa con el nombre de usuario</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should initialize with the username&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;user&#39;</span><span class="hl-0">]).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// SI el id de la carta es -1 se impirme: La carta con ID ${updatedCard.id} no existe en la colección de ${this.user}.`</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0"> (</span><span class="hl-2">&#39;should print a message if the card does not exist in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">updateCard</span><span class="hl-0">(</span><span class="hl-5">updatedCard</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;collection&#39;</span><span class="hl-0">].</span><span class="hl-5">length</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-9">1</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/////////////////// pruebas para remove</span><br/><span class="hl-0">  </span><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;removeCard&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">let</span><span class="hl-0"> </span><span class="hl-5">cardCollection</span><span class="hl-0">: </span><span class="hl-12">CardCollection</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test Card&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test rules&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">beforeEach</span><span class="hl-0">(() </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// si la carta existe, debe ser eliminada</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should remove a card that exists in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">removeCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;collection&#39;</span><span class="hl-0">].</span><span class="hl-1">find</span><span class="hl-0">(</span><span class="hl-5">c</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-5">c</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0"> === </span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">)).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">undefined</span><span class="hl-0">;</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// si la carta no existe, no debe suceder nada</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should do nothing if the card does not exist in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">initialLength</span><span class="hl-0"> = </span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;collection&#39;</span><span class="hl-0">].</span><span class="hl-5">length</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">removeCard</span><span class="hl-0">(</span><span class="hl-9">999</span><span class="hl-0">); </span><span class="hl-8">// Id que no existe</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">cardCollection</span><span class="hl-0">[</span><span class="hl-2">&#39;collection&#39;</span><span class="hl-0">].</span><span class="hl-5">length</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-5">initialLength</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// si el archivo de la carta con un id no existe, se imprime: El archivo de la carta con ID ${id} no existe.</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should print a message if the card file does not exist&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">logMock</span><span class="hl-0"> = </span><span class="hl-5">sinon</span><span class="hl-0">.</span><span class="hl-1">spy</span><span class="hl-0">(</span><span class="hl-5">console</span><span class="hl-0">, </span><span class="hl-2">&#39;log&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">removeCard</span><span class="hl-0">(</span><span class="hl-9">999</span><span class="hl-0">); </span><span class="hl-8">// Id que no existe</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">calledWith</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">red</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`El archivo de la carta con ID 999 no existe.`</span><span class="hl-0">))).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">false</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">restore</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/////////////////// pruebas para list</span><br/><span class="hl-0">  </span><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;listCards&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">let</span><span class="hl-0"> </span><span class="hl-5">cardCollection</span><span class="hl-0">: </span><span class="hl-12">CardCollection</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card1</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test Card 1&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test rules 1&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card2</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test Card 2&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">3</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Verde</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Artefacto</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test rules 2&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">20</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">beforeEach</span><span class="hl-0">(() </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card1</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card2</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// it should list all cards in the collection</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should list all cards in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">logMock</span><span class="hl-0"> = </span><span class="hl-5">sinon</span><span class="hl-0">.</span><span class="hl-1">spy</span><span class="hl-0">(</span><span class="hl-5">console</span><span class="hl-0">, </span><span class="hl-2">&#39;log&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">listCards</span><span class="hl-0">();</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">calledWith</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">`</span><span class="hl-3">\n</span><span class="hl-2">Colección de cartas de testUser</span><span class="hl-3">\n</span><span class="hl-2">`</span><span class="hl-0">))).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">calledWith</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">white</span><span class="hl-0">(</span><span class="hl-2">`ID: 1`</span><span class="hl-0">)))).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">calledWith</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-1">white</span><span class="hl-0">(</span><span class="hl-2">`ID: 2`</span><span class="hl-0">)))).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">restore</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// comporbamos si es de tipo criatura y tiene poder y resistencia</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should list all cards in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">logMock</span><span class="hl-0"> = </span><span class="hl-5">sinon</span><span class="hl-0">.</span><span class="hl-1">spy</span><span class="hl-0">(</span><span class="hl-5">console</span><span class="hl-0">, </span><span class="hl-2">&#39;log&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">listCards</span><span class="hl-0">();</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">calledWith</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">`Fuerza/Resistencia: </span><span class="hl-4">${</span><span class="hl-5">card1</span><span class="hl-13">.</span><span class="hl-5">power</span><span class="hl-4">}</span><span class="hl-2">/</span><span class="hl-4">${</span><span class="hl-5">card1</span><span class="hl-13">.</span><span class="hl-5">toughness</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">))).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">false</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">restore</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">/////////////////// pruebas para read</span><br/><span class="hl-0">  </span><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&#39;readCard&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">let</span><span class="hl-0"> </span><span class="hl-5">cardCollection</span><span class="hl-0">: </span><span class="hl-12">CardCollection</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test Card&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Azul</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Comun</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test rules&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">planeswalkerCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test Planeswalker&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">3</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Rojo</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Planeswalker</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&#39;Test rules&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">loyalty:</span><span class="hl-0"> </span><span class="hl-9">4</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">15</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-1">beforeEach</span><span class="hl-0">(() </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0"> = </span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-1">CardCollection</span><span class="hl-0">(</span><span class="hl-2">&#39;testUser&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">planeswalkerCard</span><span class="hl-0">);</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// debería mostrar la información de la carta si existe</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should display card information if the card exists in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">logMock</span><span class="hl-0"> = </span><span class="hl-5">sinon</span><span class="hl-0">.</span><span class="hl-1">spy</span><span class="hl-0">(</span><span class="hl-5">console</span><span class="hl-0">, </span><span class="hl-2">&#39;log&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">readCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">calledWith</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">bold</span><span class="hl-0">.</span><span class="hl-1">italic</span><span class="hl-0">(</span><span class="hl-2">&#39;</span><span class="hl-3">\n</span><span class="hl-2">Información de la carta con ID 1</span><span class="hl-3">\n</span><span class="hl-2">&#39;</span><span class="hl-0">))).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">restore</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">    </span><span class="hl-8">// debería mostrar un mensaje si la carta no existe</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should display a message if the card does not exist in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">logMock</span><span class="hl-0"> = </span><span class="hl-5">sinon</span><span class="hl-0">.</span><span class="hl-1">spy</span><span class="hl-0">(</span><span class="hl-5">console</span><span class="hl-0">, </span><span class="hl-2">&#39;log&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">readCard</span><span class="hl-0">(</span><span class="hl-9">999</span><span class="hl-0">); </span><span class="hl-8">// ID que no existe</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">calledWith</span><span class="hl-0">(</span><span class="hl-5">chalk</span><span class="hl-0">.</span><span class="hl-5">red</span><span class="hl-0">.</span><span class="hl-1">bold</span><span class="hl-0">(</span><span class="hl-2">&#39;La carta con ID 999 no existe en la colección de testUser.&#39;</span><span class="hl-0">))).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">true</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">restore</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should display a message if the card does not exist in the collection&#39;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-8">// Espía la función console.log para verificar si se llama correctamente</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">logMock</span><span class="hl-0"> = </span><span class="hl-5">sinon</span><span class="hl-0">.</span><span class="hl-1">spy</span><span class="hl-0">(</span><span class="hl-5">console</span><span class="hl-0">, </span><span class="hl-2">&#39;log&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-8">// Llama al método readCard con un ID que no existe en la colección</span><br/><span class="hl-0">      </span><span class="hl-5">cardCollection</span><span class="hl-0">.</span><span class="hl-1">readCard</span><span class="hl-0">(</span><span class="hl-9">999</span><span class="hl-0">); </span><span class="hl-8">// ID que no existe</span><br/><span class="hl-0">      </span><span class="hl-8">// Verifica que console.log haya sido llamado con el mensaje correcto</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">getCall</span><span class="hl-0">(</span><span class="hl-9">0</span><span class="hl-0">).</span><span class="hl-5">args</span><span class="hl-0">[</span><span class="hl-9">0</span><span class="hl-0">]).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">contain</span><span class="hl-0">(</span><span class="hl-2">`La carta con ID 999 no existe en la colección de testUser.`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-8">// Restaura la función console.log</span><br/><span class="hl-0">      </span><span class="hl-5">logMock</span><span class="hl-0">.</span><span class="hl-1">restore</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">   </span><br/><span class="hl-0">  });</span><br/><span class="hl-0">});</span><br/>
</code><button>Copy</button></pre>
<p>Estas pruebas están diseñadas para verificar el comportamiento de la clase <code>CardCollection</code>, que se encarga de administrar la colección de cartas de un usuario en la aplicación Magic. Cada prueba se enfoca en aspectos específicos de la funcionalidad de <code>CardCollection</code>, desde la creación de una instancia hasta la adición, actualización, eliminación y visualización de cartas en la colección.</p>
<p>En resumen, estas pruebas garantizan que:</p>
<ul>
<li><code>CardCollection</code> pueda crear una nueva instancia correctamente.</li>
<li><code>CardCollection</code> pueda devolver el código de color correcto para cada color de carta.</li>
<li><code>CardCollection</code> pueda agregar cartas a la colección correctamente.</li>
<li><code>CardCollection</code> pueda actualizar cartas en la colección correctamente.</li>
<li><code>CardCollection</code> pueda eliminar cartas de la colección correctamente.</li>
<li><code>CardCollection</code> pueda listar todas las cartas en la colección correctamente.</li>
<li><code>CardCollection</code> pueda mostrar la información de una carta específica correctamente.</li>
</ul>
<p>Estas pruebas son fundamentales para garantizar que la clase <code>CardCollection</code> funcione correctamente al administrar la colección de cartas de un usuario en la aplicación Magic: The Gathering, lo que contribuye a una experiencia de usuario fluida y sin errores.</p>
<a id="md:indexspects" class="tsd-anchor"></a><h2><a href="#md:indexspects">Index.spec.ts</a></h2><p>Se han desarrollado una serie de pruebas unitarias para garantizar el correcto funcionamiento del cliente de sockets implementado en el servidor de gestión de colección de cartas. Estas pruebas abarcan diferentes escenarios para asegurar la fiabilidad y el comportamiento esperado del cliente en diversas situaciones.</p>
<a id="md:descripción-de-las-pruebas" class="tsd-anchor"></a><h4><a href="#md:descripción-de-las-pruebas">Descripción de las Pruebas</a></h4><ol>
<li><p><strong>Creación de Instancia de EventEmitter:</strong></p>
<ul>
<li>Verifica que se crea una instancia de <code>EventEmitter</code> al instanciar <code>EventEmitterSocket</code>.</li>
</ul>
</li>
<li><p><strong>Emisión del Evento &#39;request&#39; al Recibir un Mensaje Completo:</strong></p>
<ul>
<li>Comprueba que se emite el evento &#39;request&#39; cuando se recibe un mensaje completo a través de la conexión.</li>
</ul>
</li>
<li><p><strong>Emisión del Evento &#39;close&#39; al Cerrar la Conexión:</strong></p>
<ul>
<li>Verifica que se emite el evento &#39;close&#39; cuando la conexión se cierra.</li>
</ul>
</li>
<li><p><strong>No Emisión del Evento &#39;request&#39; si no se Recibe un Mensaje Completo:</strong></p>
<ul>
<li>Asegura que no se emite el evento &#39;request&#39; si no se recibe un mensaje completo a través de la conexión.</li>
</ul>
</li>
<li><p><strong>No se Producen Errores al Recibir un Mensaje Vacío:</strong></p>
<ul>
<li>Confirma que no se lanzan errores si se recibe un mensaje vacío a través de la conexión.</li>
</ul>
</li>
</ol>
<a id="md:serverspects" class="tsd-anchor"></a><h2><a href="#md:serverspects">Server.spec.ts</a></h2><p>Se han desarrollado una serie de pruebas unitarias para asegurar el correcto funcionamiento del servidor de gestión de colección de cartas. Estas pruebas cubren diversos aspectos de la funcionalidad del servidor, incluyendo la creación de instancias de clases relevantes, el manejo de eventos, y la correcta ejecución de las acciones esperadas en respuesta a los mensajes recibidos.</p>
<a id="md:descripción-de-las-pruebas-1" class="tsd-anchor"></a><h4><a href="#md:descripción-de-las-pruebas-1">Descripción de las Pruebas</a></h4><ol>
<li><p><strong>Creación de Instancia de EventEmitter:</strong></p>
<ul>
<li>Verifica que se crea una instancia de <code>EventEmitter</code> al instanciar <code>EventEmitterSocket</code>, lo cual es esencial para la comunicación entre el servidor y los clientes.</li>
</ul>
</li>
<li><p><strong>Creación de Instancia de CardCollection:</strong></p>
<ul>
<li>Asegura que se crea correctamente una instancia de <code>CardCollection</code> para manejar la colección de cartas de un usuario.</li>
</ul>
</li>
<li><p><strong>Impresión de Mensaje al Desconectar un Cliente:</strong></p>
<ul>
<li>Comprueba que se imprime un mensaje cuando un cliente se desconecta del servidor.</li>
</ul>
</li>
<li><p><strong>Añadir una Carta a la Colección:</strong></p>
<ul>
<li>Verifica que se añade una carta correctamente a la colección cuando se recibe el mensaje adecuado del cliente.</li>
</ul>
</li>
<li><p><strong>Eliminar una Carta de la Colección:</strong></p>
<ul>
<li>Asegura que se elimina una carta correctamente de la colección cuando se recibe el mensaje adecuado del cliente.</li>
</ul>
</li>
<li><p><strong>Actualizar una Carta en la Colección:</strong></p>
<ul>
<li>Comprueba que se actualiza correctamente una carta en la colección cuando se recibe el mensaje adecuado del cliente.</li>
</ul>
</li>
<li><p><strong>Leer una Carta de la Colección:</strong></p>
<ul>
<li>Verifica que se lee correctamente una carta de la colección cuando se recibe el mensaje adecuado del cliente.</li>
</ul>
</li>
<li><p><strong>Listar las Cartas de la Colección:</strong></p>
<ul>
<li>Asegura que se listan correctamente todas las cartas de la colección cuando se recibe el mensaje adecuado del cliente.</li>
</ul>
</li>
<li><p><strong>Enviar un Mensaje de Error si se Recibe un Mensaje Incorrecto:</strong></p>
<ul>
<li>Verifica que se envía un mensaje de error si se recibe un mensaje incorrecto por parte del cliente.</li>
</ul>
</li>
<li><p><strong>Impresión de Mensaje al Conectar un Cliente:</strong></p>
<ul>
<li>Comprueba que se imprime un mensaje cuando un cliente se conecta al servidor.</li>
</ul>
</li>
</ol>
<a id="md:eventemittersocketspects" class="tsd-anchor"></a><h2><a href="#md:eventemittersocketspects">EventEmitterSocket.spec.ts</a></h2><p>Se han desarrollado una serie de pruebas unitarias para asegurar el correcto funcionamiento del servidor de sockets. Estas pruebas cubren diversos aspectos de la funcionalidad del servidor, incluyendo la emisión de eventos, la gestión de conexiones, y el manejo adecuado de mensajes recibidos.</p>
<a id="md:descripción-de-las-pruebas-2" class="tsd-anchor"></a><h4><a href="#md:descripción-de-las-pruebas-2">Descripción de las Pruebas</a></h4><ol>
<li><p><strong>Herencia de EventEmitter:</strong></p>
<ul>
<li>Verifica que la clase <code>EventEmitterSocket</code> hereda de <code>EventEmitter</code>, lo cual es necesario para manejar eventos en Node.js.</li>
</ul>
</li>
<li><p><strong>Emisión del Evento &quot;request&quot; al Recibir un Mensaje Completo:</strong></p>
<ul>
<li>Asegura que se emite el evento &quot;request&quot; cuando se recibe un mensaje completo por parte de un cliente.</li>
</ul>
</li>
<li><p><strong>Emisión del Evento &quot;close&quot; al Cerrar la Conexión:</strong></p>
<ul>
<li>Comprueba que se emite el evento &quot;close&quot; cuando se cierra la conexión del cliente.</li>
</ul>
</li>
<li><p><strong>No Emisión del Evento &quot;request&quot; si no se Recibe un Mensaje Completo:</strong></p>
<ul>
<li>Verifica que no se emite el evento &quot;request&quot; si no se recibe un mensaje completo por parte del cliente.</li>
</ul>
</li>
<li><p><strong>No Generar Errores al Recibir un Mensaje Vacío:</strong></p>
<ul>
<li>Asegura que no se generan errores si se recibe un mensaje vacío por parte del cliente.</li>
</ul>
</li>
<li><p><strong>No Generar Errores al Recibir Tipos de Datos Incorrectos:</strong></p>
<ul>
<li>Verifica que no se generan errores si se recibe un tipo de dato incorrecto por parte del cliente.</li>
</ul>
</li>
<li><p><strong>Pruebas de Herencia:</strong></p>
<ul>
<li>Asegura que la clase <code>EventEmitterSocket</code> hereda correctamente de <code>EventEmitter</code>.</li>
</ul>
</li>
</ol>
<p>Todas estas pruebas fueron pasadas satisfactoriamente:</p>
<pre><code class="language-bash"><span class="hl-0"> </span><span class="hl-1">140</span><span class="hl-0"> </span><span class="hl-2">passing</span><span class="hl-0"> (210ms)</span><br/><br/><span class="hl-1">-------------------------</span><span class="hl-0">|</span><span class="hl-1">---------</span><span class="hl-0">|</span><span class="hl-1">----------</span><span class="hl-0">|</span><span class="hl-1">---------</span><span class="hl-0">|</span><span class="hl-1">---------</span><span class="hl-0">|</span><span class="hl-1">---------------------------------------------------------</span><br/><span class="hl-1">File</span><span class="hl-0">                     | </span><span class="hl-1">%</span><span class="hl-0"> </span><span class="hl-2">Stmts</span><span class="hl-0"> | </span><span class="hl-1">%</span><span class="hl-0"> </span><span class="hl-2">Branch</span><span class="hl-0"> | </span><span class="hl-1">%</span><span class="hl-0"> </span><span class="hl-2">Funcs</span><span class="hl-0"> | </span><span class="hl-1">%</span><span class="hl-0"> </span><span class="hl-2">Lines</span><span class="hl-0"> | </span><span class="hl-1">Uncovered</span><span class="hl-0"> </span><span class="hl-2">Line</span><span class="hl-0"> </span><span class="hl-8">#s                                       </span><br/><span class="hl-1">-------------------------</span><span class="hl-0">|</span><span class="hl-1">---------</span><span class="hl-0">|</span><span class="hl-1">----------</span><span class="hl-0">|</span><span class="hl-1">---------</span><span class="hl-0">|</span><span class="hl-1">---------</span><span class="hl-0">|</span><span class="hl-1">---------------------------------------------------------</span><br/><span class="hl-1">All</span><span class="hl-0"> </span><span class="hl-2">files</span><span class="hl-0">                |   </span><span class="hl-1">95.75</span><span class="hl-0"> |    </span><span class="hl-1">80.56</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |   </span><span class="hl-1">95.75</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0"> </span><span class="hl-1">src</span><span class="hl-0">                     |     </span><span class="hl-1">100</span><span class="hl-0"> |      </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0">  </span><span class="hl-1">basicfunction.ts</span><span class="hl-0">       |     </span><span class="hl-1">100</span><span class="hl-0"> |      </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0"> </span><span class="hl-1">src/EJERCICIO</span><span class="hl-0">           |   </span><span class="hl-1">95.72</span><span class="hl-0"> |    </span><span class="hl-1">75.51</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |   </span><span class="hl-1">95.72</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0">  </span><span class="hl-1">EnumerationColor.ts</span><span class="hl-0">    |     </span><span class="hl-1">100</span><span class="hl-0"> |      </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0">  </span><span class="hl-1">EnumerationLineType.ts</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |      </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0">  </span><span class="hl-1">EnumerationRarity.ts</span><span class="hl-0">   |     </span><span class="hl-1">100</span><span class="hl-0"> |      </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0">  </span><span class="hl-1">EventEmitterSocket.ts</span><span class="hl-0">  |     </span><span class="hl-1">100</span><span class="hl-0"> |      </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0">  </span><span class="hl-1">FileManager.ts</span><span class="hl-0">         |     </span><span class="hl-1">100</span><span class="hl-0"> |      </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0">  </span><span class="hl-1">User.ts</span><span class="hl-0">                |   </span><span class="hl-1">92.48</span><span class="hl-0"> |    </span><span class="hl-1">75.78</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |   </span><span class="hl-1">92.48</span><span class="hl-0"> | </span><span class="hl-1">100-101,120-123,148-149</span><br/><span class="hl-0"> </span><span class="hl-1">src/MODIFICACION</span><span class="hl-0">        |   </span><span class="hl-1">95.16</span><span class="hl-0"> |    </span><span class="hl-1">78.57</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |   </span><span class="hl-1">95.16</span><span class="hl-0"> |                                                         </span><br/><span class="hl-0">  </span><span class="hl-1">Metodos.ts</span><span class="hl-0">             |   </span><span class="hl-1">95.16</span><span class="hl-0"> |    </span><span class="hl-1">78.57</span><span class="hl-0"> |     </span><span class="hl-1">100</span><span class="hl-0"> |   </span><span class="hl-1">95.16</span><span class="hl-0"> | </span><span class="hl-1">24</span><span class="hl-0">                                          </span><br/><span class="hl-1">-------------------------</span><span class="hl-0">|</span><span class="hl-1">---------</span><span class="hl-0">|</span><span class="hl-1">----------</span><span class="hl-0">|</span><span class="hl-1">---------</span><span class="hl-0">|</span><span class="hl-1">---------</span><span class="hl-0">|</span><span class="hl-1">---------------------------------------------------------</span>
</code><button>Copy</button></pre>
<a id="md:12-modificación" class="tsd-anchor"></a><h1><a href="#md:12-modificación">12. Modificación.</a></h1><a id="md:enunciado-1" class="tsd-anchor"></a><h2><a href="#md:enunciado-1">Enunciado:</a></h2><p>Durante la práctica 9, debería haber escrito en alguna clase métodos para añadir, modificar, borrar y actualizar la información de una carta de la colección de un usuario:</p>
<p>Escoja dos de esos métodos y sustituya en los mismos la invocación de métodos del API síncrona de Node.js de gestión el sistema de ficheros, por llamadas a los métodos equivalentes del API asíncrona basada en callbacks.
Implemente ambos métodos siguiendo el patrón callback.
Lleve a cabo pruebas de ambos métodos.</p>
<a id="md:código-propuesto-1" class="tsd-anchor"></a><h2><a href="#md:código-propuesto-1">Código propuesto</a></h2><p>Para el ejercicio propuesto en clase se realizó el siguiente código:</p>
<pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Card</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;../EJERCICIO/Card.js&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-4">*</span><span class="hl-0"> </span><span class="hl-6">as</span><span class="hl-0"> </span><span class="hl-5">fs</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;fs&#39;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-4">*</span><span class="hl-0"> </span><span class="hl-6">as</span><span class="hl-0"> </span><span class="hl-5">path</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&#39;path&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">/**</span><br/><span class="hl-8"> * Método para añadir una carta a la colección de forma asíncrona.</span><br/><span class="hl-8"> * Utiliza el patrón de programación asíncrona con callbacks.</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">card</span><span class="hl-8">: Card - Carta a añadir </span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">callback</span><span class="hl-8">: (error: Error | null, message?: string) =&gt; void - Función de retorno</span><br/><span class="hl-8"> * </span><span class="hl-4">@returns</span><span class="hl-8"> void no devuelve nada</span><br/><span class="hl-8"> */</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-4">function</span><span class="hl-0"> </span><span class="hl-1">addCard</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">, </span><span class="hl-1">callback</span><span class="hl-0">: (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-12">void</span><span class="hl-0">): </span><span class="hl-12">void</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">// Verificar si la carta ya existe en la colección</span><br/><span class="hl-0">  </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">some</span><span class="hl-0">((</span><span class="hl-5">c</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-5">c</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0"> === </span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">)) {</span><br/><span class="hl-0">    </span><span class="hl-1">callback</span><span class="hl-0">(</span><span class="hl-4">null</span><span class="hl-0">, </span><span class="hl-2">`La carta con ID </span><span class="hl-4">${</span><span class="hl-5">card</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> ya existe en la colección.`</span><span class="hl-0">);</span><br/><span class="hl-0">  } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-8">// Agregar la carta a la colección</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">push</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">filePath</span><span class="hl-0"> = </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">    </span><span class="hl-8">// Verificar si el directorio existe, si no, crearlo de forma asíncrona</span><br/><span class="hl-0">    </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">mkdir</span><span class="hl-0">(</span><span class="hl-5">path</span><span class="hl-0">.</span><span class="hl-1">dirname</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">), { </span><span class="hl-5">recursive:</span><span class="hl-0"> </span><span class="hl-4">true</span><span class="hl-0"> }, (</span><span class="hl-5">err</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-8">// si hay un error, llamar al callback con el error</span><br/><span class="hl-0">      </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">err</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">callback</span><span class="hl-0">(</span><span class="hl-5">err</span><span class="hl-0">, </span><span class="hl-2">`Error al crear el directorio para la carta en el sistema de archivos: </span><span class="hl-4">${</span><span class="hl-5">err</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">);</span><br/><span class="hl-0">      } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-8">// Escribir la carta en el sistema de archivos de forma asíncrona</span><br/><span class="hl-0">        </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">writeFile</span><span class="hl-0">(</span><span class="hl-5">filePath</span><span class="hl-0">, </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">(</span><span class="hl-5">card</span><span class="hl-0">, </span><span class="hl-4">null</span><span class="hl-0">, </span><span class="hl-9">2</span><span class="hl-0">), (</span><span class="hl-5">err</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">          </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">err</span><span class="hl-0">) {</span><br/><span class="hl-0">            </span><span class="hl-1">callback</span><span class="hl-0">(</span><span class="hl-5">err</span><span class="hl-0">, </span><span class="hl-2">`Error al escribir la carta en el sistema de archivos: </span><span class="hl-4">${</span><span class="hl-5">err</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">);</span><br/><span class="hl-0">          } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">            </span><span class="hl-1">callback</span><span class="hl-0">(</span><span class="hl-4">null</span><span class="hl-0">, </span><span class="hl-2">`Nueva carta añadida a la colección.`</span><span class="hl-0">);</span><br/><span class="hl-0">          }</span><br/><span class="hl-0">        });</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-8">/**</span><br/><span class="hl-8"> * Método para actualizar una carta de forma asíncrona.</span><br/><span class="hl-8"> * Utiliza el patrón de programación asíncrona con callbacks.</span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">updatedCard</span><span class="hl-8">: Card - Carta actualizada </span><br/><span class="hl-8"> * </span><span class="hl-4">@param</span><span class="hl-8"> </span><span class="hl-5">callback</span><span class="hl-8">: (error: Error | null, message?: string) =&gt; void - Función de retorno</span><br/><span class="hl-8"> * </span><span class="hl-4">@returns</span><span class="hl-8"> void no devuelve nada</span><br/><span class="hl-8"> */</span><br/><span class="hl-6">export</span><span class="hl-0"> </span><span class="hl-4">function</span><span class="hl-0"> </span><span class="hl-1">updateCard</span><span class="hl-0">(</span><span class="hl-5">updatedCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">, </span><span class="hl-1">callback</span><span class="hl-0">: (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-12">void</span><span class="hl-0">): </span><span class="hl-12">void</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">cardIndex</span><span class="hl-0"> = </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">.</span><span class="hl-1">findIndex</span><span class="hl-0">((</span><span class="hl-5">c</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-5">c</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0"> === </span><span class="hl-5">updatedCard</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">);</span><br/><span class="hl-0">  </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">cardIndex</span><span class="hl-0"> === -</span><span class="hl-9">1</span><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-1">callback</span><span class="hl-0">(</span><span class="hl-4">null</span><span class="hl-0">, </span><span class="hl-2">`La carta con ID </span><span class="hl-4">${</span><span class="hl-5">updatedCard</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> no existe en la colección.`</span><span class="hl-0">);</span><br/><span class="hl-0">  } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-8">// Actualizar la carta en la colección</span><br/><span class="hl-0">    </span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">collection</span><span class="hl-0">[</span><span class="hl-5">cardIndex</span><span class="hl-0">] = </span><span class="hl-5">updatedCard</span><span class="hl-0">;</span><br/><span class="hl-0">    </span><span class="hl-8">// Escribir la carta actualizada en el sistema de archivos de forma asíncrona</span><br/><span class="hl-0">    </span><span class="hl-5">fs</span><span class="hl-0">.</span><span class="hl-1">writeFile</span><span class="hl-0">(</span><span class="hl-4">this</span><span class="hl-0">.</span><span class="hl-5">fileManager</span><span class="hl-0">.</span><span class="hl-1">getFilePath</span><span class="hl-0">(</span><span class="hl-5">updatedCard</span><span class="hl-0">.</span><span class="hl-5">id</span><span class="hl-0">), </span><span class="hl-10">JSON</span><span class="hl-0">.</span><span class="hl-1">stringify</span><span class="hl-0">(</span><span class="hl-5">updatedCard</span><span class="hl-0">, </span><span class="hl-4">null</span><span class="hl-0">, </span><span class="hl-9">2</span><span class="hl-0">), (</span><span class="hl-5">err</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-6">if</span><span class="hl-0"> (</span><span class="hl-5">err</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-1">callback</span><span class="hl-0">(</span><span class="hl-5">err</span><span class="hl-0">, </span><span class="hl-2">`Error al actualizar la carta en el sistema de archivos: </span><span class="hl-4">${</span><span class="hl-5">err</span><span class="hl-4">}</span><span class="hl-2">`</span><span class="hl-0">);</span><br/><span class="hl-0">      } </span><span class="hl-6">else</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">callback</span><span class="hl-0">(</span><span class="hl-4">null</span><span class="hl-0">, </span><span class="hl-2">`Carta actualizada en la colección.`</span><span class="hl-0">);</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">}</span><br/>
</code><button>Copy</button></pre>
<a id="md:explicación-de-lo-realizado-1" class="tsd-anchor"></a><h3><a href="#md:explicación-de-lo-realizado-1">Explicación de lo realizado.</a></h3><a id="md:función-addcard" class="tsd-anchor"></a><h4><a href="#md:función-addcard">Función <code>addCard</code></a></h4><p>Esta función se encarga de añadir una carta a la colección de forma asíncrona. Aquí hay un resumen de lo que hace:</p>
<ol>
<li><p><strong>Verificación de la Existencia de la Carta:</strong> Primero verifica si la carta ya existe en la colección. Si la carta ya está presente, se llama al callback con un mensaje indicando que la carta ya existe.</p>
</li>
<li><p><strong>Agregando la Carta a la Colección:</strong> Si la carta no existe en la colección, se agrega a la colección.</p>
</li>
<li><p><strong>Gestión del Sistema de Archivos:</strong> Luego, se obtiene la ruta del archivo donde se almacenará la carta. Se verifica si el directorio donde se almacenará la carta ya existe. Si no existe, se crea de forma asíncrona utilizando <code>fs.mkdir</code>. Una vez que el directorio está creado o si ya existe, se escribe la carta en el sistema de archivos utilizando <code>fs.writeFile</code>.</p>
</li>
</ol>
<a id="md:función-updatecard" class="tsd-anchor"></a><h4><a href="#md:función-updatecard">Función <code>updateCard</code></a></h4><p>Esta función se encarga de actualizar una carta en la colección de forma asíncrona. Aquí está el resumen de lo que hace:</p>
<ol>
<li><p><strong>Búsqueda de la Carta:</strong> Primero busca la carta en la colección. Si la carta no se encuentra, se llama al callback con un mensaje indicando que la carta no existe en la colección.</p>
</li>
<li><p><strong>Actualización de la Carta:</strong> Si la carta se encuentra en la colección, se actualiza con los nuevos datos.</p>
</li>
<li><p><strong>Actualización en el Sistema de Archivos:</strong> Luego, se escribe la carta actualizada en el sistema de archivos utilizando <code>fs.writeFile</code>.</p>
</li>
</ol>
<p>Ambas funciones utilizan <code>fs.writeFile</code> para escribir en el sistema de archivos de forma asíncrona, lo que asegura que la operación no bloquee el hilo principal de Node.js. Una vez completada la operación, se llama al callback con cualquier error que haya ocurrido durante el proceso o un mensaje de éxito si la operación se completó correctamente.</p>
<a id="md:pruebas-realizadas" class="tsd-anchor"></a><h2><a href="#md:pruebas-realizadas">Pruebas realizadas.</a></h2><pre><code class="language-typescript"><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-2">&quot;mocha&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">expect</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;chai&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">addCard</span><span class="hl-0">, </span><span class="hl-5">updateCard</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;../../src/MODIFICACION/Metodos.js&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Card</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;../../src/EJERCICIO/Card.js&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Color</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;../../src/EJERCICIO/EnumerationColor.js&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">LineType</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;../../src/EJERCICIO/EnumerationLineType.js&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> { </span><span class="hl-5">Rarity</span><span class="hl-0"> } </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;../../src/EJERCICIO/EnumerationRarity.js&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-4">*</span><span class="hl-0"> </span><span class="hl-6">as</span><span class="hl-0"> </span><span class="hl-5">fs</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;fs&quot;</span><span class="hl-0">;</span><br/><span class="hl-6">import</span><span class="hl-0"> </span><span class="hl-4">*</span><span class="hl-0"> </span><span class="hl-6">as</span><span class="hl-0"> </span><span class="hl-5">sinon</span><span class="hl-0"> </span><span class="hl-6">from</span><span class="hl-0"> </span><span class="hl-2">&quot;sinon&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-8">// PRUEBAS ADDCARD</span><br/><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&quot;Asynchronous function addCard tests&quot;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">// PRUEBA PARA EL MÉTODO addCard QUE AÑADE UNA CARTA A LA COLECCIÓN</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&quot;addCard should add a card to the collection&quot;</span><span class="hl-0">, (</span><span class="hl-5">done</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">testCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&quot;Test Card&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">5</span><span class="hl-0">, </span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&quot;Texto de reglas de la carta.&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10.0</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-8">// Simulamos la existencia de una colección vacía</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">[] = [];</span><br/><span class="hl-0">    </span><span class="hl-8">// Simulamos la existencia de un objeto con la propiedad fileManager</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileManager</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-1">getFilePath</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">&quot;fake/filepath&quot;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-8">// Llamamos a la función addCard con el contexto adecuado y pasamos la colección</span><br/><span class="hl-0">    </span><span class="hl-5">addCard</span><span class="hl-0">.</span><span class="hl-1">call</span><span class="hl-0">({ </span><span class="hl-5">collection</span><span class="hl-0">, </span><span class="hl-5">fileManager</span><span class="hl-0"> }, </span><span class="hl-5">testCard</span><span class="hl-0">, (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">error</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">message</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&quot;Nueva carta añadida a la colección.&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">done</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-8">// PRUEBA PARA EL MÉTODO addCard QUE INTENTA AÑADIR UNA CARTA QUE YA EXISTE EN LA COLECCIÓN</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&quot;addCard should not add a card that already exists in the collection&quot;</span><span class="hl-0">, (</span><span class="hl-5">done</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">testCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&quot;Test Card&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">5</span><span class="hl-0">, </span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&quot;Texto de reglas de la carta.&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10.0</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-8">// Simulamos la existencia de una colección con una carta</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">[] = [</span><span class="hl-5">testCard</span><span class="hl-0">];</span><br/><span class="hl-0">    </span><span class="hl-8">// Simulamos la existencia de un objeto con la propiedad fileManager</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileManager</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-1">getFilePath</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">&quot;fake/filepath&quot;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-8">// Llamamos a la función addCard con el contexto adecuado y pasamos la colección</span><br/><span class="hl-0">    </span><span class="hl-5">addCard</span><span class="hl-0">.</span><span class="hl-1">call</span><span class="hl-0">({ </span><span class="hl-5">collection</span><span class="hl-0">, </span><span class="hl-5">fileManager</span><span class="hl-0"> }, </span><span class="hl-5">testCard</span><span class="hl-0">, (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">error</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">message</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&quot;La carta con ID 1 ya existe en la colección.&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">done</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return an error if the card already exists in the collection&#39;</span><span class="hl-0">, (</span><span class="hl-5">done</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">testCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&quot;Test Card&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">5</span><span class="hl-0">, </span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&quot;Texto de reglas de la carta.&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10.0</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">[] = [</span><span class="hl-5">testCard</span><span class="hl-0">];</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileManager</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-1">getFilePath</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">&quot;fake/filepath&quot;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-5">addCard</span><span class="hl-0">.</span><span class="hl-1">call</span><span class="hl-0">({ </span><span class="hl-5">collection</span><span class="hl-0">, </span><span class="hl-5">fileManager</span><span class="hl-0"> }, </span><span class="hl-5">testCard</span><span class="hl-0">, (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">message</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">`La carta con ID </span><span class="hl-4">${</span><span class="hl-5">testCard</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> ya existe en la colección.`</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">done</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><br/><span class="hl-0">});</span><br/><br/><span class="hl-8">// PRUEBAS UPDATECARD</span><br/><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&quot;Asynchronous function updateCard tests&quot;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-8">// PRUEBA QUE ACTUALIZA UNA CARTA DE LA COLECCIÓN</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&quot;updateCard should update a card in the collection&quot;</span><span class="hl-0">, (</span><span class="hl-5">done</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">testCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&quot;Test Card&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">5</span><span class="hl-0">, </span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&quot;Texto de reglas de la carta.&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10.0</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-8">// Simulamos la existencia de una colección con una carta</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">[] = [</span><span class="hl-5">testCard</span><span class="hl-0">];</span><br/><span class="hl-0">    </span><span class="hl-8">// Simulamos la existencia de un objeto con la propiedad fileManager</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileManager</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-1">getFilePath</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">&quot;fake/filepath&quot;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-8">// Llamamos a la función updateCard con el contexto adecuado y pasamos la colección</span><br/><span class="hl-0">    </span><span class="hl-5">updateCard</span><span class="hl-0">.</span><span class="hl-1">call</span><span class="hl-0">({ </span><span class="hl-5">collection</span><span class="hl-0">, </span><span class="hl-5">fileManager</span><span class="hl-0"> }, </span><span class="hl-5">testCard</span><span class="hl-0">, (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">error</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">message</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&quot;Carta actualizada en la colección.&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">done</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// prueba que intenta actualizar una carta que no existe en la colección</span><br/><span class="hl-0">  </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&quot;updateCard should not update a card that does not exist in the collection&quot;</span><span class="hl-0">, (</span><span class="hl-5">done</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">testCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&quot;Test Card&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">5</span><span class="hl-0">, </span><br/><span class="hl-0">      </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&quot;Texto de reglas de la carta.&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">      </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10.0</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-8">// Simulamos la existencia de una colección vacía</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">[] = [];</span><br/><span class="hl-0">    </span><span class="hl-8">// Simulamos la existencia de un objeto con la propiedad fileManager</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileManager</span><span class="hl-0"> = {</span><br/><span class="hl-0">      </span><span class="hl-1">getFilePath</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">&quot;fake/filepath&quot;</span><br/><span class="hl-0">    };</span><br/><span class="hl-0">    </span><span class="hl-8">// Llamamos a la función updateCard con el contexto adecuado y pasamos la colección</span><br/><span class="hl-0">    </span><span class="hl-5">updateCard</span><span class="hl-0">.</span><span class="hl-1">call</span><span class="hl-0">({ </span><span class="hl-5">collection</span><span class="hl-0">, </span><span class="hl-5">fileManager</span><span class="hl-0"> }, </span><span class="hl-5">testCard</span><span class="hl-0">, (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">error</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">message</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&quot;La carta con ID 1 no existe en la colección.&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">      </span><span class="hl-1">done</span><span class="hl-0">();</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">  </span><span class="hl-1">describe</span><span class="hl-0">(</span><span class="hl-2">&quot;Asynchronous function updateCard tests&quot;</span><span class="hl-0">, () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-8">// PRUEBA QUE ACTUALIZA UNA CARTA DE LA COLECCIÓN Y DEVUELVE UN MENSAJE DE ÉXITO</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&quot;updateCard should return a success message when updating a card in the collection&quot;</span><span class="hl-0">, (</span><span class="hl-5">done</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">testCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">        </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&quot;Test Card&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">5</span><span class="hl-0">, </span><br/><span class="hl-0">        </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&quot;Texto de reglas de la carta.&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10.0</span><br/><span class="hl-0">      };</span><br/><span class="hl-0">      </span><span class="hl-8">// Simulamos la existencia de una colección con una carta</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">[] = [</span><span class="hl-5">testCard</span><span class="hl-0">];</span><br/><span class="hl-0">      </span><span class="hl-8">// Simulamos la existencia de un objeto con la propiedad fileManager</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileManager</span><span class="hl-0"> = {</span><br/><span class="hl-0">        </span><span class="hl-1">getFilePath</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">&quot;fake/filepath&quot;</span><br/><span class="hl-0">      };</span><br/><span class="hl-0">      </span><span class="hl-8">// Llamamos a la función updateCard con el contexto adecuado y pasamos la colección</span><br/><span class="hl-0">      </span><span class="hl-5">updateCard</span><span class="hl-0">.</span><span class="hl-1">call</span><span class="hl-0">({ </span><span class="hl-5">collection</span><span class="hl-0">, </span><span class="hl-5">fileManager</span><span class="hl-0"> }, </span><span class="hl-5">testCard</span><span class="hl-0">, (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">error</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">message</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">&quot;Carta actualizada en la colección.&quot;</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-1">done</span><span class="hl-0">();</span><br/><span class="hl-0">      });</span><br/><span class="hl-0">    });</span><br/><br/><span class="hl-0">    </span><span class="hl-8">// PRUEBA QUE DEVUELVE UN MENSAJE DE ERROR CUANDO SE INTENTA ACTUALIZAR UNA CARTA QUE NO EXISTE</span><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&quot;updateCard should return an error message when attempting to update a card that does not exist&quot;</span><span class="hl-0">, (</span><span class="hl-5">done</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">testCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">        </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">2</span><span class="hl-0">, </span><span class="hl-8">// Cambiamos el ID para que no exista en la colección</span><br/><span class="hl-0">        </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&quot;Test Card&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">5</span><span class="hl-0">, </span><br/><span class="hl-0">        </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&quot;Texto de reglas de la carta.&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10.0</span><br/><span class="hl-0">      };</span><br/><span class="hl-0">      </span><span class="hl-8">// Simulamos la existencia de una colección vacía</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">[] = [];</span><br/><span class="hl-0">      </span><span class="hl-8">// Simulamos la existencia de un objeto con la propiedad fileManager</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileManager</span><span class="hl-0"> = {</span><br/><span class="hl-0">        </span><span class="hl-1">getFilePath</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">&quot;fake/filepath&quot;</span><br/><span class="hl-0">      };</span><br/><span class="hl-0">      </span><span class="hl-8">// Llamamos a la función updateCard con el contexto adecuado y pasamos la colección</span><br/><span class="hl-0">      </span><span class="hl-5">updateCard</span><span class="hl-0">.</span><span class="hl-1">call</span><span class="hl-0">({ </span><span class="hl-5">collection</span><span class="hl-0">, </span><span class="hl-5">fileManager</span><span class="hl-0"> }, </span><span class="hl-5">testCard</span><span class="hl-0">, (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">error</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-5">be</span><span class="hl-0">.</span><span class="hl-5">null</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">message</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">`La carta con ID </span><span class="hl-4">${</span><span class="hl-5">testCard</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> no existe en la colección.`</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-1">done</span><span class="hl-0">();</span><br/><span class="hl-0">      });</span><br/><span class="hl-0">    });</span><br/><br/><span class="hl-0">    </span><span class="hl-1">it</span><span class="hl-0">(</span><span class="hl-2">&#39;should return an error if the card does not exist in the collection&#39;</span><span class="hl-0">, (</span><span class="hl-5">done</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">testCard</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0"> = {</span><br/><span class="hl-0">        </span><span class="hl-5">id:</span><span class="hl-0"> </span><span class="hl-9">1</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">name:</span><span class="hl-0"> </span><span class="hl-2">&quot;Test Card&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">manaCost:</span><span class="hl-0"> </span><span class="hl-9">5</span><span class="hl-0">, </span><br/><span class="hl-0">        </span><span class="hl-5">color:</span><span class="hl-0"> </span><span class="hl-5">Color</span><span class="hl-0">.</span><span class="hl-5">Blanco</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">cardType:</span><span class="hl-0"> </span><span class="hl-5">LineType</span><span class="hl-0">.</span><span class="hl-5">Criatura</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rarity:</span><span class="hl-0"> </span><span class="hl-5">Rarity</span><span class="hl-0">.</span><span class="hl-5">Rara</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">rulesText:</span><span class="hl-0"> </span><span class="hl-2">&quot;Texto de reglas de la carta.&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">        </span><span class="hl-5">marketValue:</span><span class="hl-0"> </span><span class="hl-9">10.0</span><br/><span class="hl-0">      };</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">collection</span><span class="hl-0">: </span><span class="hl-12">Card</span><span class="hl-0">[] = [];</span><br/><span class="hl-0">      </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-10">fileManager</span><span class="hl-0"> = {</span><br/><span class="hl-0">        </span><span class="hl-1">getFilePath</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-2">&quot;fake/filepath&quot;</span><br/><span class="hl-0">      };</span><br/><span class="hl-0">      </span><span class="hl-5">updateCard</span><span class="hl-0">.</span><span class="hl-1">call</span><span class="hl-0">({ </span><span class="hl-5">collection</span><span class="hl-0">, </span><span class="hl-5">fileManager</span><span class="hl-0"> }, </span><span class="hl-5">testCard</span><span class="hl-0">, (</span><span class="hl-5">error</span><span class="hl-0">: </span><span class="hl-12">Error</span><span class="hl-0"> | </span><span class="hl-12">null</span><span class="hl-0">, </span><span class="hl-5">message</span><span class="hl-0">?: </span><span class="hl-12">string</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-1">expect</span><span class="hl-0">(</span><span class="hl-5">message</span><span class="hl-0">).</span><span class="hl-5">to</span><span class="hl-0">.</span><span class="hl-1">equal</span><span class="hl-0">(</span><span class="hl-2">`La carta con ID </span><span class="hl-4">${</span><span class="hl-5">testCard</span><span class="hl-13">.</span><span class="hl-5">id</span><span class="hl-4">}</span><span class="hl-2"> no existe en la colección.`</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-1">done</span><span class="hl-0">();</span><br/><span class="hl-0">      });</span><br/><span class="hl-0">    });</span><br/><span class="hl-0">  });</span><br/><span class="hl-0">});</span>
</code><button>Copy</button></pre>
<a id="md:pruebas-para-addcard" class="tsd-anchor"></a><h3><a href="#md:pruebas-para-addcard">Pruebas para <code>addCard</code></a></h3><ol>
<li><p><strong>Añadir una carta a la colección:</strong></p>
<ul>
<li>Se prueba que la función <code>addCard</code> añada una carta a la colección. Se simula una colección vacía y se pasa una carta para ser añadida. Se espera que el callback retorne un mensaje indicando que la carta fue añadida correctamente.</li>
</ul>
</li>
<li><p><strong>Intento de añadir una carta que ya existe:</strong></p>
<ul>
<li>Se prueba que la función <code>addCard</code> no añada una carta que ya existe en la colección. Se simula una colección que ya contiene una carta con el mismo ID que la que se intenta añadir. Se espera que el callback retorne un mensaje indicando que la carta ya existe en la colección.</li>
</ul>
</li>
</ol>
<a id="md:pruebas-para-updatecard" class="tsd-anchor"></a><h3><a href="#md:pruebas-para-updatecard">Pruebas para <code>updateCard</code></a></h3><ol>
<li><p><strong>Actualizar una carta en la colección:</strong></p>
<ul>
<li>Se prueba que la función <code>updateCard</code> actualice una carta en la colección. Se simula una colección que contiene una carta, y se intenta actualizar esa carta. Se espera que el callback retorne un mensaje indicando que la carta fue actualizada correctamente.</li>
</ul>
</li>
<li><p><strong>Intento de actualizar una carta que no existe:</strong></p>
<ul>
<li>Se prueba que la función <code>updateCard</code> no actualice una carta que no existe en la colección. Se simula una colección vacía y se intenta actualizar una carta que no está presente en ella. Se espera que el callback retorne un mensaje indicando que la carta no existe en la colección.</li>
</ul>
</li>
</ol>
<p>En cada prueba se utilizan stubs y mocks para simular el comportamiento de las dependencias externas, como el sistema de archivos (<code>fs</code>) y el administrador de archivos (<code>fileManager</code>). Esto garantiza que las pruebas se centren en el comportamiento específico de las funciones <code>addCard</code> y <code>updateCard</code>. Además, se utiliza <code>sinon</code> para espiar las llamadas a funciones y asegurarse de que se llamen correctamente dentro de las pruebas.</p>
<a id="md:13-conclusiones" class="tsd-anchor"></a><h1><a href="#md:13-conclusiones">13. Conclusiones.</a></h1><p>En esta práctica se logró implementar una aplicación cliente-servidor para coleccionistas de cartas Magic utilizando sockets en Node.js. La aplicación permite a múltiples usuarios interactuar simultáneamente con el servidor, realizando operaciones como añadir, modificar, eliminar, listar y mostrar cartas. La persistencia de la información se logra almacenando los datos de las cartas en ficheros JSON en el sistema de archivos del servidor. Se aplicaron principios de desarrollo dirigido por pruebas (TDD/BDD), utilizando pruebas unitarias para garantizar la estabilidad y calidad del código. Además, se incorporó documentación mediante TypeDoc y se configuraron flujos de trabajo en GitHub Actions para realizar pruebas automáticas y análisis de calidad del código.</p>
<p>En conclusión, esta práctica permitió consolidar conocimientos sobre el uso de sockets en Node.js, así como aplicar principios de diseño y metodologías de desarrollo que promueven la construcción de aplicaciones robustas y mantenibles. La implementación de la aplicación cliente-servidor para coleccionistas de cartas Magic demostró la capacidad para gestionar eficientemente las conexiones de múltiples usuarios y proporcionar una experiencia de usuario interactiva y segura.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:práctica-10----aplicación-cliente-servidor-para-coleccionistas-de-cartas-magic"><span>PRÁCTICA 10 -<wbr/>  <wbr/>Aplicación cliente-<wbr/>servidor para coleccionistas de cartas <wbr/>Magic</span></a><a href="#md:índice"><span>Índice</span></a><a href="#md:1-introducción"><span>1. <wbr/>Introducción.</span></a><a href="#md:2-objetivos"><span>2. <wbr/>Objetivos</span></a><a href="#md:3-antes-de-empezar"><span>3. <wbr/>Antes de empezar</span></a><ul><li><a href="#md:creación-de-directorios"><span>Creación de directorios.</span></a></li><li><a href="#md:configuración-para-llevar-a-cabo-la-práctica"><span>Configuración para llevar a cabo la práctica:</span></a></li><li><a href="#md:instalación-de-eslint"><span>Instalación de ESlint.</span></a></li><li><a href="#md:typedoc"><span>Typedoc.</span></a></li><li><ul><li><a href="#md:instalación-de-la-herramienta"><span>Instalación de la herramienta.</span></a></li><li><a href="#md:uso-básico"><span>Uso básico.</span></a></li><li><a href="#md:configuración"><span>Configuración.</span></a></li></ul></li><li><a href="#md:mocha-y-chai"><span>mocha y chai</span></a></li><li><ul><li><a href="#md:instalación-de-las-herramientas"><span>Instalación de las herramientas.</span></a></li><li><a href="#md:estructura-de-las-pruebas"><span>Estructura de las pruebas.</span></a></li><li><a href="#md:escribir-las-pruebas"><span>Escribir las pruebas.</span></a></li></ul></li><li><a href="#md:subir-archivos"><span>Subir archivos</span></a></li></ul><a href="#md:4-configuracion-de-istanbul-y-coveralls"><span>4. <wbr/>Configuracion de <wbr/>Istanbul y coveralls.</span></a><ul><li><ul><li><a href="#md:¿que-son"><span>¿<wbr/>Que son?</span></a></li><li><a href="#md:instalación"><span>Instalación</span></a></li><li><a href="#md:inicio-de-sesión-en-coveralls-para-el-cubrimiento-del-código"><span>Inicio de sesión en <wbr/>Coveralls para el cubrimiento del código</span></a></li></ul></li></ul><a href="#md:5-principios-solid"><span>5. <wbr/>Principios SOLID.</span></a><ul><li><a href="#md:¿cuáles-son"><span>¿<wbr/>Cuáles son?</span></a></li><li><ul><li><a href="#md:s---principio-de-responsabilidad-única-single-responsibility-principle---srp"><span>S -<wbr/> <wbr/>Principio de <wbr/>Responsabilidad Única (<wbr/>Single <wbr/>Responsibility <wbr/>Principle -<wbr/> SRP)</span></a></li><li><a href="#md:o---principio-de-abiertocerrado-openclosed-principle---ocp"><span>O -<wbr/> <wbr/>Principio de <wbr/>Abierto/<wbr/>Cerrado (<wbr/>Open/<wbr/>Closed <wbr/>Principle -<wbr/> OCP)</span></a></li><li><a href="#md:l---principio-de-sustitución-de-liskov-liskov-substitution-principle---lsp"><span>L -<wbr/> <wbr/>Principio de <wbr/>Sustitución de <wbr/>Liskov (<wbr/>Liskov <wbr/>Substitution <wbr/>Principle -<wbr/> LSP)</span></a></li><li><a href="#md:i---principio-de-segregación-de-interfaces-interface-segregation-principle---isp"><span>I -<wbr/> <wbr/>Principio de <wbr/>Segregación de <wbr/>Interfaces (<wbr/>Interface <wbr/>Segregation <wbr/>Principle -<wbr/> ISP)</span></a></li><li><a href="#md:d---principio-de-inversión-de-dependencia-dependency-inversion-principle---dip"><span>D -<wbr/> <wbr/>Principio de <wbr/>Inversión de <wbr/>Dependencia (<wbr/>Dependency <wbr/>Inversion <wbr/>Principle -<wbr/> DIP)</span></a></li></ul></li><li><a href="#md:importancia-y-beneficios"><span>Importancia y <wbr/>Beneficios</span></a></li></ul><a href="#md:6-github-actions"><span>6. <wbr/>Git<wbr/>Hub <wbr/>Actions</span></a><ul><li><a href="#md:¿qué-es"><span>¿<wbr/>Qué es?</span></a></li><li><a href="#md:características"><span>Características</span></a></li><li><ul><li><a href="#md:automatización-de-tareas"><span>Automatización de tareas</span></a></li><li><a href="#md:personalización"><span>Personalización</span></a></li><li><a href="#md:eventos-del-repositorio"><span>Eventos del repositorio</span></a></li><li><a href="#md:integración-con-el-ecosistema-de-github"><span>Integración con el ecosistema de <wbr/>Git<wbr/>Hub</span></a></li></ul></li><li><a href="#md:configuración-1"><span>Configuración</span></a></li></ul><a href="#md:7-módulos"><span>7. <wbr/>Módulos</span></a><a href="#md:8-sonarcloud"><span>8. <wbr/>Sonar<wbr/>Cloud</span></a><ul><li><ul><li><a href="#md:¿qué-es-sonarcloud"><span>¿<wbr/>Qué es <wbr/>Sonar<wbr/>Cloud?</span></a></li><li><a href="#md:características-de-sonarcloud"><span>Características de <wbr/>Sonar<wbr/>Cloud:</span></a></li></ul></li><li><a href="#md:configuración-2"><span>Configuración</span></a></li></ul><a href="#md:9-yargs-y-chalk"><span>9. <wbr/>Yargs y <wbr/>Chalk</span></a><ul><li><a href="#md:chalk-estilización-de-texto-en-consola"><span>Chalk: <wbr/>Estilización de <wbr/>Texto en <wbr/>Consola</span></a></li><li><a href="#md:yargs"><span>Yargs</span></a></li></ul><a href="#md:11-ejercicio"><span>11. EJERCICIO</span></a><ul><li><a href="#md:enunciado"><span>Enunciado.</span></a></li><li><a href="#md:código-propuesto"><span>Código propuesto.</span></a></li><li><ul><li><a href="#md:cardts"><span>Card.ts</span></a></li><li><a href="#md:userts"><span>User.ts</span></a></li><li><a href="#md:file-manager"><span>File <wbr/>Manager.</span></a></li><li><a href="#md:enumerationcolorts"><span>Enumeration<wbr/>Color.ts</span></a></li><li><a href="#md:enumerationlinetypets"><span>Enumeration<wbr/>Line<wbr/>Type.ts</span></a></li><li><a href="#md:enumerationrarityts"><span>Enumeration<wbr/>Rarity.ts</span></a></li><li><a href="#md:indexts"><span>index.ts</span></a></li><li><a href="#md:serverts"><span>Server.ts</span></a></li><li><a href="#md:eventemittersocketts"><span>Event<wbr/>Emitter<wbr/>Socket.ts</span></a></li></ul></li><li><a href="#md:explicación-de-lo-realizado"><span>Explicación de lo realizado.</span></a></li><li><ul><li><a href="#md:cardts-1"><span>Card.ts</span></a></li><li><a href="#md:filemanagerts"><span>File<wbr/>Manager.ts</span></a></li></ul></li><li><a href="#md:userts-1"><span>User.ts</span></a></li><li><ul><li><a href="#md:enumerationcolorts-1"><span>Enumeration<wbr/>Color.ts</span></a></li><li><a href="#md:enumerationlinetypets-1"><span>Enumeration<wbr/>Line<wbr/>Type.ts</span></a></li><li><a href="#md:enumerationrarityts-1"><span>Enumeration<wbr/>Rarity.ts</span></a></li><li><a href="#md:indexts-1"><span>index.ts</span></a></li><li><ul><li><ul><li><a href="#md:definición-de-comandos-y-opciones"><span>Definición de <wbr/>Comandos y <wbr/>Opciones</span></a></li><li><a href="#md:implementación-de-comandos"><span>Implementación de <wbr/>Comandos</span></a></li><li><a href="#md:interacción-con-el-servidor"><span>Interacción con el <wbr/>Servidor</span></a></li><li><a href="#md:ejecución-de-comandos"><span>Ejecución de <wbr/>Comandos</span></a></li></ul></li></ul></li><li><a href="#md:serverts-1"><span>Server.ts</span></a></li><li><ul><li><ul><li><a href="#md:comandos-disponibles"><span>Comandos <wbr/>Disponibles</span></a></li><li><a href="#md:implementación-del-servidor"><span>Implementación del <wbr/>Servidor</span></a></li><li><a href="#md:gestión-de-peticiones"><span>Gestión de <wbr/>Peticiones</span></a></li><li><a href="#md:envío-de-respuestas"><span>Envío de <wbr/>Respuestas</span></a></li></ul></li></ul></li><li><a href="#md:eventemittersocketts-1"><span>Event<wbr/>Emitter<wbr/>Socket.ts</span></a></li><li><ul><li><ul><li><a href="#md:constructor"><span>Constructor</span></a></li><li><a href="#md:eventos"><span>Eventos</span></a></li><li><a href="#md:funcionamiento"><span>Funcionamiento</span></a></li></ul></li></ul></li></ul></li><li><a href="#md:ejemplos-de-uso"><span>EJEMPLOS DE USO.</span></a></li><li><ul><li><a href="#md:ejemplo-de-actualizacion"><span>EJEMPLO DE ACTUALIZACION</span></a></li></ul></li><li><a href="#md:ejemplo-de-listar"><span>EJEMPLO DE LISTAR</span></a></li><li><ul><li><a href="#md:ejemplo-mostrar"><span>EJEMPLO MOSTRAR</span></a></li><li><a href="#md:ejemplo-de-eliminar"><span>EJEMPLO DE ELIMINAR</span></a></li></ul></li><li><a href="#md:pruebas-realizadas-y-coverage"><span>Pruebas realizadas y coverage</span></a></li><li><ul><li><a href="#md:cardspects"><span>Card.spec.ts</span></a></li><li><a href="#md:enumerationcolorspects"><span>Enumeration<wbr/>Color.spec.ts</span></a></li><li><a href="#md:enumerationlinetypespects"><span>Enumeration<wbr/>Line<wbr/>Type.spec.ts</span></a></li><li><a href="#md:enumerationrarityspects"><span>Enumeration<wbr/>Rarity.spec.ts</span></a></li><li><a href="#md:filemanagerspects"><span>File<wbr/>Manager.spec.ts</span></a></li></ul></li><li><a href="#md:userspects"><span>User.spec.ts</span></a></li><li><a href="#md:indexspects"><span>Index.spec.ts</span></a></li><li><ul><li><ul><li><a href="#md:descripción-de-las-pruebas"><span>Descripción de las <wbr/>Pruebas</span></a></li></ul></li></ul></li><li><a href="#md:serverspects"><span>Server.spec.ts</span></a></li><li><ul><li><ul><li><a href="#md:descripción-de-las-pruebas-1"><span>Descripción de las <wbr/>Pruebas</span></a></li></ul></li></ul></li><li><a href="#md:eventemittersocketspects"><span>Event<wbr/>Emitter<wbr/>Socket.spec.ts</span></a></li><li><ul><li><ul><li><a href="#md:descripción-de-las-pruebas-2"><span>Descripción de las <wbr/>Pruebas</span></a></li></ul></li></ul></li></ul><a href="#md:12-modificación"><span>12. <wbr/>Modificación.</span></a><ul><li><a href="#md:enunciado-1"><span>Enunciado:</span></a></li><li><a href="#md:código-propuesto-1"><span>Código propuesto</span></a></li><li><ul><li><a href="#md:explicación-de-lo-realizado-1"><span>Explicación de lo realizado.</span></a></li><li><ul><li><a href="#md:función-addcard"><span>Función add<wbr/>Card</span></a></li><li><a href="#md:función-updatecard"><span>Función update<wbr/>Card</span></a></li></ul></li></ul></li><li><a href="#md:pruebas-realizadas"><span>Pruebas realizadas.</span></a></li><li><ul><li><a href="#md:pruebas-para-addcard"><span>Pruebas para add<wbr/>Card</span></a></li><li><a href="#md:pruebas-para-updatecard"><span>Pruebas para update<wbr/>Card</span></a></li></ul></li></ul><a href="#md:13-conclusiones"><span>13. <wbr/>Conclusiones.</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>ull-esit-inf-dsi-23-24-prct10-fs-proc-sockets-magic-app-albaaperez</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>